{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./#src/js/components/adaptiveSizes.js","webpack:///./#src/js/components/addField.js","webpack:///./#src/js/components/addFieldGroup.js","webpack:///./#src/js/components/decMoreInfo.js","webpack:///./#src/js/components/dropFiles.js","webpack:///./#src/js/components/mobMenu.js","webpack:///./#src/js/components/modals.js","webpack:///./#src/js/components/searchResults.js","webpack:///./#src/js/components/select.js","webpack:///./#src/js/components/stepChange.js","webpack:///./#src/js/components/tableAdaptive.js","webpack:///./#src/js/components/tableHead.js","webpack:///./#src/js/components/tabsFunc.js","webpack:///./#src/js/components/thirdPart.js","webpack:///./#src/js/components/tooltip.js","webpack:///./#src/js/script.js","webpack:///./node_modules/@popperjs/core/lib/createPopper.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///./node_modules/@popperjs/core/lib/enums.js","webpack:///./node_modules/@popperjs/core/lib/index.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/index.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///./node_modules/@popperjs/core/lib/popper-lite.js","webpack:///./node_modules/@popperjs/core/lib/popper.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///./node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///./node_modules/@popperjs/core/lib/utils/format.js","webpack:///./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///./node_modules/@popperjs/core/lib/utils/math.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///./node_modules/@popperjs/core/lib/utils/uniqueBy.js","webpack:///./node_modules/@popperjs/core/lib/utils/validateModifiers.js","webpack:///./node_modules/@popperjs/core/lib/utils/within.js","webpack:///./node_modules/choices.js/public/assets/scripts/choices.js","webpack:///./node_modules/fine-uploader/fine-uploader/fine-uploader.js","webpack:///./node_modules/fine-uploader/lib/traditional.js","webpack:///./node_modules/micromodal/dist/micromodal.es.js","webpack:///./node_modules/scroll-lock/dist/scroll-lock.js","webpack:///./node_modules/tippy.js/dist/tippy.esm.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","adaptiveSizes","document","querySelector","querySelectorAll","addField","addEmail","addTel","emailInput","createElement","setAttribute","style","cssText","telInput","addEmailBtn","addTelBtn","addEventListener","append","e","addFieldGroup","flGrAadd","delField","forEach","console","log","parentElement","remove","insertAdjacentHTML","decMoreInfo","infoEl","infoBtn","infoClose","classList","add","disablePageScroll","enablePageScroll","dropFiles","ff","length","FineUploader","element","template","thumbnails","placeholders","validation","allowedExtensions","messages","typeError","multiple","deleteFile","enabled","forceConfirm","endpoint","callbacks","onComplete","onCancel","wr","text","mobMenu","menu","menuContent","menuBtn","target","contains","modals","MicroModal","init","searchResults","results","result","select","selectEls","Choices","allowHTML","itemSelectText","noResultsText","stepChange","radioBtns","formNames","btn","index","checked","innerHTML","tableAdaptive","tb","tbWrap","tbItem","tbGradR","tbGradL","scrollWidth","clientWidth","opacity","scrollLeft","tableHead","tableHeads","item","tabsFunc","wrapper","parent","tabs","content","tabsWrapper","tabsParent","tabsEl","tabsContent","hideTabs","showTabs","tar","dataset","tab","thirdPart","tooltip","tippy","placement","arrow","INVALID_ELEMENT_ERROR","DEFAULT_OPTIONS","modifiers","strategy","areValidElements","_len","arguments","args","Array","_key","some","getBoundingClientRect","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","options","state","orderedModifiers","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","concat","filter","_ref","find","_ref2","error","join","_getComputedStyle","marginTop","marginRight","marginBottom","marginLeft","margin","parseFloat","warn","_ref3","_ref3$options","effect","cleanupFn","push","update","forceUpdate","_state$elements","rects","reset","modifier","data","__debug_loops__","_state$orderedModifie","fn","_state$orderedModifie2","_options","Promise","resolve","destroy","then","onFirstUpdate","createPopper","child","rootNode","getRootNode","next","isSameNode","parentNode","host","includeScale","rect","scaleX","scaleY","offsetHeight","offsetWidth","width","height","top","right","bottom","left","x","y","getClientRectFromMixedType","clippingParent","clientTop","clientLeft","clientHeight","getInnerBoundingClientRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","indexOf","position","getClippingParents","firstClippingParent","clippingRect","reduce","accRect","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","documentElement","scroll","scrollTop","offsets","getComputedStyle","getDocumentElement","ownerDocument","window","getDocumentRect","_element$ownerDocumen","html","winScroll","body","scrollHeight","direction","getHTMLElementScroll","getLayoutRect","clientRect","Math","abs","offsetLeft","offsetTop","getNodeName","nodeName","toLowerCase","getNodeScroll","node","getTrueOffsetParent","getOffsetParent","isFirefox","navigator","userAgent","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","getParentNode","assignedSlot","getScrollParent","getViewportRect","win","visualViewport","test","getWindow","toString","defaultView","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBarX","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","isScrollParent","overflow","overflowX","overflowY","isTableElement","listScrollParents","list","scrollParent","isBody","updatedList","auto","basePlacements","start","end","viewport","variationPlacements","acc","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","phase","keys","removeAttribute","initialStyles","attribute","requires","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","len","paddingObject","padding","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","min","max","center","offset","axisProp","centerOffset","_options$element","requiresIfExists","unsetSides","mapToStyles","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","transitionProperty","passive","_options$scroll","_options$resize","resize","removeEventListener","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","set","_loop","_i","fittingPlacement","slice","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","computeAutoPlacement","_options$allowedAutoP","allowedPlacements","overflows","sort","a","b","computeOffsets","commonX","commonY","debounce","pending","undefined","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","expandToHashMap","hashMap","format","str","replace","getAltAxis","getBasePlacement","split","getFreshSideObject","getMainAxisFromPlacement","hash","getOppositePlacement","matched","getOppositeVariationPlacement","getVariation","round","mergeByName","merged","current","existing","map","mergePaddingObject","order","visited","Set","has","dep","depModifier","orderModifiers","rectToClientRect","uniqueBy","arr","identifiers","identifier","INVALID_MODIFIER_ERROR","VALID_PROPERTIES","validateModifiers","self","String","isArray","requirement","mod","within","withinMaxClamp","v","factory","__webpack_modules__","282","__unused_webpack_module","clearChoices","activateChoices","filterChoices","addChoice","constants_1","_a","label","id","groupId","disabled","elementId","customProperties","placeholder","keyCode","type","ACTION_TYPES","ADD_CHOICE","FILTER_CHOICES","active","ACTIVATE_CHOICES","CLEAR_CHOICES","783","addGroup","ADD_GROUP","464","highlightItem","removeItem","addItem","choiceId","ADD_ITEM","REMOVE_ITEM","highlighted","HIGHLIGHT_ITEM","137","setIsLoading","resetTo","clearAll","CLEAR_ALL","RESET_TO","isLoading","SET_IS_LOADING","373","__spreadArray","this","to","from","pack","ar","__importDefault","deepmerge_1","fuse_js_1","choices_1","groups_1","items_1","misc_1","components_1","defaults_1","utils_1","reducers_1","store_1","templates_1","IS_IE11","USER_DEFAULTS","userConfig","_this","config","default","all","DEFAULT_CONFIG","defaults","arrayMerge","_","sourceArray","invalidConfigOptions","diff","passedElement","HTMLInputElement","HTMLSelectElement","TypeError","_isTextElement","TEXT_TYPE","_isSelectOneElement","SELECT_ONE_TYPE","_isSelectMultipleElement","SELECT_MULTIPLE_TYPE","_isSelectElement","searchEnabled","includes","renderSelectedChoices","addItemFilter","re","RegExp","WrappedInput","classNames","delimiter","WrappedSelect","_templates","option","initialised","_store","_initialState","defaultState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","generateId","_direction","dir","elementDirection","_idNames","itemChoice","_presetGroups","optionGroups","_presetOptions","_presetChoices","choices","_presetItems","items","splitValues","selected","hasAttribute","_render","_onFocus","_onBlur","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","isActive","silent","preventExtensions","configurable","_createTemplates","_createElements","_createStructure","subscribe","_addEventListeners","addItems","disable","callbackOnInit","_removeEventListeners","reveal","containerOuter","unwrap","clearStore","enable","isDisabled","input","runEvent","_b","_c","group","getGroupById","dispatch","triggerEvent","EVENTS","groupValue","unhighlightItem","highlightAll","unhighlightAll","removeActiveItemsByValue","activeItems","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","showDropdown","preventInputFocus","dropdown","requestAnimationFrame","show","open","distanceFromTopWindow","focus","hideDropdown","preventInputBlur","hide","close","removeActiveDescendant","blur","getValue","valueOnly","values","selectedItems","itemValue","setValue","_setChoiceOrItem","setChoiceByValue","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","ReferenceError","fetcher_1","_handleLoadingState","catch","err","removeLoadingState","_startLoading","groupOrChoice","_addGroup","parseInt","valueKey","labelKey","choice","_addChoice","isSelected","_stopLoading","clearInput","shouldSetInputWidth","clear","_isSearching","stateChanged","groups","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","activeGroups","activeChoices","choiceListFragment","createDocumentFragment","choiceList","resetScrollPosition","scrollToTop","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","_highlightChoice","notice","_getTemplate","dropdownItem","noChoicesText","itemList","itemListFragment","_createItemsFragment","fragment","shouldSort","sorter","groupChoices","getGroupChoices","dropdownGroup","appendChild","withinGroup","searchResultLimit","renderChoiceLimit","sortByScore","appendChoice","rendererableChoices","placeholderChoices","normalChoices","choiceLimit","sortedChoices","shouldSortItems","removeItemButton","listItem","change","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","removeItems","itemId","itemToRemove","_handleItemAction","hasShiftKey","passedId","_handleChoiceAction","getChoiceById","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","editItems","setWidth","setLoading","placeholderItem","getChild","addLoadingState","loadingText","_handleSearch","isFocussed","searchFloor","searchChoices","hasUnactiveChoices","resultCount","_searchChoices","search","addItemText","isDuplicateValue","existsInArray","maxItemCount","maxItemText","duplicateItemsAllowed","uniqueItemText","customAddItemText","newValue","trim","currentValue","haystack","searchableChoices","needle","fuseOptions","searchFields","includeMatches","form","addEventListeners","removeEventListeners","event","hasFocusedInput","hasItems","hasChildren","keyString","fromCharCode","wasAlphaNumericChar","BACK_KEY","KEY_CODES","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","backKey","deleteKey","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","rawValue","ctrlKey","metaKey","activeElement","enterKey","targetWasButton","preventDefault","highlightedChoice","highlightedState","downKey","pageUpKey","pageDownKey","directionInt","nextEl","currentEl","getAdjacentEl","isScrolledIntoView","scrollToChildElement","touches","containerInner","stopPropagation","firstChoice","firstElementChild","isOnScrollbar","offsetX","closest","shiftKey","removeFocusState","addFocusState","hasHighlightedItems_1","el","passedEl","highlightChoice","setActiveDescendant","_d","_e","_f","_g","passedValue","passedLabel","passedOptionId","prependValue","appendValue","_h","choiceLabel","choiceElementId","isType","getElementsByTagName","floor","Date","valueOf","random","isOptDisabled","apply","callbackOnCreateTemplates","userTemplates","strToEl","Container","Input","preventPaste","paste","List","Dropdown","conceal","wrap","searchPlaceholderValue","insertBefore","firstChild","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","placeholderOption","tagName","hasSelectedChoice","firstEnabledChoiceIndex","findIndex","string","getType","foundChoice","valueComparer","placeholderValue","613","isOpen","isFlipped","shouldFlip","dropdownPos","matchMedia","matches","activeDescendantID","openState","flippedState","focusState","disabledState","removeChild","loadingState","217","selector","activeState","520","dropdown_1","container_1","input_1","list_1","wrapped_input_1","wrapped_select_1","11","isEqualNode","_onPaste","_onInput","sanitise","minWidth","624","scrollPos","hasChildNodes","listHeight","listScrollPosition","elementHeight","elementPos","destination","_animateScroll","_scrollDown","strength","easing","_scrollUp","SCROLLING_SPEED","choiceListScrollTop","continueAnimation","730","WrappedElement","hidden","tabIndex","origStyle","getAttribute","eventType","dispatchEvent","541","extendStatics","__extends","setPrototypeOf","__proto__","__","constructor","_super","982","optionData","appendDocFragment","883","789","DEFAULT_CLASSNAMES","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","groupHeading","button","selectedState","noResults","noChoices","sortByAlpha","value1","value2","includeScore","18","978","948","359","285","533","187","__createBinding","k","k2","__exportStar","287","132","837","598","37","369","47","923","876","799","tmpEl","cloneObject","generateChars","getRandomNumber","prefix","obj","nextSibling","startEl","prop","sibling","cleanedInput","firldChild","children","label2","localeCompare","sensitivity","ignorePunctuation","numeric","score","scoreA","customArgs","CustomEvent","detail","bubbles","cancelable","array","JSON","parse","stringify","aKeys","bKeys","273","action","addChoiceAction","addItemAction_1","removeItemAction_1","filterChoicesAction_1","activateChoicesAction_1","871","addGroupAction","655","redux_1","loading_1","loading","appReducer","combineReducers","passedState","52","addItemAction","highlightItemAction_1","502","744","index_1","Store","createStore","__REDUX_DEVTOOLS_EXTENSION__","onChange","getState","selectableChoices","reverse","hasActiveOptions","686","templates","isSelectElement","isSelectOneElement","passedElementType","div","className","isPlaceholder","deletable","removeButton","choiceGroup","selectText","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","innerText","classes","opt","Option","996","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","source","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","mergeObject","propertyIsUnsafe","customMerge","getMergeFunction","sourceIsArray","Error","prev","221","__webpack_exports__","getTag","isString","isNumber","isBoolean","isObject","isObjectLike","isDefined","isBlank","Fuse","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","path","src","createKeyPath","createKeyId","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","Config","isCaseSensitive","sortFn","idx","findAllMatches","minMatchCharLength","location","threshold","useExtendedSearch","getFn","deepGet","baseToString","ignoreLocation","ignoreFieldNorm","fieldNormWeight","SPACE","FuseIndex","norm","mantissa","cache","pow","numTokens","match","isCreated","setIndexRecords","docs","records","_keysMap","doc","docIndex","_addString","_addObject","size","splice","record","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","createIndex","myIndex","setKeys","setSources","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","charAt","isMatch","indices","matchmask","convertMaskToIndices","createPatternAlphabet","char","BitapSearch","chunks","addChunk","startIndex","alphabet","remainder","substr","allIndices","totalScore","hasMatches","BaseMatch","getMatch","multiRegex","singleRegex","exp","FuzzyMatch","super","_bitapSearch","searchIn","IncludeMatch","searchers","startsWith","endsWith","searchersLen","SPACE_RE","MultiMatchSet","ExtendedSearch","query","queryItem","found","searcher","token","isMultiMatch","isSingleMatch","parseQuery","numMatches","qLen","pLen","registeredSearchers","createSearcher","searcherClass","condition","LogicalOperator","KeyType","isExpression","convertToExplicit","isQueryPath","isPath","isLeaf","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","operator","transformMatches","refIndex","transformScore","_keyStore","setCollection","_docs","_myIndex","predicate","removeAt","limit","_searchStringList","_searchObjectList","_searchLogical","Number","EPSILON","computeScore","transformers","transformer","expression","evaluate","_findMatches","getValueForItemAtKeyId","res","resultMap","expResults","version","parseIndex","register","857","_defineProperty","writable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","formatProdErrorMessage","code","ActionTypes","applyMiddleware","bindActionCreators","compose","$$observable","observable","randomString","substring","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","actionCreators","boundActionCreators","funcs","arg","middlewares","store","_dispatch","middlewareAPI","chain","middleware","__webpack_module_cache__","cachedModule","definition","_scripts_choices__WEBPACK_IMPORTED_MODULE_0__","_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default","global","qq","display","attach","attachEvent","detach","detachEvent","descendant","compareDocumentPosition","elementB","filters","extend","hasClass","considerParent","addClass","removeClass","getByClass","first","candidates","each","getFirstByClass","nodeType","setText","textContent","clearText","attrName","attrVal","exec","ExifRestorer","canvasToBlob","canvas","mime","quality","dataUriToBlob","toDataURL","dataUri","arrayBuffer","byteString","intArray","mimeString","BlobBuilder","blobBuilder","atob","decodeURI","ArrayBuffer","Uint8Array","character","charCodeAt","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","Blob","message","level","variable","isFunction","buffer","isItemList","maybeItemList","isNodeList","maybeNodeList","namedItem","maybeString","trimStr","newStr","nextIdxToReplace","strBefore","strAfter","isFile","maybeFile","File","isFileList","maybeFileList","FileList","isFileOrInput","maybeFileOrInput","isInput","maybeInput","notFile","evaluateType","normalizedType","isBlob","maybeBlob","isXhrUploadSupported","FormData","createXhrInstance","upload","XMLHttpRequest","ActiveXObject","isFolderDropSupported","dataTransfer","webkitGetAsEntry","isFileChunkingSupported","androidStock","webkitSlice","mozSlice","sliceBlob","fileOrBlob","arrayBufferToHex","bytesAsHex","bytes","byt","byteAsHexStr","readBlobToHex","blob","startOffset","initialBlob","fileReader","FileReader","promise","onload","success","onerror","failure","readAsArrayBuffer","second","extendNested","override","sourceFn","super_","srcPropName","srcPropVal","elt","getUniqueId","ie","ie7","ie8","ie10","ie11","edge","safari","vendor","chrome","opera","firefox","windows","platform","android","ios6","ios","ios7","ios8","ios800","iosChrome","iosSafari","iosSafariWebView","returnValue","toElement","iterableItem","callback","keyOrIndex","Storage","getItem","oldFunc","context","newArgs","obj2url","temp","prefixDone","uristrings","nextObj","nextTemp","encodeURIComponent","obj2FormData","formData","arrayKeyName","obj2Inputs","parseJson","json","eval","getExtension","filename","extIdx","lastIndexOf","getFilename","blobOrFileInput","fileName","DisposeSupport","disposers","dispose","disposer","shift","addDisposer","disposeFunction","supportedFeatures","supportsUploading","supportsUploadingBlobs","supportsFileDrop","supportsAjaxFileUploading","supportsFolderDrop","supportsChunking","supportsResume","supportsUploadViaPaste","supportsUploadCors","supportsDeleteFileXdr","supportsDeleteFileCorsXhr","supportsDeleteFileCors","supportsFolderSelection","supportsImagePreviews","supportsUploadProgress","span","isCrossOriginXhrSupported","withCredentials","isXdrSupported","XDomainRequest","tempInput","supported","ex","testSupportsFileInputElement","localStorage","setItem","isLocalStorageSupported","postMessage","webkitdirectory","ajaxUploading","blobUploading","canDetermineSize","chunking","deleteFileCors","deleteFileCorsXdr","deleteFileCorsXhr","dialogElement","HTMLDialogElement","fileDrop","folderDrop","folderSelection","imagePreviews","imageValidation","itemSizeValidation","pause","progressBar","resume","scaling","tiffPreviews","unlimitedScaledImageSize","uploading","uploadCors","uploadCustomHeaders","uploadNonMultipart","uploadViaPaste","isGenericPromise","maybePromise","successArgs","failureArgs","successCallbacks","failureCallbacks","doneCallbacks","onSuccess","onFailure","done","BlobProxy","referenceBlob","onCreate","UploadButton","buttonId","disposeSupport","acceptFiles","focusClass","folders","hoverClass","ios8BrowserCrashWorkaround","title","createInput","BUTTON_ID_ATTR_NAME","setMultiple","fontFamily","fontSize","cursor","getInput","getButtonId","isMultiple","optInput","setAcceptFiles","UploadData","uploaderProxy","byUuid","byStatus","byProxyGroupId","byBatchId","getDataByIds","idOrIds","entries","addFile","spec","status","SUBMITTING","originalName","uuid","file","batchId","proxyGroupId","onBeforeStatusChange","onStatusChange","retrieve","optionalFilter","uuids","getDataByUuids","statusResults","statuses","statusEnum","statusResultIndexes","dataIndex","removeFileRef","setStatus","newStatus","oldStatus","byStatusOldStatusIndex","uuidChanged","newUuid","oldUuid","updateName","newName","updateSize","newSize","setParentId","targetId","parentId","getIdsInProxyGroup","getIdsInBatch","SUBMITTED","REJECTED","QUEUED","CANCELED","PAUSED","UPLOADING","UPLOAD_FINALIZING","UPLOAD_RETRYING","UPLOAD_SUCCESSFUL","UPLOAD_FAILED","DELETE_FAILED","DELETING","DELETED","basePublicApi","addBlobs","blobDataOrArray","params","addFiles","addInitialFiles","cannedFileList","cannedFile","_addCannedFile","_maybeHandleIos8SafariWorkaround","_storedIds","_currentBatchId","processBlob","_handleNewFile","blobs","defaultName","verifiedFiles","processBlobData","blobData","processCanvas","processCanvasData","canvasData","normalizedQuality","processFileOrInput","fileOrInput","files","fileContainer","_prepareItemsForUpload","cancel","uploadData","_uploadData","getName","_handler","cancelAll","storedIdsCopy","storedFileId","clearStoredFiles","continueUpload","_uploadFile","_onSubmitDelete","doesExist","fileOrBlobId","isValid","drawThumbnail","fileId","imgOrCanvas","maxSize","fromServer","customResizeFunction","fileOrUrl","promiseToReturn","_imageGenerator","_thumbnailUrls","scale","getFile","container","generate","modifiedContainer","reason","getButton","_getButton","_buttonIdsForFileIds","getEndpoint","_endpointStore","uploadDataRecord","getInProgress","getParentId","uploadDataEntry","getUploads","getResumableFilesData","getSize","getNetUploads","_netUploaded","getRemainingAllowedItems","allowedItems","_currentItemLimit","_netUploadedOrQueued","getUuid","isResumable","hasResumeRecord","debug","pauseUpload","expunge","_autoRetries","_retryTimeouts","_preventRetries","_buttons","_paramsStore","_pasteHandler","session","refreshOnReset","_refreshSessionData","_succeededSinceLastAllComplete","_failedSinceLastAllComplete","_totalProgress","_customResumeDataStore","retry","_manualRetry","scaleImage","specs","Scaler","setCustomHeaders","headers","_customHeadersStore","setCustomResumeData","setDeleteFileCustomHeaders","_deleteFileCustomHeadersStore","setDeleteFileEndpoint","_deleteFileEndpointStore","setDeleteFileParams","_deleteFileParamsStore","setEndpoint","setForm","elementOrId","_updateFormSupportAndParams","setItemLimit","newItemLimit","setName","setParams","setUuid","_onDeleteComplete","errorMessage","uploadStoredFiles","_itemError","_uploadStoredFiles","basePrivateApi","sessionData","deleteFileEndpoint","deleteFileParams","thumbnailUrl","_annotateWithButtonId","associatedInput","qqButtonId","_getButtonId","_batchError","onError","_createDeleteHandler","DeleteFileAjaxRequester","method","toUpperCase","maxConnections","uuidParamName","request","uuidName","customHeaders","paramsStore","endpointStore","cors","onDelete","_onDelete","onDeleteComplete","xhrOrXdr","isError","_createPasteHandler","PasteSupport","targetElement","pasteReceived","_handleCheckedCallback","onPasteReceived","_handlePasteSuccess","_createStore","initialValue","_readOnlyValues_","catchall","perIdReadOnlyValues","readOnlyValues","copy","orig","includeReadOnlyValues","addReadOnly","_createUploadDataTracker","_onUploadStatusChange","_maybeAllComplete","setTimeout","_createUploadButton","accept","buttonFocus","buttonHover","workarounds","ios8BrowserCrash","iosEmptyVideos","_isAllowedExtension","inputName","_onInputChange","fileInputTitle","_disposeSupport","_createUploadHandler","additionalOptions","namespace","lastOnProgress","preventRetryParam","preventRetryResponseProperty","onProgress","loaded","total","_onProgress","xhr","retVal","_onComplete","cancelFinalizationEffort","_onCancel","onUploadPrep","_onUploadPrep","onUpload","_onUpload","onUploadResult","onUploadChunk","chunkData","_onUploadChunk","onUploadChunkResult","partIndex","onUploadChunkSuccess","_onUploadChunkSuccess","onResume","customResumeData","onAutoRetry","responseJSON","_onAutoRetry","onUuidChanged","setSize","_setSize","getDataByUuid","isQueued","isInProgress","getCustomResumeData","_getCustomResumeData","UploadHandlerController","_fileOrBlobRejected","_formatSize","sizeSymbols","toFixed","_generateExtraButtonSpecs","_extraButtonSpecs","extraButtons","extraButtonOptionEntry","extraButtonSpec","_initExtraButton","extraButtonsSpec","_defaultButtonId","buttonOrFileInputOrFile","inputs","fileInput","fileBlobOrInput","_getNotFinished","_getValidationBase","_getValidationDescriptor","fileWrapper","_getValidationDescriptors","fileWrappers","fileDescriptors","_handleCameraAccess","camera","optionRoot","details","callbackRetVal","successParam","newFileWrapperList","actualFile","handler","_customNewFileHandler","_handleNewFileGeneric","addFileToHandler","_trackButton","fileList","extSuppliedName","extension","_handleDeleteSuccess","_handleDeleteFailed","_initFormSupportAndParams","_formSupport","FormSupport","attachedToForm","getFormInputsAsObject","autoUpload","newAutoUpload","newEndpoint","_isDeletePossible","expected","allowXdr","allowed","valid","allowedExt","extRegex","maybeNameOrNames","extensionsForMessage","placeholderMatch","names","validationBase","replacement","allowedExtension","formatFileName","sizeLimit","minSizeLimit","_onBeforeManualRetry","notFinished","_onAllComplete","ios8SafariUploads","alert","unsupportedBrowserIos8Safari","_maybeParseAndSendUploadError","errorReason","defaultResponseError","_maybeProcessNextItemAfterOnValidateCallback","validItem","stopOnFirstInvalidFile","validationDescriptor","onValidate","_onValidateCallbackSuccess","_onValidateCallbackFailure","successful","failed","onAllComplete","_shouldAutoRetry","retryWaitPeriod","autoAttemptDelay","_onBeforeAutoRetry","itemLimit","onManualRetry","clearTimeout","storedItemIndex","fileIndex","onIndividualProgress","_onSubmit","_onSubmitCallbackSuccess","_onSubmitted","onSubmitted","_storeForLater","onSuccessCallback","additionalMandatedParams","adjustedOnSuccessCallback","onSubmitDelete","_deleteHandler","sendDelete","_onTotalProgress","onTotalProgress","enableAuto","_onValidateBatchCallbackFailure","_onValidateBatchCallbackSuccess","validationDescriptors","proposedNetFilesUploadedOrQueued","tooManyItemsError","nextIndex","_validateFileOrBlobData","_upload","onValidateBatch","_preventLeaveInProgress","onLeave","Session","_session","addFileRecord","refresh","_sessionRequestComplete","onSessionRequestComplete","onNewSize","maxAutoAttempts","formElementOrId","onSubmit","idToUpload","stillSubmitting","validityChecker","allowEmpty","ImageValidation","validate","image","errorCode","_wrapCallbacks","safeCallback","errorMsg","exception","callbackName","callbackFunc","FineUploaderBasic","disableCancelForFormUploads","warnBeforeUnload","filenameParam","forceMultipart","omitDefaultParams","paramsInBody","requireSuccessJson","totalFileSizeName","maxHeight","maxWidth","minHeight","maybeXhr","maybeXhrOrXdr","attemptNumber","fileOrBlobData","sizeError","minSizeError","emptyError","noFilesError","maxHeightImageError","maxWidthImageError","minHeightImageError","minWidthImageError","retryFailTooManyItems","concurrent","mandatory","paramNames","partByteOffset","chunkSize","totalFileSize","totalParts","partSize","jsonPayload","resetOnStatus","recordsExpireIn","resuming","customKeys","fileOrBlobName","sendCredentials","interceptSubmit","customResizer","sendOriginal","orient","defaultType","defaultQuality","failureText","includeExif","sizes","ImageGenerator","_scaler","handleNewFile","TotalProgress","entry","AjaxRequester","shouldParamsBeInQueryString","queue","requestData","acceptHeader","validMethods","contentType","mandatedParams","allowXRequestedWithAndCacheControl","successfulResponseCodes","DELETE","PATCH","POST","PUT","GET","onSend","isXdr","getXhrOrXdr","suppliedXhr","ontimeout","onprogress","getCorsAjaxTransport","dequeue","sendRequest","xdrError","responseCode","optXhr","url","onDemandParams","additionalParams","getParams","payload","additionalQueryParams","addToPath","createUrl","getXdrLoadHandler","getXdrErrorHandler","onreadystatechange","readyState","getXhrReadyStateChangeHandler","lengthComputable","registerForUploadProgress","onDemandHeaders","additionalHeaders","allHeaders","setRequestHeader","containsNonSimple","header","setHeaders","send","initTransport","cacheBuster","withPath","appendToPath","withParams","withQueryParams","_additionalQueryParams_","withHeaders","withPayload","thePayload","withCacheBuster","qqtimestamp","getTime","prepareToSend","canceled","UploadHandler","proxy","fileState","fileItem","getThirdPartyFileId","_getFileState","_setThirdPartyFileId","thirdPartyFileId","_wasCanceled","preventRetryResponse","controller","chunkingPossible","concurrentChunkingPossible","chunked","chunkIdx","_getChunkData","attemptingResume","chunkProgress","_getChunkDataForCallback","finalize","finalizeChunks","normaizedResponse","normalizeResponse","_maybeDeletePersistedChunkData","cleanup","normalizedResponse","handleFailure","clearCachedChunk","inProgressIdx","responseToReport","inProgressChunksArray","inProgress","remaining","unshift","ignoreFailure","_getXhrs","ckid","ckXhr","abort","_cancelled","moveInProgressToRemaining","connectionManager","free","hasMoreParts","nextPart","nextIdx","_getTotalChunks","reevaluateChunking","sendNext","inProgressChunks","available","requestOverrides","uploadChunkData","overrides","uploadChunk","inProgressChunkIdx","_maybePersistChunkedState","clearXhr","_open","_openChunks","_waiting","openChunkEntriesCount","openChunksCount","openChunkIndexes","dontAllowNext","nextId","allowNext","waitingIndex","connectionsIndex","getProxyOrBlob","getWaitingOrConnected","waitingOrConnected","isUsingConnection","openChunksEntry","simple","uploadFile","maybeNewUuid","_clearXhrs","getProxy","initHandler","handlerType","traditional","handlerModuleSubtype","onFinalizing","_removeExpiredChunkingRecords","isDeferredEligibleForUpload","maybeDefer","generatedBlob","updateBlob","maybeSendDeferredFiles","errorResponse","idsInGroup","uploadedThisId","idInGroup","now","originalResponse","_shouldChunkThisFile","blobToUpload","cancelRetVal","isProxied","_getLocalStorageId","isAttemptingResume","WindowReceiveMessage","callbackWrapperDetachers","receiveMessage","stopReceivingMessages","detacher","FormUploadHandler","formHandlerInstanceId","onloadCallbacks","detachLoadEvents","postMessageCallbackTimers","isCors","corsMessageReceiver","getFileIdForIframeName","iframeName","iframe","getElementById","_getIframeName","expungeFile","_attachLoadEvent","responseDescriptor","onloadCallback","_parseJsonResponse","_detachLoadEvent","registerPostMessageCallback","contentDocument","_createIframe","initIframeForUpload","_initFormForUpload","targetName","innerHtmlOrMessage","XhrUploadHandler","getChunkSize","chunkFiles","resumeEnabled","xhrId","ajaxRequester","_getAjaxRequester","blobOrProxy","_initTempState","_maybePrepareForResume","cachedChunks","tempState","xhrs","ajaxRequesters","responseParser","lastChunkIdx","_getXhr","resumableFilesData","_iterateResumeRecords","notResumable","optInProgress","optRemaining","chunkingState","paused","totalChunks","parts","newBlob","chunkId","_createXhr","optChunkIdx","_registerXhr","chunkIndex","fileSize","startBytes","endBytes","part","count","startByte","endByte","localStorageId","_getMimeType","_getPersistableData","ceil","_markNotResumable","persistedData","lastUpdated","_registerProgressHandler","progressCalculator","totalSuccessfullyLoadedForFile","loadedForRequest","totalForRequest","estActualChunkLoaded","totalLoadedForFile","chunkLoaded","optAjaxRequester","xhrsId","expirationDays","expirationDate","setDate","getDate","requester","_method","renderImageToCanvas","img","doSquash","modifiedDimensions","iw","naturalWidth","ih","naturalHeight","ctx","getContext","save","resizeInfo","imageHeight","imageWidth","orientation","sourceCanvas","sourceCanvasContext","targetCanvas","targetHeight","targetWidth","transformCoordinate","drawImage","qqImageRendered","renderImageToCanvasWithCustomResizer","origHeight","origWidth","newHeight","sqrt","newWidth","maybeCalculateDownsampledDimensions","getImageData","detectSubsampling","tmpCtx","sx","dx","tmpCanvas","vertSquashRatio","ratio","sy","ey","py","detectVerticalSquash","dw","dh","dy","clearRect","restore","translate","rotate","PI","MegaPixImage","srcImage","errorCallback","Image","URL","createObjectURL","webkitURL","imageLoadListeners","render","oldTargetSrc","imgWidth","imgHeight","optionsKey","optionsValue","renderImageToDataURL","onrender","isImg","isCanvas","determineMimeOfFileName","nameWithPath","pathSegments","isCrossOrigin","targetProtocol","targetHostname","targetPort","targetAnchor","href","protocol","port","hostname","registerThumbnailRenderedListener","registered","registerImgLoadListeners","registerCanvasDrawImageListener","drawOnCanvasOrImgFromUrl","canvasOrImg","draw","tempImg","tempImgRender","crossOrigin","drawOnImgFromUrlWithCssScaling","drawFromUrl","fileBlobOrUrl","drawPreview","Identify","megapixErrorHandler","isPreviewable","dummyExif","exif","Exif","mpImg","Orientation","failureMsg","_testing","TAG_IDS","TAG_INFO","274","parseLittleEndian","hex","getApp1Offset","seekToApp1","theOffset","thePromise","segmentLength","parser","onParseFailure","app1Offset","app1Start","littleEndian","getDirEntryCount","dirEntryCount","dirEntries","getIfd","ifdHex","getDirEntries","tagValues","tagsToFind","vals","tagValHex","tagValLength","idHex","tagsToFindIdx","getTagValues","previewable","isPreviewableSync","PREVIEWABLE_MIME_TYPES","questionableBytes","identifiable","magicBytesEntries","magicBytesArrayEntry","fileMime","isRecognizedImage","limits","sizeDetermination","validationEffort","atLeastOne","hasNonZeroLimits","dimensions","failingLimit","limitName","limitValue","limitMatcher","dimensionPropName","actualValue","getFailingLimit","handleFileItems","fileItems","someItemsIgnored","isJsonResponseValid","refreshEffort","requesterOptions","SessionAjaxRequester","queryServer","responseText","includeOriginal","failedToScaleText","_getSortedSizes","getFileRecords","originalFileUuid","originalFileName","originalBlobOrBlobData","originalBlob","sizeRecord","outputType","_determineOutputType","requestedType","refType","_getName","_generateScaledImage","failedText","api","param","scaledIds","originalId","blobSize","scaledId","qqparentuuid","qqparentsize","scalingEffort","scalingOptions","scaler","referenceType","scaledVersionProperties","startOfExt","versionType","scaledName","scaledExt","nameAppendage","sourceFile","imageGenerator","scaledImageDataUri","signalSuccess","_insertExifHeader","scaledImageDataUriWithExif","originalImage","reader","insertionEffort","originalImageDataUri","readAsDataURL","_dataUriToBlob","_createBlob","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","isNaN","KEY_STR","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","perFileProgress","totalLoaded","totalSize","lastLoadedSent","lastTotalSent","callbackProxy","onNew","updateTotalProgress","newLoaded","newTotal","oldLoaded","oldTotal","retryable","none","failedId","noRetryableFiles","detachPasteHandler","clipboardData","isImage","getAsFile","startUpload","formEl","validateForm","nativeSubmit","checkValidity","_form2Obj","determineNewEndpoint","submit","maybeUploadOnSubmit","determineFormEl","ignoreValue","selectValue","createForm","responseFromMessage","innerHtml","contentWindow","nodeValue","getIframeContentJson","multipart","allChunksDoneRequester","AllChunksDoneAjaxRequester","createReadyStateChangedHandler","onUploadOrChunkComplete","isErrorUploadResponse","parseResponse","sendChunksCompleteRequest","complete","getChunksCompleteParams","setParamsAndGetEntityToSend","entityToSendParams","xhrOverrides","customParams","defaultParams","xhrOverrideParams","setUploadHeaders","headersOptions","headerOverrides","headerName","headerValue","extraHeaders","uploadChunkParams","toSend","addChunkingSpecificParams","promises","endpointHandler","DragAndDrop","dropZones","maybeHideDropZones","uploadDropZones","droppedFiles","traverseFileTree","parseEntryPromise","qqPath","extractDirectoryPath","fileError","dropLog","fullPath","isDirectory","getFilesInDirectory","accumEntries","existingPromise","dirReader","createReader","readEntries","newEntries","entriesLeft","indexOfNameInFullPath","setupDropzone","dropArea","dropZone","UploadDropZone","HIDE_ZONES_EVENT_NAME","onEnter","dropActive","onLeaveNotDescendants","onDrop","uploadDropZone","pendingFolderPromises","handleDataTransferPromise","processingDroppedFiles","dropDisabled","allowMultipleItems","processingDroppedFilesComplete","dropError","filesAsArray","getElement","uploadDroppedFiles","isFileDrag","dragEvent","fileDrag","types","dropZoneElements","leavingDocumentOut","setupExtraDropzone","removeDropzone","dzs","targetEl","errorSpecifics","preventDrop","dropOutsideDisabled","dragoverShouldBeCanceled","isValidFileDrag","effectTest","dt","isSafari","effectAllowed","isOrSetDropDisabled","dropEffect","relatedTarget","elementFromPoint","clientX","clientY","hideZonesEvent","triggerUsingOldApi","createEvent","initEvent","triggerHidezonesEvent","uiPublicApi","_parent","_templating","addCacheToDom","clearFiles","addExtraDropzone","_dnd","removeExtraDropzone","getItemByFileId","isHiddenForever","getFileContainer","_setupDragAndDrop","_totalFilesInBatch","_filesInBatchAddedToUi","_setupClickAndEditEventHandlers","formattedFilename","updateFilename","uploadPaused","continued","uploadContinued","getId","fileContainerOrChildEl","getFileId","getDropTarget","qqDropTarget","uiPrivateApi","_removeFileItem","removeFile","_fileButtonsClickHandler","FileButtonsClickHandler","_bindFileButtonsClickEvent","_focusinEventSupported","_isEditFilenameEnabled","_filenameClickHandler","_bindFilenameClickEvent","_filenameInputFocusInHandler","_bindFilenameInputFocusInEvent","_filenameInputFocusHandler","_bindFilenameInputFocusEvent","dragAndDrop","extraDropzones","templating","defaultDropZone","getDropZone","showDropProcessing","hideDropProcessing","errorData","lvl","onDeleteFile","onRetry","onPause","onContinue","onGetName","isEditFilenamePossible","FilenameClickHandler","FilenameInputFocusHandler","_filenameEditHandler","onGetUploadStatus","onSetName","onEditingStatusChange","isEditing","qqInput","getEditInput","qqFileContainer","hideFilename","hideEditIcon","showFilename","showEditIcon","markFilenameEditable","hideRetry","setStatusText","_classes","retrying","hidePause","FilenameInputFocusInHandler","hideSpinner","resetTotalProgress","reportDirectoryPaths","qqpath","_addToList","addHandler","updateProgress","hideCancel","hideProgress","waitingForResponse","_displayFileSize","parentRetVal","completeUpload","_markFileAsSuccessful","fail","showCancel","isRetryPossible","showRetry","_controlFailureTextDisplay","newResult","showDeleteButton","_maybeUpdateThumbnail","showSpinner","allowPause","retryNumForDisplay","maxAuto","retryNote","_showCancelLink","showAutoRetryNote","autoRetryNote","resetProgress","_onSubmitDeleteSuccess","_showDeleteConfirm","_sendDeleteRequest","deletingFailedText","hideDeleteButton","deletingStatusText","confirmMessage","deleteRequestArgs","showConfirm","canned","prependData","prependIndex","dontDisplay","hideScaled","prependFiles","disableCancel","_handledProxyGroup","_clearList","addFileToCache","updateThumbnail","generatePreview","fileSizeOnSubmit","loadedSize","sizeForDisplay","_formatProgress","uploadedSize","formatProgress","responseProperty","failureReason","failedUploadTextDisplay","failUpload","enableTooltip","_showTooltip","showMessage","_setupPastePrompt","namePromptMessage","defaultVal","showPrompt","waitUntilResponse","listElement","editable","tooManyFilesError","unsupportedBrowser","promptForName","maxCount","notAvailablePath","waitingPath","timeBetweenThumbs","hasDialog","showDialog","confirm","defaultValue","prompt","Templating","templateIdOrEl","containerEl","fileContainerEl","maxThumbs","waitUntilUpdate","thumbnailNotAvailable","waitingForThumbnail","renderFailure","isEditElementsExist","isRetryElementExist","templateDom","showThumbnails","serverScale","fileBatch","isCancelDisabled","generatedThumbnails","thumbnailQueueMonitorRunning","thumbGenerationQueue","thumbnailMaxSize","selectorClasses","alertDialog","dialogCancelButton","confirmDialog","dialogMessage","dialogOkButton","promptDialog","uploader","drop","progressBarContainer","totalProgressBarContainer","totalProgressBar","spinner","continueButton","deleteButton","statusText","editFilenameInput","editNameIcon","dropText","dropProcessing","dropProcessingSpinner","thumbnail","previewGeneration","cachedThumbnailNotAvailableImg","cachedWaitingForThumbnailImg","displayWaitingImg","waitingImgPlacement","maybeScalePlaceholderViaCss","generateNextQueuedPreview","queuedThumbRequest","processUpdateQueuedPreviewRequest","processNewQueuedPreviewRequest","getCancel","getTemplateEl","getContinue","getDialog","getDelete","getDropProcessing","getEditIcon","getPause","getProgress","getRetry","getSpinner","cssClass","getThumbnail","maybeSetDisplayNotAvailableImg","previewing","notAvailableImgPlacement","optFileOrBlob","relatedThumbnailId","qqThumbnailId","useCachedPreview","generateNewPreview","showWaitingImg","setProgressBarWidth","percent","bar","progressBarSelector","targetThumbnailId","cachedThumbnailId","targetThumbnail","cachedThumbnail","scriptEl","scriptHtml","fileListNode","tempTemplateEl","fileListEl","defaultButton","dropTextEl","uploaderEl","cloneNode","fileTemplate","parseAndGetTemplate","notAvailableUrl","waitingUrl","updatedImg","cacheThumbnailPlaceholders","hideTotalProgress","cantRenderEl","prependInfo","hideForever","batch","thumb","fileEl","fileNameEl","parentEl","beforeEl","prependFile","waitingImg","getFileList","filenameEl","isFileName","icon","isEditIcon","isEditInput","isCancel","allowContinueButton","isPause","isContinueButton","isDeleteButton","isRetry","textEl","dialog","messageEl","inputEl","cancelBtn","okBtn","closeHandler","cancelClickHandler","okClickHandler","showModal","UiEventHandler","protectedApi","attachTo","onHandled","srcElement","getFileIdFromItem","qqFileId","getDisposeSupport","buttonHandlers","buttonType","firstLetterCapButtonType","inheritedInternalApi","handleFilenameEdit","FilenameEditHandler","handleNameUpdate","newFilenameInputEl","origExtension","origName","getOriginalExtension","focusInput","filenameSansExt","registerInputBlurHandler","which","registerInputEnterKeyHandler","iterator","targetModal","triggers","onShow","onClose","openTrigger","u","f","closeTrigger","h","openClass","g","disableScroll","disableFocus","w","awaitCloseAnimation","E","awaitOpenAnimation","M","A","debugMode","C","modal","registerTriggers","onClick","onKeydown","Boolean","scrollBehaviour","setFocusToFirstNode","closeModal","retainFocus","getFocusableNodes","closeModalById","argumentAsArray","argument","Node","eachNode","nodeList","NodeList","isElementList","throwError","arrayAsSelector","nodeListAsArray","nodes","findParentBySelector","$el","$root","elementHasSelector","elementHasOverflowHidden","elementScrollTopOnStart","elementScrollTopOnEnd","elementScrollLeftOnStart","elementScrollLeftOnEnd","elementIsScrollableField","elementIsInputRange","getScrollState","clearQueueScrollLocks","scroll_lock_getTargetScrollBarWidth","scroll_lock_getCurrentTargetScrollBarWidth","getPageScrollBarWidth","getCurrentPageScrollBarWidth","scroll_lock_addScrollableTarget","scroll_lock_removeScrollableTarget","scroll_lock_addScrollableSelector","scroll_lock_removeScrollableSelector","scroll_lock_addLockableTarget","scroll_lock_addLockableSelector","scroll_lock_setFillGapMethod","scroll_lock_addFillGapTarget","scroll_lock_removeFillGapTarget","scroll_lock_addFillGapSelector","scroll_lock_removeFillGapSelector","refillGaps","FILL_GAP_AVAILABLE_METHODS","scrollableSelectors","lockableSelectors","fillGapSelectors","fillGapMethod","startTouchY","startTouchX","scroll_lock_hideLockableOverflow","fillGaps","scroll_lock_showLockableOverflow","unfillGaps","$target","onlyExists","currentOverflowYProperty","documentWidth","innerWidth","borderLeftWidthCurrentProperty","borderLeftWidth","borderRightWidthCurrentProperty","borderRightWidth","_currentWidth","$targets","sSelector","methods","scroll_lock_fillGapTarget","scroll_lock_unfillGapTarget","scroll_lock_fillGapSelector","fSelector","scroll_lock_unfillGapSelector","scroll_lock_hideLockableOverflowSelector","scroll_lock_showLockableOverflowSelector","scroll_lock_hideLockableOverflowTarget","scroll_lock_showLockableOverflowTarget","computedStyle","isLockable","scrollBarWidth","$lockableParent","currentMargin","currentPadding","paddingRight","currentFillGapMethod","currentClientY","currentClientX","up","down","directionWithOffset","handle","skip","parentScrollableEl","prevent","deprecatedMethods","toggle","getWidth","getCurrentWidth","setScrollableTargets","setFillGapSelectors","setFillGapTargets","clearQueue","scrollLock","_objectSpread","getTargetScrollBarWidth","getCurrentTargetScrollBarWidth","addScrollableSelector","removeScrollableSelector","addScrollableTarget","removeScrollableTarget","addLockableSelector","addLockableTarget","addFillGapSelector","removeFillGapSelector","addFillGapTarget","removeFillGapTarget","setFillGapMethod","_state","ROUND_ARROW","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","invokeWithArgsOrReturn","ms","timeout","removeProperties","normalizeToArray","pushIfUnique","arrayFrom","removeUndefinedProps","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","setTransitionDuration","els","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","updateTransitionEndListener","box","actualContains","_target$getRootNode","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","onWindowBlur","isVisible","visitedMessages","isIE11","msCrypto","createMemoryLeakWarning","clean","getDevMessage","getFormattedMessage","warnWhen","_console","errorWhen","_console2","pluginProps","animateFill","followCursor","inlinePositioning","sticky","defaultProps","appendTo","aria","expanded","delay","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveBorder","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onDestroy","onHidden","onHide","onMount","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","showOnCreate","touch","trigger","triggerTarget","animation","inertia","role","theme","zIndex","defaultKeys","getExtendedPassedProps","passedProps","plugin","_name","evaluateProps","props","out","valueAsString","getDataAttributeProps","validateProps","partialProps","nonPluginProps","didPassUnknownProp","dangerouslySetInnerHTML","createArrowElement","setContent","getChildren","boxChildren","backdrop","onUpdate","prevProps","nextProps","_getChildren","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentTransitionEndListener","currentTarget","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","debouncedOnMouseMove","onMouseMove","popperInstance","isEnabled","isMounted","isShown","clearDelayTimeouts","cancelAnimationFrame","setProps","invokeHook","removeListeners","addListeners","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","handleStyles","createPopperInstance","getNestedPopperTree","nestedPopper","isAlreadyVisible","isTouchAndTouchDisabled","getCurrentTarget","getIsDefaultRenderFn","visibility","addDocumentPress","transition","_getDefaultTemplateCh2","getDefaultTemplateChildren","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","handleAriaContentAttribute","onTransitionEnd","onTransitionedIn","nextElementSibling","mount","isAlreadyHidden","removeDocumentPress","_getDefaultTemplateCh4","onTransitionedOut","unmount","hideWithInteractivity","getDocument","destroyPopperInstance","_props$render","pluginsHooks","hasAriaExpanded","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","_instance$props$rende","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","nextValue","onDocumentPress","actualTarget","composedPath","onTouchMove","onTouchStart","on","onMouseLeave","onBlurOrFocusOut","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","popperTreeData","popperState","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","_instance$popperInsta","_instance$props2","computedReference","_getNormalizedTouchSe","touchValue","touchDelay","targets","optionalProps","didPassFalsyValue","didPassPlainObject","validateTargets","isSingleContentElement","isMoreThanOneReferenceElement","instances","setDefaultProps","hideAll","_temp","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","createSingleton","tippyInstances","_optionalProps$popper","individualInstances","references","triggerTargets","interceptSetPropsCleanups","shownOnCreate","setTriggerTargets","setReferences","enableInstances","interceptSetProps","singleton","originalSetProps","prepareInstance","overrideProps","_references$index","originalShow","ref","showNext","showPrevious","last","setInstances","nextInstances","BUBBLING_EVENTS_MAP","mouseover","focusin","click","delegate","childTippyInstances","nativeProps","parentProps","childProps","targetNode","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","createBackdropElement","transitionDelay","mouseCoords","activeInstances","storeMouseCoords","isInternalUpdate","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","isCursorOverReference","relativeX","relativeY","addMouseCoordsListener","removeMouseCoordsListener","cursorRectIndex","triedPlacements","currentBasePlacement","boundingRect","clientRects","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","_top","_bottom","getInlineBoundingClientRect","getClientRects","_getReferenceClientRect","addModifier","_props$popperOptions","getProps","cursorRect","shouldCheck","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","rectA","rectB"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./#src/js/script.js\");\n","export function adaptiveSizes() {\r\n    const mainW = document.querySelector('.main-w');\r\n    const headerMenu = document.querySelector('.header__menu');\r\n    const aside = document.querySelector('.aside');\r\n    const modal = document.querySelectorAll('.modal__content');\r\n\r\n    const sizes = {\r\n        desktop: 1250,\r\n        tablet: 768,\r\n        mobile: 320\r\n    };\r\n    \r\n\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n    //media\r\n\r\n    \r\n}","export function addField() {\r\n\r\n    const addEmail = document.querySelector('.addEmail');\r\n    const addTel = document.querySelector('.addTel');\r\n\r\n    const emailInput = document.createElement('input');\r\n    emailInput.setAttribute('type', 'text');\r\n    emailInput.setAttribute('placeholder', 'Укажите E-mail');\r\n    emailInput.style.cssText = 'margin-top: 10px';\r\n\r\n\r\n    const telInput = document.createElement('input');\r\n    telInput.setAttribute('type', 'text');\r\n    telInput.setAttribute('placeholder', 'Укажите номер телефона');\r\n    telInput.style.cssText = 'margin-top: 10px';\r\n\r\n\r\n    const addEmailBtn = document.querySelector('#addEmail');\r\n    const addTelBtn = document.querySelector('#addTel');\r\n\r\n    let counter = 0;\r\n\r\n    if(addEmailBtn) {\r\n        addEmailBtn.addEventListener('click', () => {\r\n            addEmail.append(emailInput);\r\n        });\r\n    }\r\n    \r\n\r\n    if(addTelBtn) {\r\n        addTelBtn.addEventListener('click', (e) => {\r\n            addTel.append(telInput);\r\n        });\r\n    }\r\n}","export function addFieldGroup() {\r\n    const flGrAadd = document.querySelector('#fsd');\r\n    \r\n    const flGr = `\r\n    <div class=\"partner-edit__form_wr\">\r\n    <div class=\"partner-edit__form_wr_del\" id=\"formGroupDel\">\r\n                                Удалить\r\n                            </div>\r\n    <div class=\"partner-edit__form_item w-100 input\">\r\n        <div class=\"form__name\">\r\n            Контактное лицо\r\n        </div>\r\n        <input type=\"text\" placeholder=\"Иванов Иван Иванович\">\r\n    </div>\r\n\r\n    <div class=\"partner-edit__form_item input\">\r\n        <div class=\"form__name\">\r\n            E-mail\r\n        </div>\r\n        <input type=\"email\" placeholder=\"ivanov@mail.ru\">\r\n    </div>\r\n\r\n    <div class=\"partner-edit__form_item input\">\r\n        <div class=\"form__name\">\r\n            Телефон\r\n        </div>\r\n        <input type=\"tel\" placeholder=\"+79990000000\">\r\n    </div>\r\n</div>\r\n    `\r\n\r\n    function delField() {\r\n        let delBtn = document.querySelectorAll('#formGroupDel');\r\n\r\n        delBtn.forEach(i => {\r\n            console.log(i.parentElement);\r\n            i.addEventListener('click', () => {\r\n                i.parentElement.remove();\r\n            });\r\n        });\r\n    }\r\n\r\n    delField();\r\n\r\n    if(flGrAadd) {\r\n        flGrAadd.addEventListener('click', () => {\r\n            flGrAadd.insertAdjacentHTML('beforebegin', flGr);\r\n            delField();\r\n            \r\n        });\r\n    }\r\n\r\n    // delBtn.forEach(i => {\r\n    //     console.log(i.parentElement);\r\n    //     i.addEventListener('click', () => {\r\n    //         i.parentElement.remove();\r\n    //     });\r\n    // });\r\n\r\n    \r\n\r\n\r\n}","import { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\n\r\nexport function decMoreInfo() {\r\n    const infoEl = document.querySelector('.dec-new__form_info');\r\n    const infoBtn = document.querySelector('.dec-new__form_more');\r\n    const infoClose = document.querySelector('.dec-new__form_info_close');\r\n\r\n\r\n    if(infoBtn) {\r\n\r\n        infoBtn.addEventListener('click', () => {\r\n            infoEl.classList.add('active');\r\n            disablePageScroll(infoEl);\r\n        });\r\n\r\n        infoClose.addEventListener('click', () => {\r\n            infoEl.classList.remove('active');\r\n            enablePageScroll(infoEl);\r\n\r\n        });\r\n\r\n    }\r\n}","import { FineUploader } from \"fine-uploader\";\r\n\r\nexport function dropFiles() {\r\n\r\n    const ff = document.querySelectorAll(\"#fine-uploader-gallery\");\r\n    if(ff.length >= 0) {\r\n        ff.forEach(i => {\r\n            var galleryUploader = new FineUploader({\r\n                element: i,\r\n                template: 'qq-template-gallery',\r\n                // request: {\r\n                //     endpoint: '/server/uploads'\r\n                // },\r\n                thumbnails: {\r\n                    placeholders: {\r\n                        // waitingPath: '/source/placeholders/waiting-generic.png',\r\n                        // notAvailablePath: '/source/placeholders/not_available-generic.png'\r\n                    }\r\n                },\r\n                validation: {\r\n                    allowedExtensions: ['jpg', 'jpeg', 'png', 'pdf', 'doc']\r\n                },\r\n                messages: {\r\n                    typeError: 'Произошла ошибка!'\r\n                    // other messages can go here as well ...\r\n                },\r\n                \r\n                \r\n                multiple: false,\r\n                deleteFile: {\r\n                    enabled: true,\r\n                    forceConfirm: true,\r\n                    endpoint: 'server/file'\r\n                },\r\n                callbacks: {\r\n                    onComplete: function() {\r\n                        let wr = document.querySelector('.qq-uploader-selector');\r\n                        wr.classList.add('active');\r\n                    },\r\n                    onCancel: function() {\r\n                        let wr = document.querySelector('.qq-uploader-selector');\r\n                        let text = document.querySelector('.qq-uploader-selector');\r\n                        wr.classList.remove('active');\r\n                        // text.style.display = 'block';\r\n                        text.setAttribute('qq-drop-area-text', '+ Перетащите файл или выберите с диска');\r\n                    }\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    \r\n    \r\n\r\n\r\n    \r\n    \r\n}","import { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\n\r\nexport function mobMenu() {\r\n\r\n    const menu = document.querySelector('.aside');\r\n    const menuContent = document.querySelector('.aside__mob');\r\n    const menuBtn = document.querySelector('.header__menu_burger');\r\n\r\n\r\n    if(menu && menuBtn) {\r\n\r\n        menuBtn.addEventListener('click', () => {\r\n            menu.classList.add('active');\r\n            disablePageScroll(menuContent);\r\n        });\r\n\r\n        menu.addEventListener('click', (e) => {\r\n            if(e.target && e.target.classList.contains('aside')) {\r\n                menu.classList.remove('active');\r\n                enablePageScroll(menuContent);\r\n            }\r\n        })\r\n    }\r\n}","import MicroModal from 'micromodal';\r\n\r\nexport function modals() {\r\n    MicroModal.init();\r\n} ","export function searchResults() {\r\n    const results = document.querySelectorAll('.partner-add__result_item');\r\n    if(results.length > 0) {\r\n        results.forEach(result => {\r\n            result.addEventListener('click', (e) => {\r\n                results.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n    \r\n                result.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n    \r\n}","import Choices from 'choices.js';\r\n\r\nexport function select() {\r\n\r\n    const selectEls = document.querySelectorAll('.choices');\r\n\r\n    if(selectEls) {\r\n        selectEls.forEach(select => {\r\n            const choiceWithSearch = new Choices(select, {\r\n                allowHTML: true,\r\n                itemSelectText: '',\r\n                noResultsText: 'Нет результатов',\r\n                \r\n            });\r\n        });\r\n    }\r\n}","export function stepChange() {\r\n    const radioBtns = document.querySelectorAll('.legacyType');\r\n    const formNames = document.querySelectorAll('.legacyName');\r\n    radioBtns.forEach((btn, index) => {\r\n        btn.addEventListener('click', (e) => {\r\n            if(index == 0) {\r\n                if(btn.checked) {\r\n\r\n                    formNames.forEach((i, index) =>  {\r\n                        if(index == 0) {\r\n                            i.innerHTML = 'ИНН';\r\n                        }\r\n\r\n                        if(index == 1) {\r\n                            i.innerHTML = 'КПП';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if(index == 1) {\r\n                if(btn.checked) {\r\n\r\n                    formNames.forEach((i, index) =>  {\r\n                        if(index == 0) {\r\n                            i.innerHTML = 'Серия паспорта';\r\n                        }\r\n\r\n                        if(index == 1) {\r\n                            i.innerHTML = 'Номер паспорта';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        \r\n    });\r\n}","export function tableAdaptive() {\r\n    const tb = document.querySelectorAll('.tbr');\r\n\r\n    if(tb.length > 0) {\r\n\r\n        tb.forEach(i => {\r\n            const tbWrap = i.querySelector('.table-wr');\r\n            const tbItem = i.querySelector('.table');\r\n            const tbGradR = i.querySelector('.grad-r');\r\n            const tbGradL = i.querySelector('.grad-l');\r\n            const fake = i.querySelector('.fake-scroll');\r\n            \r\n            if(tbItem.scrollWidth == i.clientWidth) {\r\n                tbGradR.style.opacity = '0';\r\n                tbGradL.style.opacity = '0';\r\n            }\r\n\r\n            if(tbItem.scrollWidth > i.clientWidth) {\r\n                tbGradR.style.opacity = '1';\r\n                if(tbWrap.scrollLeft > 0) {\r\n                    tbGradL.style.opacity = '1';\r\n                }\r\n                \r\n            }\r\n\r\n            tbWrap.addEventListener('scroll', () => {\r\n                \r\n            })\r\n\r\n\r\n            tbWrap.addEventListener('scroll', (e) => {\r\n                if(tbItem.scrollWidth > i.clientWidth) {\r\n                    tbGradR.style.opacity = '1';\r\n                }\r\n                if(tbItem.scrollWidth == i.clientWidth) {\r\n                    tbGradR.style.opacity = '0';\r\n                }    \r\n\r\n                if(tbWrap.scrollLeft == 0) {\r\n                    tbGradL.style.opacity = '0';\r\n                }\r\n\r\n                if(tbWrap.scrollLeft > 0 && tbWrap.scrollLeft < tbItem.scrollWidth + 15 - tbWrap.clientWidth ) {\r\n                    tbGradL.style.opacity = '1';\r\n                    tbGradR.style.opacity = '1';\r\n                }\r\n        \r\n                if(tbWrap.scrollLeft >= tbItem.scrollWidth + 15 - tbWrap.clientWidth) {\r\n                    tbGradR.style.opacity = '0';\r\n                    \r\n                }\r\n            })\r\n        })\r\n        \r\n    }\r\n    \r\n\r\n    \r\n}","export function tableHead() {\r\n    const tableHeads = document.querySelectorAll('.table__headrow_item');\r\n\r\n    if(tableHeads.length > 0) {\r\n        tableHeads.forEach(item => {\r\n            item.addEventListener('click', (e) => {\r\n                tableHeads.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n\r\n                item.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n}","export function tabsFunc(wrapper, parent, tabs, content) {\r\n    let tabsWrapper = document.querySelectorAll(wrapper);\r\n    \r\n    if(tabsWrapper.length > 0) {\r\n        tabsWrapper.forEach(item => {\r\n\r\n            let tabsParent = item.querySelector(parent);\r\n            let tabsEl = item.querySelectorAll(tabs);\r\n            let tabsContent = item.querySelectorAll(content); \r\n    \r\n            function hideTabs() {\r\n                tabsEl.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n        \r\n                tabsContent.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n            }\r\n        \r\n        \r\n            function showTabs(index = 0) {\r\n                tabsEl[index].classList.add('active');\r\n                tabsContent[index].classList.add('active');\r\n            }\r\n        \r\n        \r\n            if(tabsContent && tabsEl.length > 0) {\r\n                hideTabs();\r\n                showTabs();\r\n        \r\n                tabsParent.addEventListener('click', (e) => {\r\n                    let tar = e.target;\r\n        \r\n                    if(tar && tar.dataset.tab == 'true') {\r\n                        tabsEl.forEach((item, index) => {\r\n                            if(tar == item) {\r\n                                hideTabs();\r\n                                showTabs(index);\r\n                            }\r\n                        });\r\n                        \r\n                    }\r\n                });\r\n            }\r\n    \r\n        });\r\n    }\r\n    \r\n    \r\n\r\n    \r\n}","export function thirdPart() {\r\n\r\n    // const hiddenBlock = document.querySelector('.third__part');\r\n    // const toggleRadioBtns = document.querySelectorAll('.hiddenBlockToggler');\r\n\r\n    // toggleRadioBtns.forEach((btn, index) => {\r\n    //     btn.addEventListener('click', (e) => {\r\n    //         if(index == 2) {\r\n    //             hiddenBlock.style.display = 'block';\r\n    //         }\r\n\r\n    //         if(index == 3) {\r\n\r\n    //         }\r\n\r\n    //         if(index == 1) {\r\n\r\n    //         }\r\n\r\n    //         if(index == 0) {\r\n\r\n    //         }\r\n    //     });\r\n    // });\r\n\r\n}","import tippy from 'tippy.js';\r\n\r\n\r\nexport function tooltip() {\r\n\r\n    const wr = document.querySelector('.dec-new__form_body_part_checklist');\r\n\r\n    if(wr) {\r\n        tippy('#tt1', {\r\n            content: document.querySelector('#tt1').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n    \r\n        \r\n        tippy('#tt2', {\r\n            content: document.querySelector('#tt2').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt3', {\r\n            content: document.querySelector('#tt3').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt4', {\r\n            content: document.querySelector('#tt4').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt5', {\r\n            content: document.querySelector('#tt5').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt6', {\r\n            content: document.querySelector('#tt6').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt7', {\r\n            content: document.querySelector('#tt7').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt8', {\r\n            content: document.querySelector('#tt8').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt9', {\r\n            content: document.querySelector('#tt9').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n}","import { select } from './components/select';\r\nimport { adaptiveSizes } from './components/adaptiveSizes';\r\nimport { searchResults } from './components/searchResults';\r\nimport { dropFiles } from './components/dropFiles';\r\nimport { modals } from './components/modals';\r\nimport { tableHead } from './components/tableHead';\r\nimport { tabsFunc } from './components/tabsFunc';\r\nimport { thirdPart } from './components/thirdPart';\r\nimport { stepChange } from './components/stepChange';\r\nimport { addField } from './components/addField';\r\nimport { addFieldGroup } from './components/addFieldGroup';\r\nimport { decMoreInfo } from './components/decMoreInfo';\r\nimport { mobMenu } from './components/mobMenu';\r\nimport { tooltip } from './components/tooltip';\r\nimport { tableAdaptive } from './components/tableAdaptive';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    modals();\r\n    select();\r\n    adaptiveSizes();\r\n    searchResults();\r\n    dropFiles();\r\n    tableHead();\r\n    tabsFunc('.tab-main-wrapper', '.dec-new__content_top', '.dec-new__content_top_item', '.dec-new__content_tab');\r\n    tabsFunc('.tab-wrapper', '.radio-tabs', '.radio-tabs__item', '.radio-content__item');\r\n    thirdPart();\r\n    stepChange();\r\n    addField();\r\n    addFieldGroup();\r\n    decMoreInfo();\r\n    mobMenu();\r\n    tooltip();\r\n\r\n    tabsFunc('.cp__content', '.cp__content_head_tabs', '.cp__content_head_tab', '.cp__content_body_item');\r\n    tableAdaptive();\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n    \r\n});\r\n\r\n\r\n\r\n\r\n\r\n","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import { isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nexport default function getBoundingClientRect(element, includeScale) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  var rect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (isHTMLElement(element) && includeScale) {\n    var offsetHeight = element.offsetHeight;\n    var offsetWidth = element.offsetWidth; // Do not attempt to divide by 0, otherwise we get `Infinity` as scale\n    // Fallback to 1 in case both values are `0`\n\n    if (offsetWidth > 0) {\n      scaleX = round(rect.width) / offsetWidth || 1;\n    }\n\n    if (offsetHeight > 0) {\n      scaleY = round(rect.height) / offsetHeight || 1;\n    }\n  }\n\n  return {\n    width: rect.width / scaleX,\n    height: rect.height / scaleY,\n    top: rect.top / scaleY,\n    right: rect.right / scaleX,\n    bottom: rect.bottom / scaleY,\n    left: rect.left / scaleX,\n    x: rect.left / scaleX,\n    y: rect.top / scaleY\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}","import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)`\n    .filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    }).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (modifier.effect != null && typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (modifier.requires != null && !Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","/*! choices.js v10.0.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 282:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addChoice = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      groupId = _a.groupId,\n      disabled = _a.disabled,\n      elementId = _a.elementId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addChoice = addChoice;\n\nvar filterChoices = function (results) {\n  return {\n    type: constants_1.ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n\nexports.filterChoices = filterChoices;\n\nvar activateChoices = function (active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: constants_1.ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n\nexports.activateChoices = activateChoices;\n\nvar clearChoices = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n\nexports.clearChoices = clearChoices;\n\n/***/ }),\n\n/***/ 783:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addGroup = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addGroup = function (_a) {\n  var value = _a.value,\n      id = _a.id,\n      active = _a.active,\n      disabled = _a.disabled;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n\nexports.addGroup = addGroup;\n\n/***/ }),\n\n/***/ 464:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.highlightItem = exports.removeItem = exports.addItem = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addItem = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      choiceId = _a.choiceId,\n      groupId = _a.groupId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addItem = addItem;\n\nvar removeItem = function (id, choiceId) {\n  return {\n    type: constants_1.ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n\nexports.removeItem = removeItem;\n\nvar highlightItem = function (id, highlighted) {\n  return {\n    type: constants_1.ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n\nexports.highlightItem = highlightItem;\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setIsLoading = exports.resetTo = exports.clearAll = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar clearAll = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_ALL\n  };\n};\n\nexports.clearAll = clearAll;\n\nvar resetTo = function (state) {\n  return {\n    type: constants_1.ACTION_TYPES.RESET_TO,\n    state: state\n  };\n};\n\nexports.resetTo = resetTo;\n\nvar setIsLoading = function (isLoading) {\n  return {\n    type: constants_1.ACTION_TYPES.SET_IS_LOADING,\n    isLoading: isLoading\n  };\n};\n\nexports.setIsLoading = setIsLoading;\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar deepmerge_1 = __importDefault(__webpack_require__(996));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar fuse_js_1 = __importDefault(__webpack_require__(221));\n\nvar choices_1 = __webpack_require__(282);\n\nvar groups_1 = __webpack_require__(783);\n\nvar items_1 = __webpack_require__(464);\n\nvar misc_1 = __webpack_require__(137);\n\nvar components_1 = __webpack_require__(520);\n\nvar constants_1 = __webpack_require__(883);\n\nvar defaults_1 = __webpack_require__(789);\n\nvar utils_1 = __webpack_require__(799);\n\nvar reducers_1 = __webpack_require__(655);\n\nvar store_1 = __importDefault(__webpack_require__(744));\n\nvar templates_1 = __importDefault(__webpack_require__(686));\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar Choices =\n/** @class */\nfunction () {\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    if (userConfig.allowHTML === undefined) {\n      console.warn('Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message.');\n    }\n\n    this.config = deepmerge_1.default.all([defaults_1.DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function (_, sourceArray) {\n        return __spreadArray([], sourceArray, true);\n      }\n    });\n    var invalidConfigOptions = (0, utils_1.diff)(this.config, defaults_1.DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === constants_1.TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === constants_1.SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === constants_1.SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(\"\".concat(this.config.renderSelectedChoices))) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new components_1.WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new components_1.WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function (data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_1.default();\n    this._initialState = reducers_1.defaultState;\n    this._currentState = reducers_1.defaultState;\n    this._prevState = reducers_1.defaultState;\n    this._currentValue = '';\n    this._canSearch = !!this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = (0, utils_1.generateId)(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var elementDirection = window.getComputedStyle(this.passedElement.element).direction;\n      var documentDirection = window.getComputedStyle(document.documentElement).direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    };\n\n    if (this._isSelectElement) {\n      // Assign preset groups from passed element\n      this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n      this._presetOptions = this.passedElement.options;\n    } // Assign preset choices from passed object\n\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value && this._isTextElement) {\n      var splitValues = this.passedElement.value.split(this.config.delimiter);\n      this._presetItems = this._presetItems.concat(splitValues);\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (option) {\n        _this._presetChoices.push({\n          value: option.value,\n          label: option.innerHTML,\n          selected: !!option.selected,\n          disabled: option.disabled || option.parentNode.disabled,\n          placeholder: option.value === '' || option.hasAttribute('placeholder'),\n          customProperties: option.dataset['custom-properties']\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onSelectKey = this._onSelectKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised', {\n          element: element\n        });\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  Object.defineProperty(Choices, \"defaults\", {\n    get: function () {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return templates_1.default;\n        }\n\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Choices.prototype.init = function () {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure();\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  Choices.prototype.destroy = function () {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = templates_1.default;\n    this.initialised = false;\n  };\n\n  Choices.prototype.enable = function () {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.disable = function () {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.highlightItem = function (item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightItem = function (item) {\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, false));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  Choices.prototype.highlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItemsByValue = function (value) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItems = function (excludedId) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (_a) {\n      var id = _a.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeHighlightedItems = function (runEvent) {\n    var _this = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  Choices.prototype.showDropdown = function (preventInputFocus) {\n    var _this = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.show();\n\n      _this.containerOuter.open(_this.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this._canSearch) {\n        _this.input.focus();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.hideDropdown = function (preventInputBlur) {\n    var _this = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.hide();\n\n      _this.containerOuter.close();\n\n      if (!preventInputBlur && _this._canSearch) {\n        _this.input.removeActiveDescendant();\n\n        _this.input.blur();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.getValue = function (valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  };\n\n  Choices.prototype.setValue = function (items) {\n    var _this = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  Choices.prototype.setChoiceByValue = function (value) {\n    var _this = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  };\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n\n\n  Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher_1 = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line no-promise-executor-return\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this._handleLoadingState(true);\n        }).then(function () {\n          return fetcher_1;\n        }).then(function (data) {\n          return _this.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this._handleLoadingState(false);\n        }).then(function () {\n          return _this;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher_1)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher_1, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this._addGroup({\n          id: groupOrChoice.id ? parseInt(\"\".concat(groupOrChoice.id), 10) : null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        var choice = groupOrChoice;\n\n        _this._addChoice({\n          value: choice[value],\n          label: choice[label],\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: choice.customProperties\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  Choices.prototype.clearChoices = function () {\n    this._store.dispatch((0, choices_1.clearChoices)());\n\n    return this;\n  };\n\n  Choices.prototype.clearStore = function () {\n    this._store.dispatch((0, misc_1.clearAll)());\n\n    return this;\n  };\n\n  Choices.prototype.clearInput = function () {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n\n    return this;\n  };\n\n  Choices.prototype._render = function () {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  Choices.prototype._renderChoices = function () {\n    var _this = this;\n\n    var _a = this._store,\n        activeGroups = _a.activeGroups,\n        activeChoices = _a.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        var notice = this._getTemplate('notice', canAddItem.notice);\n\n        this.choiceList.append(notice);\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem = void 0;\n      var notice = void 0;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  Choices.prototype._renderItems = function () {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  Choices.prototype._createGroupsFragment = function (groups, choices, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function (group) {\n      return choices.filter(function (choice) {\n        if (_this._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  Choices.prototype._createChoicesFragment = function (choices, fragment, withinGroup) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    } // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n\n\n    var _a = this.config,\n        renderSelectedChoices = _a.renderSelectedChoices,\n        searchResultLimit = _a.searchResultLimit,\n        renderChoiceLimit = _a.renderChoiceLimit;\n    var filter = this._isSearching ? utils_1.sortByScore : this.config.sorter;\n\n    var appendChoice = function (choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this._getTemplate('choice', choice, _this.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _b = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _b.placeholderChoices,\n        normalChoices = _b.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? __spreadArray(__spreadArray([], placeholderChoices, true), normalChoices, true) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  Choices.prototype._createItemsFragment = function (items, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    } // Create fragment to add elements to\n\n\n    var _a = this.config,\n        shouldSortItems = _a.shouldSortItems,\n        sorter = _a.sorter,\n        removeItemButton = _a.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items.map(function (_a) {\n        var value = _a.value;\n        return value;\n      }).join(this.config.delimiter);\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function (item) {\n      // Create new list element\n      var listItem = _this._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  Choices.prototype._triggerChange = function (value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.change, {\n      value: value\n    });\n  };\n\n  Choices.prototype._selectPlaceholderChoice = function (placeholderChoice) {\n    this._addItem({\n      value: placeholderChoice.value,\n      label: placeholderChoice.label,\n      choiceId: placeholderChoice.id,\n      groupId: placeholderChoice.groupId,\n      placeholder: placeholderChoice.placeholder\n    });\n\n    this._triggerChange(placeholderChoice.value);\n  };\n\n  Choices.prototype._handleButtonAction = function (activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode && element.parentNode.dataset.id;\n    var itemToRemove = itemId && activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    });\n\n    if (!itemToRemove) {\n      return;\n    } // Remove item associated with button\n\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement && this._store.placeholderChoice) {\n      this._selectPlaceholderChoice(this._store.placeholderChoice);\n    }\n  };\n\n  Choices.prototype._handleItemAction = function (activeItems, element, hasShiftKey) {\n    var _this = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.dataset.id; // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(\"\".concat(passedId), 10) && !item.highlighted) {\n        _this.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  Choices.prototype._handleChoiceAction = function (activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = id && this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : undefined;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(constants_1.EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._handleBackspace = function (activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  Choices.prototype._startLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(true));\n  };\n\n  Choices.prototype._stopLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(false));\n  };\n\n  Choices.prototype._handleLoadingState = function (setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\".concat(this.config.classNames.placeholder));\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n\n          if (placeholderItem) {\n            this.itemList.append(placeholderItem);\n          }\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (placeholderItem) {\n          placeholderItem.innerHTML = this._placeholderValue || '';\n        }\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  Choices.prototype._handleSearch = function (value) {\n    if (!this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _a = this.config,\n        searchFloor = _a.searchFloor,\n        searchChoices = _a.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value !== null && typeof value !== 'undefined' && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(constants_1.EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n  };\n\n  Choices.prototype._canAddItem = function (activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = (0, utils_1.existsInArray)(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  Choices.prototype._searchChoices = function (value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === \"\".concat(currentValue, \" \")) {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: __spreadArray([], this.config.searchFields, true),\n      includeMatches: true\n    });\n    var fuse = new fuse_js_1.default(haystack, options);\n    var results = fuse.search(needle); // see https://github.com/krisk/Fuse/issues/303\n\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch((0, choices_1.filterChoices)(results));\n\n    return results.length;\n  };\n\n  Choices.prototype._addEventListeners = function () {\n    var documentElement = document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  Choices.prototype._removeEventListeners = function () {\n    var documentElement = document.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  };\n\n  Choices.prototype._onKeyDown = function (event) {\n    var keyCode = event.keyCode;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var wasAlphaNumericChar = /[a-zA-Z0-9-_ ]/.test(keyString);\n    var BACK_KEY = constants_1.KEY_CODES.BACK_KEY,\n        DELETE_KEY = constants_1.KEY_CODES.DELETE_KEY,\n        ENTER_KEY = constants_1.KEY_CODES.ENTER_KEY,\n        A_KEY = constants_1.KEY_CODES.A_KEY,\n        ESC_KEY = constants_1.KEY_CODES.ESC_KEY,\n        UP_KEY = constants_1.KEY_CODES.UP_KEY,\n        DOWN_KEY = constants_1.KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = constants_1.KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = constants_1.KEY_CODES.PAGE_DOWN_KEY;\n\n    if (!this._isTextElement && !hasActiveDropdown && wasAlphaNumericChar) {\n      this.showDropdown();\n\n      if (!this.input.isFocussed) {\n        /*\n          We update the input value with the pressed key as\n          the input was not focussed at the time of key press\n          therefore does not have the value of the key.\n        */\n        this.input.value += keyString.toLowerCase();\n      }\n    }\n\n    switch (keyCode) {\n      case A_KEY:\n        return this._onSelectKey(event, hasItems);\n\n      case ENTER_KEY:\n        return this._onEnterKey(event, activeItems, hasActiveDropdown);\n\n      case ESC_KEY:\n        return this._onEscapeKey(hasActiveDropdown);\n\n      case UP_KEY:\n      case PAGE_UP_KEY:\n      case DOWN_KEY:\n      case PAGE_DOWN_KEY:\n        return this._onDirectionKey(event, hasActiveDropdown);\n\n      case DELETE_KEY:\n      case BACK_KEY:\n        return this._onDeleteKey(event, activeItems, hasFocusedInput);\n\n      default:\n    }\n  };\n\n  Choices.prototype._onKeyUp = function (_a) {\n    var target = _a.target,\n        keyCode = _a.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = constants_1.KEY_CODES.BACK_KEY,\n        deleteKey = constants_1.KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var wasRemovalKeyCode = keyCode === backKey || keyCode === deleteKey;\n      var userHasRemovedValue = wasRemovalKeyCode && target && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch((0, choices_1.activateChoices)(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.rawValue);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  Choices.prototype._onSelectKey = function (event, hasItems) {\n    var ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If CTRL + A or CMD + A have been pressed and there are items to select\n\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  Choices.prototype._onEnterKey = function (event, activeItems, hasActiveDropdown) {\n    var target = event.target;\n    var enterKey = constants_1.KEY_CODES.ENTER_KEY;\n    var targetWasButton = target && target.hasAttribute('data-button');\n\n    if (this._isTextElement && target && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\".concat(this.config.classNames.highlightedState));\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onEscapeKey = function (hasActiveDropdown) {\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n    var keyCode = event.keyCode,\n        metaKey = event.metaKey;\n    var downKey = constants_1.KEY_CODES.DOWN_KEY,\n        pageUpKey = constants_1.KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = constants_1.KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl = void 0;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\".concat(this.config.classNames.highlightedState));\n\n        if (currentEl) {\n          nextEl = (0, utils_1.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!(0, utils_1.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onDeleteKey = function (event, activeItems, hasFocusedInput) {\n    var target = event.target; // If backspace or delete key is pressed and the input has no value\n\n    if (!this._isSelectOneElement && !target.value && hasFocusedInput) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onTouchMove = function () {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  Choices.prototype._onTouchEnd = function (event) {\n    var target = (event || event.touches[0]).target;\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  };\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   */\n\n\n  Choices.prototype._onMouseDown = function (event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice = this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  };\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n\n\n  Choices.prototype._onMouseOver = function (_a) {\n    var target = _a.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  Choices.prototype._onClick = function (_a) {\n    var target = _a.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  Choices.prototype._onFocus = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var focusWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.containerOuter.addFocusState();\n      }\n    }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n      _this.containerOuter.addFocusState();\n\n      if (target === _this.input.element) {\n        _this.showDropdown(true);\n      }\n    }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this.containerOuter.addFocusState();\n      }\n    }, _b);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  Choices.prototype._onBlur = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var blurWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems_1 = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n        _this.containerOuter.removeFocusState();\n\n        if (target === _this.input.element || target === _this.containerOuter.element && !_this._canSearch) {\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          _this.hideDropdown(true);\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n        }\n      }, _b);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  Choices.prototype._onFormReset = function () {\n    this._store.dispatch((0, misc_1.resetTo)(this._initialState));\n  };\n\n  Choices.prototype._highlightChoice = function (el) {\n    var _this = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\".concat(this.config.classNames.highlightedState))); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  Choices.prototype._addItem = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.choiceId,\n        choiceId = _c === void 0 ? -1 : _c,\n        _d = _a.groupId,\n        groupId = _d === void 0 ? -1 : _d,\n        _e = _a.customProperties,\n        customProperties = _e === void 0 ? {} : _e,\n        _f = _a.placeholder,\n        placeholder = _f === void 0 ? false : _f,\n        _g = _a.keyCode,\n        keyCode = _g === void 0 ? -1 : _g;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch((0, items_1.addItem)({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null,\n      keyCode: keyCode\n    });\n  };\n\n  Choices.prototype._removeItem = function (item) {\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        customProperties = item.customProperties,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId && groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    if (!id || !choiceId) {\n      return;\n    }\n\n    this._store.dispatch((0, items_1.removeItem)(id, choiceId));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.removeItem, {\n      id: id,\n      value: value,\n      label: label,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null\n    });\n  };\n\n  Choices.prototype._addChoice = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.isSelected,\n        isSelected = _c === void 0 ? false : _c,\n        _d = _a.isDisabled,\n        isDisabled = _d === void 0 ? false : _d,\n        _e = _a.groupId,\n        groupId = _e === void 0 ? -1 : _e,\n        _f = _a.customProperties,\n        customProperties = _f === void 0 ? {} : _f,\n        _g = _a.placeholder,\n        placeholder = _g === void 0 ? false : _g,\n        _h = _a.keyCode,\n        keyCode = _h === void 0 ? -1 : _h;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choiceId);\n\n    this._store.dispatch((0, choices_1.addChoice)({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  Choices.prototype._addGroup = function (_a) {\n    var _this = this;\n\n    var group = _a.group,\n        id = _a.id,\n        _b = _a.valueKey,\n        valueKey = _b === void 0 ? 'value' : _b,\n        _c = _a.labelKey,\n        labelKey = _c === void 0 ? 'label' : _c;\n    var groupChoices = (0, utils_1.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function (choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this._addChoice({\n          value: choice[valueKey],\n          label: (0, utils_1.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  Choices.prototype._getTemplate = function (template) {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return (_a = this._templates[template]).call.apply(_a, __spreadArray([this, this.config], args, false));\n  };\n\n  Choices.prototype._createTemplates = function () {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, utils_1.strToEl);\n    }\n\n    this._templates = (0, deepmerge_1.default)(templates_1.default, userTemplates);\n  };\n\n  Choices.prototype._createElements = function () {\n    this.containerOuter = new components_1.Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new components_1.Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new components_1.Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new components_1.List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new components_1.List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new components_1.Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  Choices.prototype._createStructure = function () {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  Choices.prototype._addPredefinedGroups = function (groups) {\n    var _this = this; // If we have a placeholder option\n\n\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  Choices.prototype._addPredefinedChoices = function (choices) {\n    var _this = this; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var _a = choice.value,\n          value = _a === void 0 ? '' : _a,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this._addChoice({\n            value: value,\n            label: label,\n            isSelected: !!isSelected,\n            isDisabled: !!isDisabled,\n            placeholder: !!placeholder,\n            customProperties: customProperties\n          });\n        }\n      } else {\n        _this._addChoice({\n          value: value,\n          label: label,\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: customProperties\n        });\n      }\n    });\n  };\n\n  Choices.prototype._addPredefinedItems = function (items) {\n    var _this = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  Choices.prototype._setChoiceOrItem = function (item) {\n    var _this = this;\n\n    var itemType = (0, utils_1.getType)(item).toLowerCase();\n    var handleType = {\n      object: function () {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function () {\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  Choices.prototype._findAndSelectChoiceByValue = function (value) {\n    var _this = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this.config.valueComparer(choice.value, value);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  Choices.prototype._generatePlaceholderValue = function () {\n    if (this._isSelectElement && this.passedElement.placeholderOption) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : null;\n    }\n\n    var _a = this.config,\n        placeholder = _a.placeholder,\n        placeholderValue = _a.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return null;\n  };\n\n  return Choices;\n}();\n\nexports[\"default\"] = Choices;\n\n/***/ }),\n\n/***/ 613:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Container =\n/** @class */\nfunction () {\n  function Container(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        position = _a.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Container.prototype.addEventListeners = function () {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  Container.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   */\n\n\n  Container.prototype.shouldFlip = function (dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  };\n\n  Container.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Container.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Container.prototype.open = function (dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  Container.prototype.close = function () {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  Container.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Container.prototype.addFocusState = function () {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  Container.prototype.removeFocusState = function () {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  Container.prototype.enable = function () {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  Container.prototype.disable = function () {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  };\n\n  Container.prototype.wrap = function (element) {\n    (0, utils_1.wrap)(element, this.element);\n  };\n\n  Container.prototype.unwrap = function (element) {\n    if (this.element.parentNode) {\n      // Move passed element outside this element\n      this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n      this.element.parentNode.removeChild(this.element);\n    }\n  };\n\n  Container.prototype.addLoadingState = function () {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  Container.prototype.removeLoadingState = function () {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  Container.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Container.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\nexports[\"default\"] = Container;\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar Dropdown =\n/** @class */\nfunction () {\n  function Dropdown(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n\n  Object.defineProperty(Dropdown.prototype, \"distanceFromTopWindow\", {\n    /**\n     * Bottom position of dropdown in viewport coordinates\n     */\n    get: function () {\n      return this.element.getBoundingClientRect().bottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Dropdown.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n  /**\n   * Show dropdown to user by adding active state class\n   */\n\n\n  Dropdown.prototype.show = function () {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  };\n  /**\n   * Hide dropdown from user\n   */\n\n\n  Dropdown.prototype.hide = function () {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  return Dropdown;\n}();\n\nexports[\"default\"] = Dropdown;\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WrappedSelect = exports.WrappedInput = exports.List = exports.Input = exports.Container = exports.Dropdown = void 0;\n\nvar dropdown_1 = __importDefault(__webpack_require__(217));\n\nexports.Dropdown = dropdown_1.default;\n\nvar container_1 = __importDefault(__webpack_require__(613));\n\nexports.Container = container_1.default;\n\nvar input_1 = __importDefault(__webpack_require__(11));\n\nexports.Input = input_1.default;\n\nvar list_1 = __importDefault(__webpack_require__(624));\n\nexports.List = list_1.default;\n\nvar wrapped_input_1 = __importDefault(__webpack_require__(541));\n\nexports.WrappedInput = wrapped_input_1.default;\n\nvar wrapped_select_1 = __importDefault(__webpack_require__(982));\n\nexports.WrappedSelect = wrapped_select_1.default;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Input =\n/** @class */\nfunction () {\n  function Input(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        preventPaste = _a.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element.isEqualNode(document.activeElement);\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Object.defineProperty(Input.prototype, \"placeholder\", {\n    set: function (placeholder) {\n      this.element.placeholder = placeholder;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"value\", {\n    get: function () {\n      return (0, utils_1.sanitise)(this.element.value);\n    },\n    set: function (value) {\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"rawValue\", {\n    get: function () {\n      return this.element.value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Input.prototype.addEventListeners = function () {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  Input.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('input', this._onInput);\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n\n  Input.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  Input.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  Input.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Input.prototype.blur = function () {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  };\n\n  Input.prototype.clear = function (setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  };\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n\n\n  Input.prototype.setWidth = function () {\n    // Resize input to contents or placeholder\n    var _a = this.element,\n        style = _a.style,\n        value = _a.value,\n        placeholder = _a.placeholder;\n    style.minWidth = \"\".concat(placeholder.length + 1, \"ch\");\n    style.width = \"\".concat(value.length + 1, \"ch\");\n  };\n\n  Input.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Input.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Input.prototype._onInput = function () {\n    if (this.type !== constants_1.SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  };\n\n  Input.prototype._onPaste = function (event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  Input.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Input.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Input;\n}();\n\nexports[\"default\"] = Input;\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar constants_1 = __webpack_require__(883);\n\nvar List =\n/** @class */\nfunction () {\n  function List(_a) {\n    var element = _a.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  List.prototype.clear = function () {\n    this.element.innerHTML = '';\n  };\n\n  List.prototype.append = function (node) {\n    this.element.appendChild(node);\n  };\n\n  List.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n\n  List.prototype.hasChildren = function () {\n    return this.element.hasChildNodes();\n  };\n\n  List.prototype.scrollToTop = function () {\n    this.element.scrollTop = 0;\n  };\n\n  List.prototype.scrollToChildElement = function (element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  };\n\n  List.prototype._scrollDown = function (scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  };\n\n  List.prototype._scrollUp = function (scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  };\n\n  List.prototype._animateScroll = function (destination, direction) {\n    var _this = this;\n\n    var strength = constants_1.SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\nexports[\"default\"] = List;\n\n/***/ }),\n\n/***/ 730:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar WrappedElement =\n/** @class */\nfunction () {\n  function WrappedElement(_a) {\n    var element = _a.element,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n    get: function () {\n      return this.element.dataset.choice === 'active';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"dir\", {\n    get: function () {\n      return this.element.dir;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedElement.prototype.conceal = function () {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  WrappedElement.prototype.reveal = function () {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  WrappedElement.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  WrappedElement.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  WrappedElement.prototype.triggerEvent = function (eventType, data) {\n    (0, utils_1.dispatchEvent)(this.element, eventType, data);\n  };\n\n  return WrappedElement;\n}();\n\nexports[\"default\"] = WrappedElement;\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedInput =\n/** @class */\nfunction (_super) {\n  __extends(WrappedInput, _super);\n\n  function WrappedInput(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        delimiter = _a.delimiter;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.delimiter = delimiter;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedInput.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      this.element.setAttribute('value', value);\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return WrappedInput;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedInput;\n\n/***/ }),\n\n/***/ 982:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedSelect =\n/** @class */\nfunction (_super) {\n  __extends(WrappedSelect, _super);\n\n  function WrappedSelect(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        template = _a.template;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.template = template;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n    get: function () {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"optionGroups\", {\n    get: function () {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"options\", {\n    get: function () {\n      return Array.from(this.element.options);\n    },\n    set: function (options) {\n      var _this = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function (data) {\n        // Create a standard select option\n        var option = _this.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedSelect.prototype.appendDocFragment = function (fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  return WrappedSelect;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedSelect;\n\n/***/ }),\n\n/***/ 883:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SCROLLING_SPEED = exports.SELECT_MULTIPLE_TYPE = exports.SELECT_ONE_TYPE = exports.TEXT_TYPE = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = void 0;\nexports.EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice',\n  unhighlightItem: 'unhighlightItem'\n};\nexports.ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL',\n  RESET_TO: 'RESET_TO',\n  SET_IS_LOADING: 'SET_IS_LOADING'\n};\nexports.KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nexports.TEXT_TYPE = 'text';\nexports.SELECT_ONE_TYPE = 'select-one';\nexports.SELECT_MULTIPLE_TYPE = 'select-multiple';\nexports.SCROLLING_SPEED = 4;\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;\n\nvar utils_1 = __webpack_require__(799);\n\nexports.DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\nexports.DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  allowHTML: true,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: utils_1.sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function (value) {\n    return \"Press Enter to add <b>\\\"\".concat((0, utils_1.sanitise)(value), \"\\\"</b>\");\n  },\n  maxItemText: function (maxItemCount) {\n    return \"Only \".concat(maxItemCount, \" values can be added\");\n  },\n  valueComparer: function (value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: exports.DEFAULT_CLASSNAMES\n};\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 978:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 948:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n__exportStar(__webpack_require__(18), exports);\n\n__exportStar(__webpack_require__(978), exports);\n\n__exportStar(__webpack_require__(948), exports);\n\n__exportStar(__webpack_require__(359), exports);\n\n__exportStar(__webpack_require__(285), exports);\n\n__exportStar(__webpack_require__(533), exports);\n\n__exportStar(__webpack_require__(287), exports);\n\n__exportStar(__webpack_require__(132), exports);\n\n__exportStar(__webpack_require__(837), exports);\n\n__exportStar(__webpack_require__(598), exports);\n\n__exportStar(__webpack_require__(369), exports);\n\n__exportStar(__webpack_require__(37), exports);\n\n__exportStar(__webpack_require__(47), exports);\n\n__exportStar(__webpack_require__(923), exports);\n\n__exportStar(__webpack_require__(876), exports);\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 369:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 923:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.diff = exports.cloneObject = exports.existsInArray = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.wrap = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;\n\nvar getRandomNumber = function (min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexports.getRandomNumber = getRandomNumber;\n\nvar generateChars = function (length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return (0, exports.getRandomNumber)(0, 36).toString(36);\n  }).join('');\n};\n\nexports.generateChars = generateChars;\n\nvar generateId = function (element, prefix) {\n  var id = element.id || element.name && \"\".concat(element.name, \"-\").concat((0, exports.generateChars)(2)) || (0, exports.generateChars)(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = \"\".concat(prefix, \"-\").concat(id);\n  return id;\n};\n\nexports.generateId = generateId;\n\nvar getType = function (obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n\nexports.getType = getType;\n\nvar isType = function (type, obj) {\n  return obj !== undefined && obj !== null && (0, exports.getType)(obj) === type;\n};\n\nexports.isType = isType;\n\nvar wrap = function (element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.parentNode) {\n    if (element.nextSibling) {\n      element.parentNode.insertBefore(wrapper, element.nextSibling);\n    } else {\n      element.parentNode.appendChild(wrapper);\n    }\n  }\n\n  return wrapper.appendChild(element);\n};\n\nexports.wrap = wrap;\n\nvar getAdjacentEl = function (startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n\nexports.getAdjacentEl = getAdjacentEl;\n\nvar isScrolledIntoView = function (element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n\nexports.isScrolledIntoView = isScrolledIntoView;\n\nvar sanitise = function (value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n\nexports.sanitise = sanitise;\n\nexports.strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n\nvar sortByAlpha = function (_a, _b) {\n  var value = _a.value,\n      _c = _a.label,\n      label = _c === void 0 ? value : _c;\n  var value2 = _b.value,\n      _d = _b.label,\n      label2 = _d === void 0 ? value2 : _d;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n\nexports.sortByAlpha = sortByAlpha;\n\nvar sortByScore = function (a, b) {\n  var _a = a.score,\n      scoreA = _a === void 0 ? 0 : _a;\n  var _b = b.score,\n      scoreB = _b === void 0 ? 0 : _b;\n  return scoreA - scoreB;\n};\n\nexports.sortByScore = sortByScore;\n\nvar dispatchEvent = function (element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n\nexports.dispatchEvent = dispatchEvent;\n\nvar existsInArray = function (array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n\nexports.existsInArray = existsInArray;\n\nvar cloneObject = function (obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nexports.cloneObject = cloneObject;\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n\nvar diff = function (a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n\nexports.diff = diff;\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction choices(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        var addChoiceAction = action;\n        var choice = {\n          id: addChoiceAction.id,\n          elementId: addChoiceAction.elementId,\n          groupId: addChoiceAction.groupId,\n          value: addChoiceAction.value,\n          label: addChoiceAction.label || addChoiceAction.value,\n          disabled: addChoiceAction.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: addChoiceAction.customProperties,\n          placeholder: addChoiceAction.placeholder || false\n        };\n        /*\n          A disabled choice appears in the choice dropdown but cannot be selected\n          A selected choice has been added to the passed input's value (added as an item)\n          An active choice appears within the choice dropdown\n        */\n\n        return __spreadArray(__spreadArray([], state, true), [choice], false);\n      }\n\n    case 'ADD_ITEM':\n      {\n        var addItemAction_1 = action; // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n        if (addItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(addItemAction_1.choiceId), 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        var removeItemAction_1 = action; // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n\n        if (removeItemAction_1.choiceId && removeItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(removeItemAction_1.choiceId), 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        var filterChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = filterChoicesAction_1.results.some(function (_a) {\n            var item = _a.item,\n                score = _a.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        var activateChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = activateChoicesAction_1.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return exports.defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = choices;\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        var addGroupAction = action;\n        return __spreadArray(__spreadArray([], state, true), [{\n          id: addGroupAction.id,\n          value: addGroupAction.value,\n          active: addGroupAction.active,\n          disabled: addGroupAction.disabled\n        }], false);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = groups;\n\n/***/ }),\n\n/***/ 655:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\n\nvar redux_1 = __webpack_require__(857);\n\nvar items_1 = __importDefault(__webpack_require__(52));\n\nvar groups_1 = __importDefault(__webpack_require__(871));\n\nvar choices_1 = __importDefault(__webpack_require__(273));\n\nvar loading_1 = __importDefault(__webpack_require__(502));\n\nvar utils_1 = __webpack_require__(799);\n\nexports.defaultState = {\n  groups: [],\n  items: [],\n  choices: [],\n  loading: false\n};\nvar appReducer = (0, redux_1.combineReducers)({\n  items: items_1.default,\n  groups: groups_1.default,\n  choices: choices_1.default,\n  loading: loading_1.default\n});\n\nvar rootReducer = function (passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = exports.defaultState;\n  } else if (action.type === 'RESET_TO') {\n    return (0, utils_1.cloneObject)(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\nexports[\"default\"] = rootReducer;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction items(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        var addItemAction = action; // Add object to items array\n\n        var newState = __spreadArray(__spreadArray([], state, true), [{\n          id: addItemAction.id,\n          choiceId: addItemAction.choiceId,\n          groupId: addItemAction.groupId,\n          value: addItemAction.value,\n          label: addItemAction.label,\n          active: true,\n          highlighted: false,\n          customProperties: addItemAction.customProperties,\n          placeholder: addItemAction.placeholder || false,\n          keyCode: null\n        }], false);\n\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        var highlightItemAction_1 = action;\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === highlightItemAction_1.id) {\n            item.highlighted = highlightItemAction_1.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = items;\n\n/***/ }),\n\n/***/ 502:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = false;\n\nvar general = function (state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return action.isLoading;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexports[\"default\"] = general;\n\n/***/ }),\n\n/***/ 744:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nvar redux_1 = __webpack_require__(857);\n\nvar index_1 = __importDefault(__webpack_require__(655));\n\nvar Store =\n/** @class */\nfunction () {\n  function Store() {\n    this._store = (0, redux_1.createStore)(index_1.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   */\n\n\n  Store.prototype.subscribe = function (onChange) {\n    this._store.subscribe(onChange);\n  };\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   */\n\n\n  Store.prototype.dispatch = function (action) {\n    this._store.dispatch(action);\n  };\n\n  Object.defineProperty(Store.prototype, \"state\", {\n    /**\n     * Get store object (wrapping Redux method)\n     */\n    get: function () {\n      return this._store.getState();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"items\", {\n    /**\n     * Get items from store\n     */\n    get: function () {\n      return this.state.items;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeItems\", {\n    /**\n     * Get active items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n    /**\n     * Get highlighted items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"choices\", {\n    /**\n     * Get choices from store\n     */\n    get: function () {\n      return this.state.choices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeChoices\", {\n    /**\n     * Get active choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"selectableChoices\", {\n    /**\n     * Get selectable choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"searchableChoices\", {\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     */\n    get: function () {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"placeholderChoice\", {\n    /**\n     * Get placeholder choice from store\n     */\n    get: function () {\n      return __spreadArray([], this.choices, true).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"groups\", {\n    /**\n     * Get groups from store\n     */\n    get: function () {\n      return this.state.groups;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeGroups\", {\n    /**\n     * Get active groups from store\n     */\n    get: function () {\n      var _a = this,\n          groups = _a.groups,\n          choices = _a.choices;\n\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Get loading state from store\n   */\n\n  Store.prototype.isLoading = function () {\n    return this.state.loading;\n  };\n  /**\n   * Get single choice by it's ID\n   */\n\n\n  Store.prototype.getChoiceById = function (id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  };\n  /**\n   * Get group by group id\n   */\n\n\n  Store.prototype.getGroupById = function (id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  return Store;\n}();\n\nexports[\"default\"] = Store;\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar templates = {\n  containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n    var containerOuter = _a.classNames.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  containerInner: function (_a) {\n    var containerInner = _a.classNames.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: containerInner\n    });\n  },\n  itemList: function (_a, isSelectOneElement) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listSingle = _b.listSingle,\n        listItems = _b.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: \"\".concat(list, \" \").concat(isSelectOneElement ? listSingle : listItems)\n    });\n  },\n  placeholder: function (_a, value) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        placeholder = _a.classNames.placeholder;\n    return Object.assign(document.createElement('div'), (_b = {\n      className: placeholder\n    }, _b[allowHTML ? 'innerHTML' : 'innerText'] = value, _b));\n  },\n  item: function (_a, _b, removeItemButton) {\n    var _c, _d;\n\n    var allowHTML = _a.allowHTML,\n        _e = _a.classNames,\n        item = _e.item,\n        button = _e.button,\n        highlightedState = _e.highlightedState,\n        itemSelectable = _e.itemSelectable,\n        placeholder = _e.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        customProperties = _b.customProperties,\n        active = _b.active,\n        disabled = _b.disabled,\n        highlighted = _b.highlighted,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      className: item\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c));\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), (_d = {\n        type: 'button',\n        className: button\n      }, _d[allowHTML ? 'innerHTML' : 'innerText'] = REMOVE_ITEM_TEXT, _d));\n      removeButton.setAttribute('aria-label', \"\".concat(REMOVE_ITEM_TEXT, \": '\").concat(value, \"'\"));\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n  choiceList: function (_a, isSelectOneElement) {\n    var list = _a.classNames.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n  choiceGroup: function (_a, _b) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        group = _d.group,\n        groupHeading = _d.groupHeading,\n        itemDisabled = _d.itemDisabled;\n    var id = _b.id,\n        value = _b.value,\n        disabled = _b.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: \"\".concat(group, \" \").concat(disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), (_c = {\n      className: groupHeading\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = value, _c)));\n    return div;\n  },\n  choice: function (_a, _b, selectText) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        item = _d.item,\n        itemChoice = _d.itemChoice,\n        itemSelectable = _d.itemSelectable,\n        selectedState = _d.selectedState,\n        itemDisabled = _d.itemDisabled,\n        placeholder = _d.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        groupId = _b.groupId,\n        elementId = _b.elementId,\n        isDisabled = _b.disabled,\n        isSelected = _b.selected,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      id: elementId\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c.className = \"\".concat(item, \" \").concat(itemChoice), _c));\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId && groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n  input: function (_a, placeholderValue) {\n    var _b = _a.classNames,\n        input = _b.input,\n        inputCloned = _b.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'search',\n      name: 'search_terms',\n      className: \"\".concat(input, \" \").concat(inputCloned),\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n  dropdown: function (_a) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listDropdown = _b.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  notice: function (_a, innerText, type) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        _c = _a.classNames,\n        item = _c.item,\n        itemChoice = _c.itemChoice,\n        noResults = _c.noResults,\n        noChoices = _c.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), (_b = {}, _b[allowHTML ? 'innerHTML' : 'innerText'] = innerText, _b.className = classes.join(' '), _b));\n  },\n  option: function (_a) {\n    var label = _a.label,\n        value = _a.value,\n        customProperties = _a.customProperties,\n        active = _a.active,\n        disabled = _a.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = \"\".concat(customProperties);\n    }\n\n    opt.disabled = !!disabled;\n    return opt;\n  }\n};\nexports[\"default\"] = templates;\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module) {\n\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Fuse; }\n/* harmony export */ });\n/**\n * Fuse.js v6.5.3 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      totalWeight += obj.weight;\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return { path, id, weight, src }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      // console.log(key)\n      let value = this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (!isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {}\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '6.5.3';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\n\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"__DO_NOT_USE__ActionTypes\": function() { return /* binding */ ActionTypes; },\n  \"applyMiddleware\": function() { return /* binding */ applyMiddleware; },\n  \"bindActionCreators\": function() { return /* binding */ bindActionCreators; },\n  \"combineReducers\": function() { return /* binding */ combineReducers; },\n  \"compose\": function() { return /* binding */ compose; },\n  \"createStore\": function() { return /* binding */ createStore; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n;// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (false) {}\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( true ? formatProdErrorMessage(0) : 0);\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(1) : 0);\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( true ? formatProdErrorMessage(2) : 0);\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(3) : 0);\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(4) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(5) : 0);\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( true ? formatProdErrorMessage(6) : 0);\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( true ? formatProdErrorMessage(7) : 0);\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(8) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(9) : 0);\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(10) : 0);\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( true ? formatProdErrorMessage(11) : 0);\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(12) : 0);\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(13) : 0);\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( true ? formatProdErrorMessage(14) : 0);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( true ? formatProdErrorMessage(16) : 0);\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( true ? formatProdErrorMessage(15) : 0);\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2(_objectSpread2({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(373);\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scripts_choices__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(187);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(883);\n/* harmony import */ var _scripts_defaults__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(789);\n/* harmony import */ var _scripts_templates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(686);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default()));\n\n}();\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    (function() {\n        \"use strict\";\n        qq.Error = function(message) {\n            this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n        };\n        qq.Error.prototype = new Error();\n    })();\n    qq.version = \"5.16.2\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.BlobProxy = function(referenceBlob, onCreate) {\n        \"use strict\";\n        qq.extend(this, {\n            referenceBlob: referenceBlob,\n            create: function() {\n                return onCreate(referenceBlob);\n            }\n        });\n    };\n    qq.UploadButton = function(o) {\n        \"use strict\";\n        var self = this, disposeSupport = new qq.DisposeSupport(), options = {\n            acceptFiles: null,\n            element: null,\n            focusClass: \"qq-upload-button-focus\",\n            folders: false,\n            hoverClass: \"qq-upload-button-hover\",\n            ios8BrowserCrashWorkaround: false,\n            multiple: false,\n            name: \"qqfile\",\n            onChange: function(input) {},\n            title: null\n        }, input, buttonId;\n        qq.extend(options, o);\n        buttonId = qq.getUniqueId();\n        function createInput() {\n            var input = document.createElement(\"input\");\n            input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n            input.setAttribute(\"title\", options.title);\n            self.setMultiple(options.multiple, input);\n            if (options.folders && qq.supportedFeatures.folderSelection) {\n                input.setAttribute(\"webkitdirectory\", \"\");\n            }\n            if (options.acceptFiles) {\n                input.setAttribute(\"accept\", options.acceptFiles);\n            }\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"name\", options.name);\n            qq(input).css({\n                position: \"absolute\",\n                right: 0,\n                top: 0,\n                fontFamily: \"Arial\",\n                fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n                margin: 0,\n                padding: 0,\n                cursor: \"pointer\",\n                opacity: 0\n            });\n            !qq.ie7() && qq(input).css({\n                height: \"100%\"\n            });\n            options.element.appendChild(input);\n            disposeSupport.attach(input, \"change\", function() {\n                options.onChange(input);\n            });\n            disposeSupport.attach(input, \"mouseover\", function() {\n                qq(options.element).addClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"mouseout\", function() {\n                qq(options.element).removeClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"focus\", function() {\n                qq(options.element).addClass(options.focusClass);\n            });\n            disposeSupport.attach(input, \"blur\", function() {\n                qq(options.element).removeClass(options.focusClass);\n            });\n            return input;\n        }\n        qq(options.element).css({\n            position: \"relative\",\n            overflow: \"hidden\",\n            direction: \"ltr\"\n        });\n        qq.extend(this, {\n            getInput: function() {\n                return input;\n            },\n            getButtonId: function() {\n                return buttonId;\n            },\n            setMultiple: function(isMultiple, optInput) {\n                var input = optInput || this.getInput();\n                if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n                    input.setAttribute(\"multiple\", \"\");\n                } else {\n                    if (isMultiple) {\n                        input.setAttribute(\"multiple\", \"\");\n                    } else {\n                        input.removeAttribute(\"multiple\");\n                    }\n                }\n            },\n            setAcceptFiles: function(acceptFiles) {\n                if (acceptFiles !== options.acceptFiles) {\n                    input.setAttribute(\"accept\", acceptFiles);\n                }\n            },\n            reset: function() {\n                if (input.parentNode) {\n                    qq(input).remove();\n                }\n                qq(options.element).removeClass(options.focusClass);\n                input = null;\n                input = createInput();\n            }\n        });\n        input = createInput();\n    };\n    qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n    qq.UploadData = function(uploaderProxy) {\n        \"use strict\";\n        var data = [], byUuid = {}, byStatus = {}, byProxyGroupId = {}, byBatchId = {};\n        function getDataByIds(idOrIds) {\n            if (qq.isArray(idOrIds)) {\n                var entries = [];\n                qq.each(idOrIds, function(idx, id) {\n                    entries.push(data[id]);\n                });\n                return entries;\n            }\n            return data[idOrIds];\n        }\n        function getDataByUuids(uuids) {\n            if (qq.isArray(uuids)) {\n                var entries = [];\n                qq.each(uuids, function(idx, uuid) {\n                    entries.push(data[byUuid[uuid]]);\n                });\n                return entries;\n            }\n            return data[byUuid[uuids]];\n        }\n        function getDataByStatus(status) {\n            var statusResults = [], statuses = [].concat(status);\n            qq.each(statuses, function(index, statusEnum) {\n                var statusResultIndexes = byStatus[statusEnum];\n                if (statusResultIndexes !== undefined) {\n                    qq.each(statusResultIndexes, function(i, dataIndex) {\n                        statusResults.push(data[dataIndex]);\n                    });\n                }\n            });\n            return statusResults;\n        }\n        qq.extend(this, {\n            addFile: function(spec) {\n                var status = spec.status || qq.status.SUBMITTING, id = data.push({\n                    name: spec.name,\n                    originalName: spec.name,\n                    uuid: spec.uuid,\n                    size: spec.size == null ? -1 : spec.size,\n                    status: status,\n                    file: spec.file\n                }) - 1;\n                if (spec.batchId) {\n                    data[id].batchId = spec.batchId;\n                    if (byBatchId[spec.batchId] === undefined) {\n                        byBatchId[spec.batchId] = [];\n                    }\n                    byBatchId[spec.batchId].push(id);\n                }\n                if (spec.proxyGroupId) {\n                    data[id].proxyGroupId = spec.proxyGroupId;\n                    if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n                        byProxyGroupId[spec.proxyGroupId] = [];\n                    }\n                    byProxyGroupId[spec.proxyGroupId].push(id);\n                }\n                data[id].id = id;\n                byUuid[spec.uuid] = id;\n                if (byStatus[status] === undefined) {\n                    byStatus[status] = [];\n                }\n                byStatus[status].push(id);\n                spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n                uploaderProxy.onStatusChange(id, null, status);\n                return id;\n            },\n            retrieve: function(optionalFilter) {\n                if (qq.isObject(optionalFilter) && data.length) {\n                    if (optionalFilter.id !== undefined) {\n                        return getDataByIds(optionalFilter.id);\n                    } else if (optionalFilter.uuid !== undefined) {\n                        return getDataByUuids(optionalFilter.uuid);\n                    } else if (optionalFilter.status) {\n                        return getDataByStatus(optionalFilter.status);\n                    }\n                } else {\n                    return qq.extend([], data, true);\n                }\n            },\n            removeFileRef: function(id) {\n                var record = getDataByIds(id);\n                if (record) {\n                    delete record.file;\n                }\n            },\n            reset: function() {\n                data = [];\n                byUuid = {};\n                byStatus = {};\n                byBatchId = {};\n            },\n            setStatus: function(id, newStatus) {\n                var oldStatus = data[id].status, byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n                byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n                data[id].status = newStatus;\n                if (byStatus[newStatus] === undefined) {\n                    byStatus[newStatus] = [];\n                }\n                byStatus[newStatus].push(id);\n                uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n            },\n            uuidChanged: function(id, newUuid) {\n                var oldUuid = data[id].uuid;\n                data[id].uuid = newUuid;\n                byUuid[newUuid] = id;\n                delete byUuid[oldUuid];\n            },\n            updateName: function(id, newName) {\n                data[id].name = newName;\n            },\n            updateSize: function(id, newSize) {\n                data[id].size = newSize;\n            },\n            setParentId: function(targetId, parentId) {\n                data[targetId].parentId = parentId;\n            },\n            getIdsInProxyGroup: function(id) {\n                var proxyGroupId = data[id].proxyGroupId;\n                if (proxyGroupId) {\n                    return byProxyGroupId[proxyGroupId];\n                }\n                return [];\n            },\n            getIdsInBatch: function(id) {\n                var batchId = data[id].batchId;\n                return byBatchId[batchId];\n            }\n        });\n    };\n    qq.status = {\n        SUBMITTING: \"submitting\",\n        SUBMITTED: \"submitted\",\n        REJECTED: \"rejected\",\n        QUEUED: \"queued\",\n        CANCELED: \"canceled\",\n        PAUSED: \"paused\",\n        UPLOADING: \"uploading\",\n        UPLOAD_FINALIZING: \"upload finalizing\",\n        UPLOAD_RETRYING: \"retrying upload\",\n        UPLOAD_SUCCESSFUL: \"upload successful\",\n        UPLOAD_FAILED: \"upload failed\",\n        DELETE_FAILED: \"delete failed\",\n        DELETING: \"deleting\",\n        DELETED: \"deleted\"\n    };\n    (function() {\n        \"use strict\";\n        qq.basePublicApi = {\n            addBlobs: function(blobDataOrArray, params, endpoint) {\n                this.addFiles(blobDataOrArray, params, endpoint);\n            },\n            addInitialFiles: function(cannedFileList) {\n                var self = this;\n                qq.each(cannedFileList, function(index, cannedFile) {\n                    self._addCannedFile(cannedFile);\n                });\n            },\n            addFiles: function(data, params, endpoint) {\n                this._maybeHandleIos8SafariWorkaround();\n                var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId, processBlob = qq.bind(function(blob) {\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName\n                    }, batchId, verifiedFiles);\n                }, this), processBlobData = qq.bind(function(blobData) {\n                    this._handleNewFile(blobData, batchId, verifiedFiles);\n                }, this), processCanvas = qq.bind(function(canvas) {\n                    var blob = qq.canvasToBlob(canvas);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName + \".png\"\n                    }, batchId, verifiedFiles);\n                }, this), processCanvasData = qq.bind(function(canvasData) {\n                    var normalizedQuality = canvasData.quality && canvasData.quality / 100, blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: canvasData.name\n                    }, batchId, verifiedFiles);\n                }, this), processFileOrInput = qq.bind(function(fileOrInput) {\n                    if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n                        var files = Array.prototype.slice.call(fileOrInput.files), self = this;\n                        qq.each(files, function(idx, file) {\n                            self._handleNewFile(file, batchId, verifiedFiles);\n                        });\n                    } else {\n                        this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n                    }\n                }, this), normalizeData = function() {\n                    if (qq.isFileList(data)) {\n                        data = Array.prototype.slice.call(data);\n                    }\n                    data = [].concat(data);\n                }, self = this, verifiedFiles = [];\n                this._currentBatchId = batchId;\n                if (data) {\n                    normalizeData();\n                    qq.each(data, function(idx, fileContainer) {\n                        if (qq.isFileOrInput(fileContainer)) {\n                            processFileOrInput(fileContainer);\n                        } else if (qq.isBlob(fileContainer)) {\n                            processBlob(fileContainer);\n                        } else if (qq.isObject(fileContainer)) {\n                            if (fileContainer.blob && fileContainer.name) {\n                                processBlobData(fileContainer);\n                            } else if (fileContainer.canvas && fileContainer.name) {\n                                processCanvasData(fileContainer);\n                            }\n                        } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n                            processCanvas(fileContainer);\n                        } else {\n                            self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n                        }\n                    });\n                    this.log(\"Received \" + verifiedFiles.length + \" files.\");\n                    this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n                }\n            },\n            cancel: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n                    this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n                } else {\n                    this._handler.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var storedIdsCopy = [], self = this;\n                qq.extend(storedIdsCopy, this._storedIds);\n                qq.each(storedIdsCopy, function(idx, storedFileId) {\n                    self.cancel(storedFileId);\n                });\n                this._handler.cancelAll();\n            },\n            clearStoredFiles: function() {\n                this._storedIds = [];\n            },\n            continueUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (uploadData.status === qq.status.PAUSED) {\n                    this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n                    this._uploadFile(id);\n                    return true;\n                } else {\n                    this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            deleteFile: function(id) {\n                return this._onSubmitDelete(id);\n            },\n            doesExist: function(fileOrBlobId) {\n                return this._handler.isValid(fileOrBlobId);\n            },\n            drawThumbnail: function(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n                var promiseToReturn = new qq.Promise(), fileOrUrl, options;\n                if (this._imageGenerator) {\n                    fileOrUrl = this._thumbnailUrls[fileId];\n                    options = {\n                        customResizeFunction: customResizeFunction,\n                        maxSize: maxSize > 0 ? maxSize : null,\n                        scale: maxSize > 0\n                    };\n                    if (!fromServer && qq.supportedFeatures.imagePreviews) {\n                        fileOrUrl = this.getFile(fileId);\n                    }\n                    if (fileOrUrl == null) {\n                        promiseToReturn.failure({\n                            container: imgOrCanvas,\n                            error: \"File or URL not found.\"\n                        });\n                    } else {\n                        this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n                            promiseToReturn.success(modifiedContainer);\n                        }, function failure(container, reason) {\n                            promiseToReturn.failure({\n                                container: container,\n                                error: reason || \"Problem generating thumbnail\"\n                            });\n                        });\n                    }\n                } else {\n                    promiseToReturn.failure({\n                        container: imgOrCanvas,\n                        error: \"Missing image generator module\"\n                    });\n                }\n                return promiseToReturn;\n            },\n            getButton: function(fileId) {\n                return this._getButton(this._buttonIdsForFileIds[fileId]);\n            },\n            getEndpoint: function(fileId) {\n                return this._endpointStore.get(fileId);\n            },\n            getFile: function(fileOrBlobId) {\n                var file = this._handler.getFile(fileOrBlobId);\n                var uploadDataRecord;\n                if (!file) {\n                    uploadDataRecord = this._uploadData.retrieve({\n                        id: fileOrBlobId\n                    });\n                    if (uploadDataRecord) {\n                        file = uploadDataRecord.file;\n                    }\n                }\n                return file || null;\n            },\n            getInProgress: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED ]\n                }).length;\n            },\n            getName: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).name;\n            },\n            getParentId: function(id) {\n                var uploadDataEntry = this.getUploads({\n                    id: id\n                }), parentId = null;\n                if (uploadDataEntry) {\n                    if (uploadDataEntry.parentId !== undefined) {\n                        parentId = uploadDataEntry.parentId;\n                    }\n                }\n                return parentId;\n            },\n            getResumableFilesData: function() {\n                return this._handler.getResumableFilesData();\n            },\n            getSize: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).size;\n            },\n            getNetUploads: function() {\n                return this._netUploaded;\n            },\n            getRemainingAllowedItems: function() {\n                var allowedItems = this._currentItemLimit;\n                if (allowedItems > 0) {\n                    return allowedItems - this._netUploadedOrQueued;\n                }\n                return null;\n            },\n            getUploads: function(optionalFilter) {\n                return this._uploadData.retrieve(optionalFilter);\n            },\n            getUuid: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).uuid;\n            },\n            isResumable: function(id) {\n                return this._handler.hasResumeRecord(id);\n            },\n            log: function(str, level) {\n                if (this._options.debug && (!level || level === \"info\")) {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n                } else if (level && level !== \"info\") {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n                }\n            },\n            pauseUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (qq.indexOf([ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING ], uploadData.status) >= 0) {\n                    if (this._handler.pause(id)) {\n                        this._uploadData.setStatus(id, qq.status.PAUSED);\n                        return true;\n                    } else {\n                        this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n                    }\n                } else {\n                    this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            removeFileRef: function(id) {\n                this._handler.expunge(id);\n                this._uploadData.removeFileRef(id);\n            },\n            reset: function() {\n                this.log(\"Resetting uploader...\");\n                this._handler.reset();\n                this._storedIds = [];\n                this._autoRetries = [];\n                this._retryTimeouts = [];\n                this._preventRetries = [];\n                this._thumbnailUrls = [];\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n                this._paramsStore.reset();\n                this._endpointStore.reset();\n                this._netUploadedOrQueued = 0;\n                this._netUploaded = 0;\n                this._uploadData.reset();\n                this._buttonIdsForFileIds = [];\n                this._pasteHandler && this._pasteHandler.reset();\n                this._options.session.refreshOnReset && this._refreshSessionData();\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n                this._totalProgress && this._totalProgress.reset();\n                this._customResumeDataStore.reset();\n            },\n            retry: function(id) {\n                return this._manualRetry(id);\n            },\n            scaleImage: function(id, specs) {\n                var self = this;\n                return qq.Scaler.prototype.scaleImage(id, specs, {\n                    log: qq.bind(self.log, self),\n                    getFile: qq.bind(self.getFile, self),\n                    uploadData: self._uploadData\n                });\n            },\n            setCustomHeaders: function(headers, id) {\n                this._customHeadersStore.set(headers, id);\n            },\n            setCustomResumeData: function(id, data) {\n                this._customResumeDataStore.set(data, id);\n            },\n            setDeleteFileCustomHeaders: function(headers, id) {\n                this._deleteFileCustomHeadersStore.set(headers, id);\n            },\n            setDeleteFileEndpoint: function(endpoint, id) {\n                this._deleteFileEndpointStore.set(endpoint, id);\n            },\n            setDeleteFileParams: function(params, id) {\n                this._deleteFileParamsStore.set(params, id);\n            },\n            setEndpoint: function(endpoint, id) {\n                this._endpointStore.set(endpoint, id);\n            },\n            setForm: function(elementOrId) {\n                this._updateFormSupportAndParams(elementOrId);\n            },\n            setItemLimit: function(newItemLimit) {\n                this._currentItemLimit = newItemLimit;\n            },\n            setName: function(id, newName) {\n                this._uploadData.updateName(id, newName);\n            },\n            setParams: function(params, id) {\n                this._paramsStore.set(params, id);\n            },\n            setUuid: function(id, newUuid) {\n                return this._uploadData.uuidChanged(id, newUuid);\n            },\n            setStatus: function(id, newStatus) {\n                var fileRecord = this.getUploads({\n                    id: id\n                });\n                if (!fileRecord) {\n                    throw new qq.Error(id + \" is not a valid file ID.\");\n                }\n                switch (newStatus) {\n                  case qq.status.DELETED:\n                    this._onDeleteComplete(id, null, false);\n                    break;\n\n                  case qq.status.DELETE_FAILED:\n                    this._onDeleteComplete(id, null, true);\n                    break;\n\n                  default:\n                    var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n                    this.log(errorMessage);\n                    throw new qq.Error(errorMessage);\n                }\n            },\n            uploadStoredFiles: function() {\n                if (this._storedIds.length === 0) {\n                    this._itemError(\"noFilesError\");\n                } else {\n                    this._uploadStoredFiles();\n                }\n            }\n        };\n        qq.basePrivateApi = {\n            _addCannedFile: function(sessionData) {\n                var self = this;\n                return this._uploadData.addFile({\n                    uuid: sessionData.uuid,\n                    name: sessionData.name,\n                    size: sessionData.size,\n                    status: qq.status.UPLOAD_SUCCESSFUL,\n                    onBeforeStatusChange: function(id) {\n                        sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n                        sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n                        if (sessionData.thumbnailUrl) {\n                            self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n                        }\n                        self._netUploaded++;\n                        self._netUploadedOrQueued++;\n                    }\n                });\n            },\n            _annotateWithButtonId: function(file, associatedInput) {\n                if (qq.isFile(file)) {\n                    file.qqButtonId = this._getButtonId(associatedInput);\n                }\n            },\n            _batchError: function(message) {\n                this._options.callbacks.onError(null, null, message, undefined);\n            },\n            _createDeleteHandler: function() {\n                var self = this;\n                return new qq.DeleteFileAjaxRequester({\n                    method: this._options.deleteFile.method.toUpperCase(),\n                    maxConnections: this._options.maxConnections,\n                    uuidParamName: this._options.request.uuidName,\n                    customHeaders: this._deleteFileCustomHeadersStore,\n                    paramsStore: this._deleteFileParamsStore,\n                    endpointStore: this._deleteFileEndpointStore,\n                    cors: this._options.cors,\n                    log: qq.bind(self.log, self),\n                    onDelete: function(id) {\n                        self._onDelete(id);\n                        self._options.callbacks.onDelete(id);\n                    },\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {\n                        self._onDeleteComplete(id, xhrOrXdr, isError);\n                        self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n                    }\n                });\n            },\n            _createPasteHandler: function() {\n                var self = this;\n                return new qq.PasteSupport({\n                    targetElement: this._options.paste.targetElement,\n                    callbacks: {\n                        log: qq.bind(self.log, self),\n                        pasteReceived: function(blob) {\n                            self._handleCheckedCallback({\n                                name: \"onPasteReceived\",\n                                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                                identifier: \"pasted image\"\n                            });\n                        }\n                    }\n                });\n            },\n            _createStore: function(initialValue, _readOnlyValues_) {\n                var store = {}, catchall = initialValue, perIdReadOnlyValues = {}, readOnlyValues = _readOnlyValues_, copy = function(orig) {\n                    if (qq.isObject(orig)) {\n                        return qq.extend({}, orig);\n                    }\n                    return orig;\n                }, getReadOnlyValues = function() {\n                    if (qq.isFunction(readOnlyValues)) {\n                        return readOnlyValues();\n                    }\n                    return readOnlyValues;\n                }, includeReadOnlyValues = function(id, existing) {\n                    if (readOnlyValues && qq.isObject(existing)) {\n                        qq.extend(existing, getReadOnlyValues());\n                    }\n                    if (perIdReadOnlyValues[id]) {\n                        qq.extend(existing, perIdReadOnlyValues[id]);\n                    }\n                };\n                return {\n                    set: function(val, id) {\n                        if (id == null) {\n                            store = {};\n                            catchall = copy(val);\n                        } else {\n                            store[id] = copy(val);\n                        }\n                    },\n                    get: function(id) {\n                        var values;\n                        if (id != null && store[id]) {\n                            values = store[id];\n                        } else {\n                            values = copy(catchall);\n                        }\n                        includeReadOnlyValues(id, values);\n                        return copy(values);\n                    },\n                    addReadOnly: function(id, values) {\n                        if (qq.isObject(store)) {\n                            if (id === null) {\n                                if (qq.isFunction(values)) {\n                                    readOnlyValues = values;\n                                } else {\n                                    readOnlyValues = readOnlyValues || {};\n                                    qq.extend(readOnlyValues, values);\n                                }\n                            } else {\n                                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                                qq.extend(perIdReadOnlyValues[id], values);\n                            }\n                        }\n                    },\n                    remove: function(fileId) {\n                        return delete store[fileId];\n                    },\n                    reset: function() {\n                        store = {};\n                        perIdReadOnlyValues = {};\n                        catchall = initialValue;\n                    }\n                };\n            },\n            _createUploadDataTracker: function() {\n                var self = this;\n                return new qq.UploadData({\n                    getName: function(id) {\n                        return self.getName(id);\n                    },\n                    getUuid: function(id) {\n                        return self.getUuid(id);\n                    },\n                    getSize: function(id) {\n                        return self.getSize(id);\n                    },\n                    onStatusChange: function(id, oldStatus, newStatus) {\n                        self._onUploadStatusChange(id, oldStatus, newStatus);\n                        self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n                        self._maybeAllComplete(id, newStatus);\n                        if (self._totalProgress) {\n                            setTimeout(function() {\n                                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n                            }, 0);\n                        }\n                    }\n                });\n            },\n            _createUploadButton: function(spec) {\n                var self = this, acceptFiles = spec.accept || this._options.validation.acceptFiles, allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions, button;\n                function allowMultiple() {\n                    if (qq.supportedFeatures.ajaxUploading) {\n                        if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n                            return false;\n                        }\n                        if (spec.multiple === undefined) {\n                            return self._options.multiple;\n                        }\n                        return spec.multiple;\n                    }\n                    return false;\n                }\n                button = new qq.UploadButton({\n                    acceptFiles: acceptFiles,\n                    element: spec.element,\n                    focusClass: this._options.classes.buttonFocus,\n                    folders: spec.folders,\n                    hoverClass: this._options.classes.buttonHover,\n                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n                    multiple: allowMultiple(),\n                    name: this._options.request.inputName,\n                    onChange: function(input) {\n                        self._onInputChange(input);\n                    },\n                    title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n                });\n                this._disposeSupport.addDisposer(function() {\n                    button.dispose();\n                });\n                self._buttons.push(button);\n                return button;\n            },\n            _createUploadHandler: function(additionalOptions, namespace) {\n                var self = this, lastOnProgress = {}, options = {\n                    debug: this._options.debug,\n                    maxConnections: this._options.maxConnections,\n                    cors: this._options.cors,\n                    paramsStore: this._paramsStore,\n                    endpointStore: this._endpointStore,\n                    chunking: this._options.chunking,\n                    resume: this._options.resume,\n                    blobs: this._options.blobs,\n                    log: qq.bind(self.log, self),\n                    preventRetryParam: this._options.retry.preventRetryResponseProperty,\n                    onProgress: function(id, name, loaded, total) {\n                        if (loaded < 0 || total < 0) {\n                            return;\n                        }\n                        if (lastOnProgress[id]) {\n                            if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                                self._onProgress(id, name, loaded, total);\n                                self._options.callbacks.onProgress(id, name, loaded, total);\n                            }\n                        } else {\n                            self._onProgress(id, name, loaded, total);\n                            self._options.callbacks.onProgress(id, name, loaded, total);\n                        }\n                        lastOnProgress[id] = {\n                            loaded: loaded,\n                            total: total\n                        };\n                    },\n                    onComplete: function(id, name, result, xhr) {\n                        delete lastOnProgress[id];\n                        var status = self.getUploads({\n                            id: id\n                        }).status, retVal;\n                        if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                            return;\n                        }\n                        retVal = self._onComplete(id, name, result, xhr);\n                        if (retVal instanceof qq.Promise) {\n                            retVal.done(function() {\n                                self._options.callbacks.onComplete(id, name, result, xhr);\n                            });\n                        } else {\n                            self._options.callbacks.onComplete(id, name, result, xhr);\n                        }\n                    },\n                    onCancel: function(id, name, cancelFinalizationEffort) {\n                        var promise = new qq.Promise();\n                        self._handleCheckedCallback({\n                            name: \"onCancel\",\n                            callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                            onFailure: promise.failure,\n                            onSuccess: function() {\n                                cancelFinalizationEffort.then(function() {\n                                    self._onCancel(id, name);\n                                });\n                                promise.success();\n                            },\n                            identifier: id\n                        });\n                        return promise;\n                    },\n                    onUploadPrep: qq.bind(this._onUploadPrep, this),\n                    onUpload: function(id, name) {\n                        self._onUpload(id, name);\n                        var onUploadResult = self._options.callbacks.onUpload(id, name);\n                        if (qq.isGenericPromise(onUploadResult)) {\n                            self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                            return onUploadResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunk: function(id, name, chunkData) {\n                        self._onUploadChunk(id, chunkData);\n                        var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n                        if (qq.isGenericPromise(onUploadChunkResult)) {\n                            self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                            return onUploadChunkResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunkSuccess: function(id, chunkData, result, xhr) {\n                        self._onUploadChunkSuccess(id, chunkData);\n                        self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n                    },\n                    onResume: function(id, name, chunkData, customResumeData) {\n                        return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n                    },\n                    onAutoRetry: function(id, name, responseJSON, xhr) {\n                        return self._onAutoRetry.apply(self, arguments);\n                    },\n                    onUuidChanged: function(id, newUuid) {\n                        self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n                        self.setUuid(id, newUuid);\n                    },\n                    getName: qq.bind(self.getName, self),\n                    getUuid: qq.bind(self.getUuid, self),\n                    getSize: qq.bind(self.getSize, self),\n                    setSize: qq.bind(self._setSize, self),\n                    getDataByUuid: function(uuid) {\n                        return self.getUploads({\n                            uuid: uuid\n                        });\n                    },\n                    isQueued: function(id) {\n                        var status = self.getUploads({\n                            id: id\n                        }).status;\n                        return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n                    },\n                    getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n                    getIdsInBatch: self._uploadData.getIdsInBatch,\n                    isInProgress: function(id) {\n                        return self.getUploads({\n                            id: id\n                        }).status === qq.status.UPLOADING;\n                    },\n                    getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n                    setStatus: function(id, status) {\n                        self._uploadData.setStatus(id, status);\n                    }\n                };\n                qq.each(this._options.request, function(prop, val) {\n                    options[prop] = val;\n                });\n                options.customHeaders = this._customHeadersStore;\n                if (additionalOptions) {\n                    qq.each(additionalOptions, function(key, val) {\n                        options[key] = val;\n                    });\n                }\n                return new qq.UploadHandlerController(options, namespace);\n            },\n            _fileOrBlobRejected: function(id) {\n                this._netUploadedOrQueued--;\n                this._uploadData.setStatus(id, qq.status.REJECTED);\n            },\n            _formatSize: function(bytes) {\n                if (bytes === 0) {\n                    return bytes + this._options.text.sizeSymbols[0];\n                }\n                var i = -1;\n                do {\n                    bytes = bytes / 1e3;\n                    i++;\n                } while (bytes > 999);\n                return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n            },\n            _generateExtraButtonSpecs: function() {\n                var self = this;\n                this._extraButtonSpecs = {};\n                qq.each(this._options.extraButtons, function(idx, extraButtonOptionEntry) {\n                    var multiple = extraButtonOptionEntry.multiple, validation = qq.extend({}, self._options.validation, true), extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n                    if (multiple === undefined) {\n                        multiple = self._options.multiple;\n                    }\n                    if (extraButtonSpec.validation) {\n                        qq.extend(validation, extraButtonOptionEntry.validation, true);\n                    }\n                    qq.extend(extraButtonSpec, {\n                        multiple: multiple,\n                        validation: validation\n                    }, true);\n                    self._initExtraButton(extraButtonSpec);\n                });\n            },\n            _getButton: function(buttonId) {\n                var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n                if (extraButtonsSpec) {\n                    return extraButtonsSpec.element;\n                } else if (buttonId === this._defaultButtonId) {\n                    return this._options.button;\n                }\n            },\n            _getButtonId: function(buttonOrFileInputOrFile) {\n                var inputs, fileInput, fileBlobOrInput = buttonOrFileInputOrFile;\n                if (fileBlobOrInput instanceof qq.BlobProxy) {\n                    fileBlobOrInput = fileBlobOrInput.referenceBlob;\n                }\n                if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n                    if (qq.isFile(fileBlobOrInput)) {\n                        return fileBlobOrInput.qqButtonId;\n                    } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n                        return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                    inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n                    qq.each(inputs, function(idx, input) {\n                        if (input.getAttribute(\"type\") === \"file\") {\n                            fileInput = input;\n                            return false;\n                        }\n                    });\n                    if (fileInput) {\n                        return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                }\n            },\n            _getCustomResumeData: function(fileId) {\n                return this._customResumeDataStore.get(fileId);\n            },\n            _getNotFinished: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED ]\n                }).length;\n            },\n            _getValidationBase: function(buttonId) {\n                var extraButtonSpec = this._extraButtonSpecs[buttonId];\n                return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n            },\n            _getValidationDescriptor: function(fileWrapper) {\n                if (fileWrapper.file instanceof qq.BlobProxy) {\n                    return {\n                        name: qq.getFilename(fileWrapper.file.referenceBlob),\n                        size: fileWrapper.file.referenceBlob.size\n                    };\n                }\n                return {\n                    name: this.getUploads({\n                        id: fileWrapper.id\n                    }).name,\n                    size: this.getUploads({\n                        id: fileWrapper.id\n                    }).size\n                };\n            },\n            _getValidationDescriptors: function(fileWrappers) {\n                var self = this, fileDescriptors = [];\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n                });\n                return fileDescriptors;\n            },\n            _handleCameraAccess: function() {\n                if (this._options.camera.ios && qq.ios()) {\n                    var acceptIosCamera = \"image/*;capture=camera\", button = this._options.camera.button, buttonId = button ? this._getButtonId(button) : this._defaultButtonId, optionRoot = this._options;\n                    if (buttonId && buttonId !== this._defaultButtonId) {\n                        optionRoot = this._extraButtonSpecs[buttonId];\n                    }\n                    optionRoot.multiple = false;\n                    if (optionRoot.validation.acceptFiles === null) {\n                        optionRoot.validation.acceptFiles = acceptIosCamera;\n                    } else {\n                        optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n                    }\n                    qq.each(this._buttons, function(idx, button) {\n                        if (button.getButtonId() === buttonId) {\n                            button.setMultiple(optionRoot.multiple);\n                            button.setAcceptFiles(optionRoot.acceptFiles);\n                            return false;\n                        }\n                    });\n                }\n            },\n            _handleCheckedCallback: function(details) {\n                var self = this, callbackRetVal = details.callback();\n                if (qq.isGenericPromise(callbackRetVal)) {\n                    this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n                    return callbackRetVal.then(function(successParam) {\n                        self.log(details.name + \" promise success for \" + details.identifier);\n                        details.onSuccess(successParam);\n                    }, function() {\n                        if (details.onFailure) {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                            details.onFailure();\n                        } else {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                        }\n                    });\n                }\n                if (callbackRetVal !== false) {\n                    details.onSuccess(callbackRetVal);\n                } else {\n                    if (details.onFailure) {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n                        details.onFailure();\n                    } else {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n                    }\n                }\n                return callbackRetVal;\n            },\n            _handleNewFile: function(file, batchId, newFileWrapperList) {\n                var self = this, uuid = qq.getUniqueId(), size = -1, name = qq.getFilename(file), actualFile = file.blob || file, handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n                if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n                    size = actualFile.size;\n                }\n                handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n                    uploadData: self._uploadData,\n                    paramsStore: self._paramsStore,\n                    addFileToHandler: function(id, file) {\n                        self._handler.add(id, file);\n                        self._netUploadedOrQueued++;\n                        self._trackButton(id);\n                    }\n                });\n            },\n            _handleNewFileGeneric: function(file, name, uuid, size, fileList, batchId) {\n                var id = this._uploadData.addFile({\n                    uuid: uuid,\n                    name: name,\n                    size: size,\n                    batchId: batchId,\n                    file: file\n                });\n                this._handler.add(id, file);\n                this._trackButton(id);\n                this._netUploadedOrQueued++;\n                fileList.push({\n                    id: id,\n                    file: file\n                });\n            },\n            _handlePasteSuccess: function(blob, extSuppliedName) {\n                var extension = blob.type.split(\"/\")[1], name = extSuppliedName;\n                if (name == null) {\n                    name = this._options.paste.defaultName;\n                }\n                name += \".\" + extension;\n                this.addFiles({\n                    name: name,\n                    blob: blob\n                });\n            },\n            _handleDeleteSuccess: function(id) {\n                if (this.getUploads({\n                    id: id\n                }).status !== qq.status.DELETED) {\n                    var name = this.getName(id);\n                    this._netUploadedOrQueued--;\n                    this._netUploaded--;\n                    this._handler.expunge(id);\n                    this._uploadData.setStatus(id, qq.status.DELETED);\n                    this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n                }\n            },\n            _handleDeleteFailed: function(id, xhrOrXdr) {\n                var name = this.getName(id);\n                this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n                this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n                if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n                    this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n                } else {\n                    this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n                }\n            },\n            _initExtraButton: function(spec) {\n                var button = this._createUploadButton({\n                    accept: spec.validation.acceptFiles,\n                    allowedExtensions: spec.validation.allowedExtensions,\n                    element: spec.element,\n                    folders: spec.folders,\n                    multiple: spec.multiple,\n                    title: spec.fileInputTitle\n                });\n                this._extraButtonSpecs[button.getButtonId()] = spec;\n            },\n            _initFormSupportAndParams: function() {\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this._options.request.endpoint = this._formSupport.newEndpoint;\n                    }\n                } else {\n                    this._paramsStore = this._createStore(this._options.request.params);\n                }\n            },\n            _isDeletePossible: function() {\n                if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n                    return false;\n                }\n                if (this._options.cors.expected) {\n                    if (qq.supportedFeatures.deleteFileCorsXhr) {\n                        return true;\n                    }\n                    if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n                        return true;\n                    }\n                    return false;\n                }\n                return true;\n            },\n            _isAllowedExtension: function(allowed, fileName) {\n                var valid = false;\n                if (!allowed.length) {\n                    return true;\n                }\n                qq.each(allowed, function(idx, allowedExt) {\n                    if (qq.isString(allowedExt)) {\n                        var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n                        if (fileName.match(extRegex) != null) {\n                            valid = true;\n                            return false;\n                        }\n                    }\n                });\n                return valid;\n            },\n            _itemError: function(code, maybeNameOrNames, item) {\n                var message = this._options.messages[code], allowedExtensions = [], names = [].concat(maybeNameOrNames), name = names[0], buttonId = this._getButtonId(item), validationBase = this._getValidationBase(buttonId), extensionsForMessage, placeholderMatch;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                qq.each(validationBase.allowedExtensions, function(idx, allowedExtension) {\n                    if (qq.isString(allowedExtension)) {\n                        allowedExtensions.push(allowedExtension);\n                    }\n                });\n                extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n                r(\"{file}\", this._options.formatFileName(name));\n                r(\"{extensions}\", extensionsForMessage);\n                r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n                r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n                placeholderMatch = message.match(/(\\{\\w+\\})/g);\n                if (placeholderMatch !== null) {\n                    qq.each(placeholderMatch, function(idx, placeholder) {\n                        r(placeholder, names[idx]);\n                    });\n                }\n                this._options.callbacks.onError(null, name, message, undefined);\n                return message;\n            },\n            _manualRetry: function(id, callback) {\n                if (this._onBeforeManualRetry(id)) {\n                    this._netUploadedOrQueued++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    if (callback) {\n                        callback(id);\n                    } else {\n                        this._handler.retry(id);\n                    }\n                    return true;\n                }\n            },\n            _maybeAllComplete: function(id, status) {\n                var self = this, notFinished = this._getNotFinished();\n                if (status === qq.status.UPLOAD_SUCCESSFUL) {\n                    this._succeededSinceLastAllComplete.push(id);\n                } else if (status === qq.status.UPLOAD_FAILED) {\n                    this._failedSinceLastAllComplete.push(id);\n                }\n                if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n                    setTimeout(function() {\n                        self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n                    }, 0);\n                }\n            },\n            _maybeHandleIos8SafariWorkaround: function() {\n                var self = this;\n                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n                    setTimeout(function() {\n                        window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n                    }, 0);\n                    throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n                }\n            },\n            _maybeParseAndSendUploadError: function(id, name, response, xhr) {\n                if (!response.success) {\n                    if (xhr && xhr.status !== 200 && !response.error) {\n                        this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n                    } else {\n                        var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n                        this._options.callbacks.onError(id, name, errorReason, xhr);\n                    }\n                }\n            },\n            _maybeProcessNextItemAfterOnValidateCallback: function(validItem, items, index, params, endpoint) {\n                var self = this;\n                if (items.length > index) {\n                    if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n                        setTimeout(function() {\n                            var validationDescriptor = self._getValidationDescriptor(items[index]), buttonId = self._getButtonId(items[index].file), button = self._getButton(buttonId);\n                            self._handleCheckedCallback({\n                                name: \"onValidate\",\n                                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n                            });\n                        }, 0);\n                    } else if (!validItem) {\n                        for (;index < items.length; index++) {\n                            self._fileOrBlobRejected(items[index].id);\n                        }\n                    }\n                }\n            },\n            _onAllComplete: function(successful, failed) {\n                this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n                this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n            },\n            _onAutoRetry: function(id, name, responseJSON, xhr, callback) {\n                var self = this;\n                self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n                if (self._shouldAutoRetry(id)) {\n                    var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n                    self._maybeParseAndSendUploadError.apply(self, arguments);\n                    self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n                    self._onBeforeAutoRetry(id, name);\n                    self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    self._retryTimeouts[id] = setTimeout(function() {\n                        self.log(\"Starting retry for \" + name + \"...\");\n                        if (callback) {\n                            callback(id);\n                        } else {\n                            self._handler.retry(id);\n                        }\n                    }, retryWaitPeriod);\n                    return true;\n                }\n            },\n            _onBeforeAutoRetry: function(id, name) {\n                this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n            },\n            _onBeforeManualRetry: function(id) {\n                var itemLimit = this._currentItemLimit, fileName;\n                if (this._preventRetries[id]) {\n                    this.log(\"Retries are forbidden for id \" + id, \"warn\");\n                    return false;\n                } else if (this._handler.isValid(id)) {\n                    fileName = this.getName(id);\n                    if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n                        return false;\n                    }\n                    if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n                        this._itemError(\"retryFailTooManyItems\");\n                        return false;\n                    }\n                    this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n                    return true;\n                } else {\n                    this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n                    return false;\n                }\n            },\n            _onCancel: function(id, name) {\n                this._netUploadedOrQueued--;\n                clearTimeout(this._retryTimeouts[id]);\n                var storedItemIndex = qq.indexOf(this._storedIds, id);\n                if (!this._options.autoUpload && storedItemIndex >= 0) {\n                    this._storedIds.splice(storedItemIndex, 1);\n                }\n                this._uploadData.setStatus(id, qq.status.CANCELED);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                if (!result.success) {\n                    this._netUploadedOrQueued--;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n                    if (result[this._options.retry.preventRetryResponseProperty] === true) {\n                        this._preventRetries[id] = true;\n                    }\n                } else {\n                    if (result.thumbnailUrl) {\n                        this._thumbnailUrls[id] = result.thumbnailUrl;\n                    }\n                    this._netUploaded++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n                }\n                this._maybeParseAndSendUploadError(id, name, result, xhr);\n                return result.success ? true : false;\n            },\n            _onDelete: function(id) {\n                this._uploadData.setStatus(id, qq.status.DELETING);\n            },\n            _onDeleteComplete: function(id, xhrOrXdr, isError) {\n                var name = this.getName(id);\n                if (isError) {\n                    this._handleDeleteFailed(id, xhrOrXdr);\n                } else {\n                    this._handleDeleteSuccess(id);\n                }\n            },\n            _onInputChange: function(input) {\n                var fileIndex;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n                        this._annotateWithButtonId(input.files[fileIndex], input);\n                    }\n                    this.addFiles(input.files);\n                } else if (input.value.length > 0) {\n                    this.addFiles(input);\n                }\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n            },\n            _onSubmit: function(id, name) {},\n            _onSubmitCallbackSuccess: function(id, name) {\n                this._onSubmit.apply(this, arguments);\n                this._uploadData.setStatus(id, qq.status.SUBMITTED);\n                this._onSubmitted.apply(this, arguments);\n                if (this._options.autoUpload) {\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                    this._uploadFile(id);\n                } else {\n                    this._storeForLater(id);\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                }\n            },\n            _onSubmitDelete: function(id, onSuccessCallback, additionalMandatedParams) {\n                var uuid = this.getUuid(id), adjustedOnSuccessCallback;\n                if (onSuccessCallback) {\n                    adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n                }\n                if (this._isDeletePossible()) {\n                    this._handleCheckedCallback({\n                        name: \"onSubmitDelete\",\n                        callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n                        onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n                        identifier: id\n                    });\n                    return true;\n                } else {\n                    this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n                    return false;\n                }\n            },\n            _onSubmitted: function(id) {},\n            _onTotalProgress: function(loaded, total) {\n                this._options.callbacks.onTotalProgress(loaded, total);\n            },\n            _onUploadPrep: function(id) {},\n            _onUpload: function(id, name) {\n                this._uploadData.setStatus(id, qq.status.UPLOADING);\n            },\n            _onUploadChunk: function(id, chunkData) {},\n            _onUploadChunkSuccess: function(id, chunkData) {\n                if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n                    this._autoRetries[id] = 0;\n                }\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.PAUSED) {\n                    clearTimeout(this._retryTimeouts[id]);\n                }\n            },\n            _onValidateBatchCallbackFailure: function(fileWrappers) {\n                var self = this;\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    self._fileOrBlobRejected(fileWrapper.id);\n                });\n            },\n            _onValidateBatchCallbackSuccess: function(validationDescriptors, items, params, endpoint, button) {\n                var errorMessage, itemLimit = this._currentItemLimit, proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n                if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n                    if (items.length > 0) {\n                        this._handleCheckedCallback({\n                            name: \"onValidate\",\n                            callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n                            onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n                            onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n                            identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n                        });\n                    } else {\n                        this._itemError(\"noFilesError\");\n                    }\n                } else {\n                    this._onValidateBatchCallbackFailure(items);\n                    errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n                    this._batchError(errorMessage);\n                }\n            },\n            _onValidateCallbackFailure: function(items, index, params, endpoint) {\n                var nextIndex = index + 1;\n                this._fileOrBlobRejected(items[index].id, items[index].file.name);\n                this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n            },\n            _onValidateCallbackSuccess: function(items, index, params, endpoint) {\n                var self = this, nextIndex = index + 1, validationDescriptor = this._getValidationDescriptor(items[index]);\n                this._validateFileOrBlobData(items[index], validationDescriptor).then(function() {\n                    self._upload(items[index].id, params, endpoint);\n                    self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n                }, function() {\n                    self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n                });\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                if (items.length === 0) {\n                    this._itemError(\"noFilesError\");\n                    return;\n                }\n                var validationDescriptors = this._getValidationDescriptors(items), buttonId = this._getButtonId(items[0].file), button = this._getButton(buttonId);\n                this._handleCheckedCallback({\n                    name: \"onValidateBatch\",\n                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n                    identifier: \"batch validation\"\n                });\n            },\n            _preventLeaveInProgress: function() {\n                var self = this;\n                this._disposeSupport.attach(window, \"beforeunload\", function(e) {\n                    if (self.getInProgress()) {\n                        e = e || window.event;\n                        e.returnValue = self._options.messages.onLeave;\n                        return self._options.messages.onLeave;\n                    }\n                });\n            },\n            _refreshSessionData: function() {\n                var self = this, options = this._options.session;\n                if (qq.Session && this._options.session.endpoint != null) {\n                    if (!this._session) {\n                        qq.extend(options, {\n                            cors: this._options.cors\n                        });\n                        options.log = qq.bind(this.log, this);\n                        options.addFileRecord = qq.bind(this._addCannedFile, this);\n                        this._session = new qq.Session(options);\n                    }\n                    setTimeout(function() {\n                        self._session.refresh().then(function(response, xhrOrXdr) {\n                            self._sessionRequestComplete();\n                            self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n                        }, function(response, xhrOrXdr) {\n                            self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n                        });\n                    }, 0);\n                }\n            },\n            _sessionRequestComplete: function() {},\n            _setSize: function(id, newSize) {\n                this._uploadData.updateSize(id, newSize);\n                this._totalProgress && this._totalProgress.onNewSize(id);\n            },\n            _shouldAutoRetry: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n                    if (this._autoRetries[id] === undefined) {\n                        this._autoRetries[id] = 0;\n                    }\n                    if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n                        this._autoRetries[id] += 1;\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _storeForLater: function(id) {\n                this._storedIds.push(id);\n            },\n            _trackButton: function(id) {\n                var buttonId;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    buttonId = this._handler.getFile(id).qqButtonId;\n                } else {\n                    buttonId = this._getButtonId(this._handler.getInput(id));\n                }\n                if (buttonId) {\n                    this._buttonIdsForFileIds[id] = buttonId;\n                }\n            },\n            _updateFormSupportAndParams: function(formElementOrId) {\n                this._options.form.element = formElementOrId;\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this.setEndpoint(this._formSupport.newEndpoint);\n                    }\n                }\n            },\n            _upload: function(id, params, endpoint) {\n                var name = this.getName(id);\n                if (params) {\n                    this.setParams(params, id);\n                }\n                if (endpoint) {\n                    this.setEndpoint(endpoint, id);\n                }\n                this._handleCheckedCallback({\n                    name: \"onSubmit\",\n                    callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n                    onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n                    identifier: id\n                });\n            },\n            _uploadFile: function(id) {\n                if (!this._handler.upload(id)) {\n                    this._uploadData.setStatus(id, qq.status.QUEUED);\n                }\n            },\n            _uploadStoredFiles: function() {\n                var idToUpload, stillSubmitting, self = this;\n                while (this._storedIds.length) {\n                    idToUpload = this._storedIds.shift();\n                    this._uploadFile(idToUpload);\n                }\n                stillSubmitting = this.getUploads({\n                    status: qq.status.SUBMITTING\n                }).length;\n                if (stillSubmitting) {\n                    qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n                    setTimeout(function() {\n                        self._uploadStoredFiles();\n                    }, 1e3);\n                }\n            },\n            _validateFileOrBlobData: function(fileWrapper, validationDescriptor) {\n                var self = this, file = function() {\n                    if (fileWrapper.file instanceof qq.BlobProxy) {\n                        return fileWrapper.file.referenceBlob;\n                    }\n                    return fileWrapper.file;\n                }(), name = validationDescriptor.name, size = validationDescriptor.size, buttonId = this._getButtonId(fileWrapper.file), validationBase = this._getValidationBase(buttonId), validityChecker = new qq.Promise();\n                validityChecker.then(function() {}, function() {\n                    self._fileOrBlobRejected(fileWrapper.id, name);\n                });\n                if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n                    this._itemError(\"typeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (!this._options.validation.allowEmpty && size === 0) {\n                    this._itemError(\"emptyError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n                    this._itemError(\"sizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && size < validationBase.minSizeLimit) {\n                    this._itemError(\"minSizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n                    new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function(errorCode) {\n                        self._itemError(errorCode + \"ImageError\", name, file);\n                        validityChecker.failure();\n                    });\n                } else {\n                    validityChecker.success();\n                }\n                return validityChecker;\n            },\n            _wrapCallbacks: function() {\n                var self, safeCallback, prop;\n                self = this;\n                safeCallback = function(name, callback, args) {\n                    var errorMsg;\n                    try {\n                        return callback.apply(self, args);\n                    } catch (exception) {\n                        errorMsg = exception.message || exception.toString();\n                        self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n                    }\n                };\n                for (prop in this._options.callbacks) {\n                    (function() {\n                        var callbackName, callbackFunc;\n                        callbackName = prop;\n                        callbackFunc = self._options.callbacks[callbackName];\n                        self._options.callbacks[callbackName] = function() {\n                            return safeCallback(callbackName, callbackFunc, arguments);\n                        };\n                    })();\n                }\n            }\n        };\n    })();\n    (function() {\n        \"use strict\";\n        qq.FineUploaderBasic = function(o) {\n            var self = this;\n            this._options = {\n                debug: false,\n                button: null,\n                multiple: true,\n                maxConnections: 3,\n                disableCancelForFormUploads: false,\n                autoUpload: true,\n                warnBeforeUnload: true,\n                request: {\n                    customHeaders: {},\n                    endpoint: \"/server/upload\",\n                    filenameParam: \"qqfilename\",\n                    forceMultipart: true,\n                    inputName: \"qqfile\",\n                    method: \"POST\",\n                    omitDefaultParams: false,\n                    params: {},\n                    paramsInBody: true,\n                    requireSuccessJson: true,\n                    totalFileSizeName: \"qqtotalfilesize\",\n                    uuidName: \"qquuid\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    sizeLimit: 0,\n                    minSizeLimit: 0,\n                    itemLimit: 0,\n                    stopOnFirstInvalidFile: true,\n                    acceptFiles: null,\n                    image: {\n                        maxHeight: 0,\n                        maxWidth: 0,\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    allowEmpty: false\n                },\n                callbacks: {\n                    onSubmit: function(id, name) {},\n                    onSubmitted: function(id, name) {},\n                    onComplete: function(id, name, responseJSON, maybeXhr) {},\n                    onAllComplete: function(successful, failed) {},\n                    onCancel: function(id, name) {},\n                    onUpload: function(id, name) {},\n                    onUploadChunk: function(id, name, chunkData) {},\n                    onUploadChunkSuccess: function(id, chunkData, responseJSON, xhr) {},\n                    onResume: function(id, fileName, chunkData, customResumeData) {},\n                    onProgress: function(id, name, loaded, total) {},\n                    onTotalProgress: function(loaded, total) {},\n                    onError: function(id, name, reason, maybeXhrOrXdr) {},\n                    onAutoRetry: function(id, name, attemptNumber) {},\n                    onManualRetry: function(id, name) {},\n                    onValidateBatch: function(fileOrBlobData) {},\n                    onValidate: function(fileOrBlobData) {},\n                    onSubmitDelete: function(id) {},\n                    onDelete: function(id) {},\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {},\n                    onPasteReceived: function(blob) {},\n                    onStatusChange: function(id, oldStatus, newStatus) {},\n                    onSessionRequestComplete: function(response, success, xhrOrXdr) {}\n                },\n                messages: {\n                    typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n                    sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n                    minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n                    emptyError: \"{file} is empty, please select files again without it.\",\n                    noFilesError: \"No files to upload.\",\n                    tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n                    maxHeightImageError: \"Image is too tall.\",\n                    maxWidthImageError: \"Image is too wide.\",\n                    minHeightImageError: \"Image is not tall enough.\",\n                    minWidthImageError: \"Image is not wide enough.\",\n                    retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n                    onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n                    unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n                },\n                retry: {\n                    enableAuto: false,\n                    maxAutoAttempts: 3,\n                    autoAttemptDelay: 5,\n                    preventRetryResponseProperty: \"preventRetry\"\n                },\n                classes: {\n                    buttonHover: \"qq-upload-button-hover\",\n                    buttonFocus: \"qq-upload-button-focus\"\n                },\n                chunking: {\n                    enabled: false,\n                    concurrent: {\n                        enabled: false\n                    },\n                    mandatory: false,\n                    paramNames: {\n                        partIndex: \"qqpartindex\",\n                        partByteOffset: \"qqpartbyteoffset\",\n                        chunkSize: \"qqchunksize\",\n                        totalFileSize: \"qqtotalfilesize\",\n                        totalParts: \"qqtotalparts\"\n                    },\n                    partSize: function(id) {\n                        return 2e6;\n                    },\n                    success: {\n                        endpoint: null,\n                        headers: function(id) {\n                            return null;\n                        },\n                        jsonPayload: false,\n                        method: \"POST\",\n                        params: function(id) {\n                            return null;\n                        },\n                        resetOnStatus: []\n                    }\n                },\n                resume: {\n                    enabled: false,\n                    recordsExpireIn: 7,\n                    paramNames: {\n                        resuming: \"qqresume\"\n                    },\n                    customKeys: function(fileId) {\n                        return [];\n                    }\n                },\n                formatFileName: function(fileOrBlobName) {\n                    return fileOrBlobName;\n                },\n                text: {\n                    defaultResponseError: \"Upload failure reason unknown\",\n                    fileInputTitle: \"file input\",\n                    sizeSymbols: [ \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" ]\n                },\n                deleteFile: {\n                    enabled: false,\n                    method: \"DELETE\",\n                    endpoint: \"/server/upload\",\n                    customHeaders: {},\n                    params: {}\n                },\n                cors: {\n                    expected: false,\n                    sendCredentials: false,\n                    allowXdr: false\n                },\n                blobs: {\n                    defaultName: \"misc_data\"\n                },\n                paste: {\n                    targetElement: null,\n                    defaultName: \"pasted_image\"\n                },\n                camera: {\n                    ios: false,\n                    button: null\n                },\n                extraButtons: [],\n                session: {\n                    endpoint: null,\n                    params: {},\n                    customHeaders: {},\n                    refreshOnReset: true\n                },\n                form: {\n                    element: \"qq-form\",\n                    autoUpload: false,\n                    interceptSubmit: true\n                },\n                scaling: {\n                    customResizer: null,\n                    sendOriginal: true,\n                    orient: true,\n                    defaultType: null,\n                    defaultQuality: 80,\n                    failureText: \"Failed to scale\",\n                    includeExif: false,\n                    sizes: []\n                },\n                workarounds: {\n                    iosEmptyVideos: true,\n                    ios8SafariUploads: true,\n                    ios8BrowserCrash: false\n                }\n            };\n            qq.extend(this._options, o, true);\n            this._buttons = [];\n            this._extraButtonSpecs = {};\n            this._buttonIdsForFileIds = [];\n            this._wrapCallbacks();\n            this._disposeSupport = new qq.DisposeSupport();\n            this._storedIds = [];\n            this._autoRetries = [];\n            this._retryTimeouts = [];\n            this._preventRetries = [];\n            this._thumbnailUrls = [];\n            this._netUploadedOrQueued = 0;\n            this._netUploaded = 0;\n            this._uploadData = this._createUploadDataTracker();\n            this._initFormSupportAndParams();\n            this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n            this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n            this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n            this._endpointStore = this._createStore(this._options.request.endpoint);\n            this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n            this._handler = this._createUploadHandler();\n            this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n            if (this._options.button) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._options.button,\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._generateExtraButtonSpecs();\n            this._handleCameraAccess();\n            if (this._options.paste.targetElement) {\n                if (qq.PasteSupport) {\n                    this._pasteHandler = this._createPasteHandler();\n                } else {\n                    this.log(\"Paste support module not found\", \"error\");\n                }\n            }\n            this._options.warnBeforeUnload && this._preventLeaveInProgress();\n            this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n            this._refreshSessionData();\n            this._succeededSinceLastAllComplete = [];\n            this._failedSinceLastAllComplete = [];\n            this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n            if (this._scaler.enabled) {\n                this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n            }\n            if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n                this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(id) {\n                    var entry = self._uploadData.retrieve({\n                        id: id\n                    });\n                    return entry && entry.size || 0;\n                });\n            }\n            this._currentItemLimit = this._options.validation.itemLimit;\n            this._customResumeDataStore = this._createStore();\n        };\n        qq.FineUploaderBasic.prototype = qq.basePublicApi;\n        qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi);\n    })();\n    qq.AjaxRequester = function(o) {\n        \"use strict\";\n        var log, shouldParamsBeInQueryString, queue = [], requestData = {}, options = {\n            acceptHeader: null,\n            validMethods: [ \"PATCH\", \"POST\", \"PUT\" ],\n            method: \"POST\",\n            contentType: \"application/x-www-form-urlencoded\",\n            maxConnections: 3,\n            customHeaders: {},\n            endpointStore: {},\n            paramsStore: {},\n            mandatedParams: {},\n            allowXRequestedWithAndCacheControl: true,\n            successfulResponseCodes: {\n                DELETE: [ 200, 202, 204 ],\n                PATCH: [ 200, 201, 202, 203, 204 ],\n                POST: [ 200, 201, 202, 203, 204 ],\n                PUT: [ 200, 201, 202, 203, 204 ],\n                GET: [ 200 ]\n            },\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onSend: function(id) {},\n            onComplete: function(id, xhrOrXdr, isError) {},\n            onProgress: null\n        };\n        qq.extend(options, o);\n        log = options.log;\n        if (qq.indexOf(options.validMethods, options.method) < 0) {\n            throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n        }\n        function isSimpleMethod() {\n            return qq.indexOf([ \"GET\", \"POST\", \"HEAD\" ], options.method) >= 0;\n        }\n        function containsNonSimpleHeaders(headers) {\n            var containsNonSimple = false;\n            qq.each(containsNonSimple, function(idx, header) {\n                if (qq.indexOf([ \"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\" ], header) < 0) {\n                    containsNonSimple = true;\n                    return false;\n                }\n            });\n            return containsNonSimple;\n        }\n        function isXdr(xhr) {\n            return options.cors.expected && xhr.withCredentials === undefined;\n        }\n        function getCorsAjaxTransport() {\n            var xhrOrXdr;\n            if (window.XMLHttpRequest || window.ActiveXObject) {\n                xhrOrXdr = qq.createXhrInstance();\n                if (xhrOrXdr.withCredentials === undefined) {\n                    xhrOrXdr = new XDomainRequest();\n                    xhrOrXdr.onload = function() {};\n                    xhrOrXdr.onerror = function() {};\n                    xhrOrXdr.ontimeout = function() {};\n                    xhrOrXdr.onprogress = function() {};\n                }\n            }\n            return xhrOrXdr;\n        }\n        function getXhrOrXdr(id, suppliedXhr) {\n            var xhrOrXdr = requestData[id] && requestData[id].xhr;\n            if (!xhrOrXdr) {\n                if (suppliedXhr) {\n                    xhrOrXdr = suppliedXhr;\n                } else {\n                    if (options.cors.expected) {\n                        xhrOrXdr = getCorsAjaxTransport();\n                    } else {\n                        xhrOrXdr = qq.createXhrInstance();\n                    }\n                }\n                requestData[id].xhr = xhrOrXdr;\n            }\n            return xhrOrXdr;\n        }\n        function dequeue(id) {\n            var i = qq.indexOf(queue, id), max = options.maxConnections, nextId;\n            delete requestData[id];\n            queue.splice(i, 1);\n            if (queue.length >= max && i < max) {\n                nextId = queue[max - 1];\n                sendRequest(nextId);\n            }\n        }\n        function onComplete(id, xdrError) {\n            var xhr = getXhrOrXdr(id), method = options.method, isError = xdrError === true;\n            dequeue(id);\n            if (isError) {\n                log(method + \" request for \" + id + \" has failed\", \"error\");\n            } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n                isError = true;\n                log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n            }\n            options.onComplete(id, xhr, isError);\n        }\n        function getParams(id) {\n            var onDemandParams = requestData[id].additionalParams, mandatedParams = options.mandatedParams, params;\n            if (options.paramsStore.get) {\n                params = options.paramsStore.get(id);\n            }\n            if (onDemandParams) {\n                qq.each(onDemandParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            if (mandatedParams) {\n                qq.each(mandatedParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            return params;\n        }\n        function sendRequest(id, optXhr) {\n            var xhr = getXhrOrXdr(id, optXhr), method = options.method, params = getParams(id), payload = requestData[id].payload, url;\n            options.onSend(id);\n            url = createUrl(id, params, requestData[id].additionalQueryParams);\n            if (isXdr(xhr)) {\n                xhr.onload = getXdrLoadHandler(id);\n                xhr.onerror = getXdrErrorHandler(id);\n            } else {\n                xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n            }\n            registerForUploadProgress(id);\n            xhr.open(method, url, true);\n            if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n                xhr.withCredentials = true;\n            }\n            setHeaders(id);\n            log(\"Sending \" + method + \" request for \" + id);\n            if (payload) {\n                xhr.send(payload);\n            } else if (shouldParamsBeInQueryString || !params) {\n                xhr.send();\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n                xhr.send(qq.obj2url(params, \"\"));\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n                xhr.send(JSON.stringify(params));\n            } else {\n                xhr.send(params);\n            }\n            return xhr;\n        }\n        function createUrl(id, params, additionalQueryParams) {\n            var endpoint = options.endpointStore.get(id), addToPath = requestData[id].addToPath;\n            if (addToPath != undefined) {\n                endpoint += \"/\" + addToPath;\n            }\n            if (shouldParamsBeInQueryString && params) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            if (additionalQueryParams) {\n                endpoint = qq.obj2url(additionalQueryParams, endpoint);\n            }\n            return endpoint;\n        }\n        function getXhrReadyStateChangeHandler(id) {\n            return function() {\n                if (getXhrOrXdr(id).readyState === 4) {\n                    onComplete(id);\n                }\n            };\n        }\n        function registerForUploadProgress(id) {\n            var onProgress = options.onProgress;\n            if (onProgress) {\n                getXhrOrXdr(id).upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        onProgress(id, e.loaded, e.total);\n                    }\n                };\n            }\n        }\n        function getXdrLoadHandler(id) {\n            return function() {\n                onComplete(id);\n            };\n        }\n        function getXdrErrorHandler(id) {\n            return function() {\n                onComplete(id, true);\n            };\n        }\n        function setHeaders(id) {\n            var xhr = getXhrOrXdr(id), customHeaders = options.customHeaders, onDemandHeaders = requestData[id].additionalHeaders || {}, method = options.method, allHeaders = {};\n            if (!isXdr(xhr)) {\n                options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n                if (options.allowXRequestedWithAndCacheControl) {\n                    if (!options.cors.expected || (!isSimpleMethod() || containsNonSimpleHeaders(customHeaders))) {\n                        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                    }\n                }\n                if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n                    xhr.setRequestHeader(\"Content-Type\", options.contentType);\n                }\n                qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n                qq.extend(allHeaders, onDemandHeaders);\n                qq.each(allHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        }\n        function isResponseSuccessful(responseCode) {\n            return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n        }\n        function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n            requestData[id] = {\n                addToPath: addToPath,\n                additionalParams: additionalParams,\n                additionalQueryParams: additionalQueryParams,\n                additionalHeaders: additionalHeaders,\n                payload: payload\n            };\n            var len = queue.push(id);\n            if (len <= options.maxConnections) {\n                return sendRequest(id, optXhr);\n            }\n        }\n        shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n        qq.extend(this, {\n            initTransport: function(id) {\n                var path, params, headers, payload, cacheBuster, additionalQueryParams;\n                return {\n                    withPath: function(appendToPath) {\n                        path = appendToPath;\n                        return this;\n                    },\n                    withParams: function(additionalParams) {\n                        params = additionalParams;\n                        return this;\n                    },\n                    withQueryParams: function(_additionalQueryParams_) {\n                        additionalQueryParams = _additionalQueryParams_;\n                        return this;\n                    },\n                    withHeaders: function(additionalHeaders) {\n                        headers = additionalHeaders;\n                        return this;\n                    },\n                    withPayload: function(thePayload) {\n                        payload = thePayload;\n                        return this;\n                    },\n                    withCacheBuster: function() {\n                        cacheBuster = true;\n                        return this;\n                    },\n                    send: function(optXhr) {\n                        if (cacheBuster && qq.indexOf([ \"GET\", \"DELETE\" ], options.method) >= 0) {\n                            params.qqtimestamp = new Date().getTime();\n                        }\n                        return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n                    }\n                };\n            },\n            canceled: function(id) {\n                dequeue(id);\n            }\n        });\n    };\n    qq.UploadHandler = function(spec) {\n        \"use strict\";\n        var proxy = spec.proxy, fileState = {}, onCancel = proxy.onCancel, getName = proxy.getName;\n        qq.extend(this, {\n            add: function(id, fileItem) {\n                fileState[id] = fileItem;\n                fileState[id].temp = {};\n            },\n            cancel: function(id) {\n                var self = this, cancelFinalizationEffort = new qq.Promise(), onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n                onCancelRetVal.then(function() {\n                    if (self.isValid(id)) {\n                        fileState[id].canceled = true;\n                        self.expunge(id);\n                    }\n                    cancelFinalizationEffort.success();\n                });\n            },\n            expunge: function(id) {\n                delete fileState[id];\n            },\n            getThirdPartyFileId: function(id) {\n                return fileState[id].key;\n            },\n            isValid: function(id) {\n                return fileState[id] !== undefined;\n            },\n            reset: function() {\n                fileState = {};\n            },\n            _getFileState: function(id) {\n                return fileState[id];\n            },\n            _setThirdPartyFileId: function(id, thirdPartyFileId) {\n                fileState[id].key = thirdPartyFileId;\n            },\n            _wasCanceled: function(id) {\n                return !!fileState[id].canceled;\n            }\n        });\n    };\n    qq.UploadHandlerController = function(o, namespace) {\n        \"use strict\";\n        var controller = this, chunkingPossible = false, concurrentChunkingPossible = false, chunking, preventRetryResponse, log, handler, options = {\n            paramsStore: {},\n            maxConnections: 3,\n            chunking: {\n                enabled: false,\n                multiple: {\n                    enabled: false\n                }\n            },\n            log: function(str, level) {},\n            onProgress: function(id, fileName, loaded, total) {},\n            onComplete: function(id, fileName, response, xhr) {},\n            onCancel: function(id, fileName) {},\n            onUploadPrep: function(id) {},\n            onUpload: function(id, fileName) {},\n            onUploadChunk: function(id, fileName, chunkData) {},\n            onUploadChunkSuccess: function(id, chunkData, response, xhr) {},\n            onAutoRetry: function(id, fileName, response, xhr) {},\n            onResume: function(id, fileName, chunkData, customResumeData) {},\n            onUuidChanged: function(id, newUuid) {},\n            getName: function(id) {},\n            setSize: function(id, newSize) {},\n            isQueued: function(id) {},\n            getIdsInProxyGroup: function(id) {},\n            getIdsInBatch: function(id) {},\n            isInProgress: function(id) {}\n        }, chunked = {\n            done: function(id, chunkIdx, response, xhr) {\n                var chunkData = handler._getChunkData(id, chunkIdx);\n                handler._getFileState(id).attemptingResume = false;\n                delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n                handler._getFileState(id).loaded += chunkData.size;\n                options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n            },\n            finalize: function(id) {\n                var size = options.getSize(id), name = options.getName(id);\n                log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n                handler.finalizeChunks(id).then(function(response, xhr) {\n                    log(\"Finalize successful for \" + id);\n                    var normaizedResponse = upload.normalizeResponse(response, true);\n                    options.onProgress(id, name, size, size);\n                    handler._maybeDeletePersistedChunkData(id);\n                    upload.cleanup(id, normaizedResponse, xhr);\n                }, function(response, xhr) {\n                    var normalizedResponse = upload.normalizeResponse(response, false);\n                    log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n                    if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n                        chunked.reset(id);\n                    }\n                    if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n                        upload.cleanup(id, normalizedResponse, xhr);\n                    }\n                });\n            },\n            handleFailure: function(chunkIdx, id, response, xhr) {\n                var name = options.getName(id);\n                log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n                handler.clearCachedChunk(id, chunkIdx);\n                var responseToReport = upload.normalizeResponse(response, false), inProgressIdx;\n                if (responseToReport.reset) {\n                    chunked.reset(id);\n                } else {\n                    var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n                    inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n                    if (inProgressIdx >= 0) {\n                        handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n                        handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n                    }\n                }\n                if (!handler._getFileState(id).temp.ignoreFailure) {\n                    if (concurrentChunkingPossible) {\n                        handler._getFileState(id).temp.ignoreFailure = true;\n                        log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n                        qq.each(handler._getXhrs(id), function(ckid, ckXhr) {\n                            log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                            ckXhr.abort();\n                            ckXhr._cancelled = true;\n                        });\n                        handler.moveInProgressToRemaining(id);\n                        connectionManager.free(id, true);\n                    }\n                    if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n                        upload.cleanup(id, responseToReport, xhr);\n                    }\n                }\n            },\n            hasMoreParts: function(id) {\n                return !!handler._getFileState(id).chunking.remaining.length;\n            },\n            nextPart: function(id) {\n                var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n                if (nextIdx >= handler._getTotalChunks(id)) {\n                    nextIdx = null;\n                }\n                return nextIdx;\n            },\n            reset: function(id) {\n                log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n                handler._maybeDeletePersistedChunkData(id);\n                handler.reevaluateChunking(id);\n                handler._getFileState(id).loaded = 0;\n                handler._getFileState(id).attemptingResume = false;\n            },\n            sendNext: function(id) {\n                var size = options.getSize(id), name = options.getName(id), chunkIdx = chunked.nextPart(id), chunkData = handler._getChunkData(id, chunkIdx), fileState = handler._getFileState(id), resuming = fileState.attemptingResume, inProgressChunks = fileState.chunking.inProgress || [];\n                if (fileState.loaded == null) {\n                    fileState.loaded = 0;\n                }\n                if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n                    chunked.reset(id);\n                    chunkIdx = chunked.nextPart(id);\n                    chunkData = handler._getChunkData(id, chunkIdx);\n                    resuming = false;\n                }\n                if (chunkIdx == null && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                } else {\n                    inProgressChunks.push(chunkIdx);\n                    handler._getFileState(id).chunking.inProgress = inProgressChunks;\n                    if (concurrentChunkingPossible) {\n                        connectionManager.open(id, chunkIdx);\n                    }\n                    if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n                        chunked.sendNext(id);\n                    }\n                    if (chunkData.blob.size === 0) {\n                        log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n                        chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n                    }\n                    var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n                    onUploadChunkPromise.then(function(requestOverrides) {\n                        if (!options.isInProgress(id)) {\n                            log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n                        } else {\n                            log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                            var uploadChunkData = {\n                                chunkIdx: chunkIdx,\n                                id: id,\n                                overrides: requestOverrides,\n                                resuming: resuming\n                            };\n                            handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                                log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                                handler.clearCachedChunk(id, chunkIdx);\n                                var inProgressChunks = handler._getFileState(id).chunking.inProgress || [], responseToReport = upload.normalizeResponse(response, true), inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                                log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                                chunked.done(id, chunkIdx, responseToReport, xhr);\n                                if (inProgressChunkIdx >= 0) {\n                                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                                }\n                                handler._maybePersistChunkedState(id);\n                                if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                                    chunked.finalize(id);\n                                } else if (chunked.hasMoreParts(id)) {\n                                    chunked.sendNext(id);\n                                } else {\n                                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                                }\n                            }, function failure(response, xhr) {\n                                chunked.handleFailure(chunkIdx, id, response, xhr);\n                            }).done(function() {\n                                handler.clearXhr(id, chunkIdx);\n                            });\n                        }\n                    }, function(error) {\n                        chunked.handleFailure(chunkIdx, id, error, null);\n                    });\n                }\n            }\n        }, connectionManager = {\n            _open: [],\n            _openChunks: {},\n            _waiting: [],\n            available: function() {\n                var max = options.maxConnections, openChunkEntriesCount = 0, openChunksCount = 0;\n                qq.each(connectionManager._openChunks, function(fileId, openChunkIndexes) {\n                    openChunkEntriesCount++;\n                    openChunksCount += openChunkIndexes.length;\n                });\n                return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n            },\n            free: function(id, dontAllowNext) {\n                var allowNext = !dontAllowNext, waitingIndex = qq.indexOf(connectionManager._waiting, id), connectionsIndex = qq.indexOf(connectionManager._open, id), nextId;\n                delete connectionManager._openChunks[id];\n                if (upload.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n                    log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n                    delete handler._getFileState(id).file;\n                }\n                if (waitingIndex >= 0) {\n                    connectionManager._waiting.splice(waitingIndex, 1);\n                } else if (allowNext && connectionsIndex >= 0) {\n                    connectionManager._open.splice(connectionsIndex, 1);\n                    nextId = connectionManager._waiting.shift();\n                    if (nextId >= 0) {\n                        connectionManager._open.push(nextId);\n                        upload.start(nextId);\n                    }\n                }\n            },\n            getWaitingOrConnected: function() {\n                var waitingOrConnected = [];\n                qq.each(connectionManager._openChunks, function(fileId, chunks) {\n                    if (chunks && chunks.length) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                qq.each(connectionManager._open, function(idx, fileId) {\n                    if (!connectionManager._openChunks[fileId]) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n                return waitingOrConnected;\n            },\n            isUsingConnection: function(id) {\n                return qq.indexOf(connectionManager._open, id) >= 0;\n            },\n            open: function(id, chunkIdx) {\n                if (chunkIdx == null) {\n                    connectionManager._waiting.push(id);\n                }\n                if (connectionManager.available()) {\n                    if (chunkIdx == null) {\n                        connectionManager._waiting.pop();\n                        connectionManager._open.push(id);\n                    } else {\n                        (function() {\n                            var openChunksEntry = connectionManager._openChunks[id] || [];\n                            openChunksEntry.push(chunkIdx);\n                            connectionManager._openChunks[id] = openChunksEntry;\n                        })();\n                    }\n                    return true;\n                }\n                return false;\n            },\n            reset: function() {\n                connectionManager._waiting = [];\n                connectionManager._open = [];\n            }\n        }, simple = {\n            send: function(id, name) {\n                var fileState = handler._getFileState(id);\n                if (!fileState) {\n                    log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n                    return;\n                }\n                fileState.loaded = 0;\n                log(\"Sending simple upload request for \" + id);\n                handler.uploadFile(id).then(function(response, optXhr) {\n                    log(\"Simple upload request succeeded for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, true), size = options.getSize(id);\n                    options.onProgress(id, name, size, size);\n                    upload.maybeNewUuid(id, responseToReport);\n                    upload.cleanup(id, responseToReport, optXhr);\n                }, function(response, optXhr) {\n                    log(\"Simple upload request failed for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, false);\n                    if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n                        upload.cleanup(id, responseToReport, optXhr);\n                    }\n                });\n            }\n        }, upload = {\n            cancel: function(id) {\n                log(\"Cancelling \" + id);\n                options.paramsStore.remove(id);\n                connectionManager.free(id);\n            },\n            cleanup: function(id, response, optXhr) {\n                var name = options.getName(id);\n                options.onComplete(id, name, response, optXhr);\n                if (handler._getFileState(id)) {\n                    handler._clearXhrs && handler._clearXhrs(id);\n                }\n                connectionManager.free(id);\n            },\n            getProxyOrBlob: function(id) {\n                return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n            },\n            initHandler: function() {\n                var handlerType = namespace ? qq[namespace] : qq.traditional, handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n                handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n                    getCustomResumeData: options.getCustomResumeData,\n                    getDataByUuid: options.getDataByUuid,\n                    getName: options.getName,\n                    getSize: options.getSize,\n                    getUuid: options.getUuid,\n                    log: log,\n                    onCancel: options.onCancel,\n                    onProgress: options.onProgress,\n                    onUuidChanged: options.onUuidChanged,\n                    onFinalizing: function(id) {\n                        options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n                    }\n                });\n                if (handler._removeExpiredChunkingRecords) {\n                    handler._removeExpiredChunkingRecords();\n                }\n            },\n            isDeferredEligibleForUpload: function(id) {\n                return options.isQueued(id);\n            },\n            maybeDefer: function(id, blob) {\n                if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n                    options.onUploadPrep(id);\n                    log(\"Attempting to generate a blob on-demand for \" + id);\n                    blob.create().then(function(generatedBlob) {\n                        log(\"Generated an on-demand blob for \" + id);\n                        handler.updateBlob(id, generatedBlob);\n                        options.setSize(id, generatedBlob.size);\n                        handler.reevaluateChunking(id);\n                        upload.maybeSendDeferredFiles(id);\n                    }, function(errorMessage) {\n                        var errorResponse = {};\n                        if (errorMessage) {\n                            errorResponse.error = errorMessage;\n                        }\n                        log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n                        options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n                        upload.maybeSendDeferredFiles(id);\n                        connectionManager.free(id);\n                    });\n                } else {\n                    return upload.maybeSendDeferredFiles(id);\n                }\n                return false;\n            },\n            maybeSendDeferredFiles: function(id) {\n                var idsInGroup = options.getIdsInProxyGroup(id), uploadedThisId = false;\n                if (idsInGroup && idsInGroup.length) {\n                    log(\"Maybe ready to upload proxy group file \" + id);\n                    qq.each(idsInGroup, function(idx, idInGroup) {\n                        if (upload.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                            uploadedThisId = idInGroup === id;\n                            upload.now(idInGroup);\n                        } else if (upload.isDeferredEligibleForUpload(idInGroup)) {\n                            return false;\n                        }\n                    });\n                } else {\n                    uploadedThisId = true;\n                    upload.now(id);\n                }\n                return uploadedThisId;\n            },\n            maybeNewUuid: function(id, response) {\n                if (response.newUuid !== undefined) {\n                    options.onUuidChanged(id, response.newUuid);\n                }\n            },\n            normalizeResponse: function(originalResponse, successful) {\n                var response = originalResponse;\n                if (!qq.isObject(originalResponse)) {\n                    response = {};\n                    if (qq.isString(originalResponse) && !successful) {\n                        response.error = originalResponse;\n                    }\n                }\n                response.success = successful;\n                return response;\n            },\n            now: function(id) {\n                var name = options.getName(id);\n                if (!controller.isValid(id)) {\n                    throw new qq.Error(id + \" is not a valid file ID to upload!\");\n                }\n                options.onUpload(id, name).then(function(response) {\n                    if (response && response.pause) {\n                        options.setStatus(id, qq.status.PAUSED);\n                        handler.pause(id);\n                        connectionManager.free(id);\n                    } else {\n                        if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                            chunked.sendNext(id);\n                        } else {\n                            simple.send(id, name);\n                        }\n                    }\n                }, function(error) {\n                    error = error || {};\n                    log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n                    if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n                        var response = upload.normalizeResponse(error.responseJSON, false);\n                        upload.cleanup(id, response);\n                    }\n                });\n            },\n            start: function(id) {\n                var blobToUpload = upload.getProxyOrBlob(id);\n                if (blobToUpload) {\n                    return upload.maybeDefer(id, blobToUpload);\n                } else {\n                    upload.now(id);\n                    return true;\n                }\n            }\n        };\n        qq.extend(this, {\n            add: function(id, file) {\n                handler.add.apply(this, arguments);\n            },\n            upload: function(id) {\n                if (connectionManager.open(id)) {\n                    return upload.start(id);\n                }\n                return false;\n            },\n            retry: function(id) {\n                if (concurrentChunkingPossible) {\n                    handler._getFileState(id).temp.ignoreFailure = false;\n                }\n                if (connectionManager.isUsingConnection(id)) {\n                    return upload.start(id);\n                } else {\n                    return controller.upload(id);\n                }\n            },\n            cancel: function(id) {\n                var cancelRetVal = handler.cancel(id);\n                if (qq.isGenericPromise(cancelRetVal)) {\n                    cancelRetVal.then(function() {\n                        upload.cancel(id);\n                    });\n                } else if (cancelRetVal !== false) {\n                    upload.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var waitingOrConnected = connectionManager.getWaitingOrConnected(), i;\n                if (waitingOrConnected.length) {\n                    for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n                        controller.cancel(waitingOrConnected[i]);\n                    }\n                }\n                connectionManager.reset();\n            },\n            getFile: function(id) {\n                if (handler.getProxy && handler.getProxy(id)) {\n                    return handler.getProxy(id).referenceBlob;\n                }\n                return handler.getFile && handler.getFile(id);\n            },\n            isProxied: function(id) {\n                return !!(handler.getProxy && handler.getProxy(id));\n            },\n            getInput: function(id) {\n                if (handler.getInput) {\n                    return handler.getInput(id);\n                }\n            },\n            reset: function() {\n                log(\"Resetting upload handler\");\n                controller.cancelAll();\n                connectionManager.reset();\n                handler.reset();\n            },\n            expunge: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.expunge(id);\n                }\n            },\n            isValid: function(id) {\n                return handler.isValid(id);\n            },\n            hasResumeRecord: function(id) {\n                var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n                if (key) {\n                    return !!localStorage.getItem(key);\n                }\n                return false;\n            },\n            getResumableFilesData: function() {\n                if (handler.getResumableFilesData) {\n                    return handler.getResumableFilesData();\n                }\n                return [];\n            },\n            getThirdPartyFileId: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.getThirdPartyFileId(id);\n                }\n            },\n            pause: function(id) {\n                if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n                    connectionManager.free(id);\n                    handler.moveInProgressToRemaining(id);\n                    return true;\n                }\n                return false;\n            },\n            isAttemptingResume: function(id) {\n                return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n            },\n            isResumable: function(id) {\n                return !!handler.isResumable && handler.isResumable(id);\n            }\n        });\n        qq.extend(options, o);\n        log = options.log;\n        chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n        concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n        preventRetryResponse = function() {\n            var response = {};\n            response[options.preventRetryParam] = true;\n            return response;\n        }();\n        upload.initHandler();\n    };\n    qq.WindowReceiveMessage = function(o) {\n        \"use strict\";\n        var options = {\n            log: function(message, level) {}\n        }, callbackWrapperDetachers = {};\n        qq.extend(options, o);\n        qq.extend(this, {\n            receiveMessage: function(id, callback) {\n                var onMessageCallbackWrapper = function(event) {\n                    callback(event.data);\n                };\n                if (window.postMessage) {\n                    callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n                } else {\n                    log(\"iframe message passing not supported in this browser!\", \"error\");\n                }\n            },\n            stopReceivingMessages: function(id) {\n                if (window.postMessage) {\n                    var detacher = callbackWrapperDetachers[id];\n                    if (detacher) {\n                        detacher();\n                    }\n                }\n            }\n        });\n    };\n    qq.FormUploadHandler = function(spec) {\n        \"use strict\";\n        var options = spec.options, handler = this, proxy = spec.proxy, formHandlerInstanceId = qq.getUniqueId(), onloadCallbacks = {}, detachLoadEvents = {}, postMessageCallbackTimers = {}, isCors = options.isCors, inputName = options.inputName, getUuid = proxy.getUuid, log = proxy.log, corsMessageReceiver = new qq.WindowReceiveMessage({\n            log: log\n        });\n        function expungeFile(id) {\n            delete detachLoadEvents[id];\n            if (isCors) {\n                clearTimeout(postMessageCallbackTimers[id]);\n                delete postMessageCallbackTimers[id];\n                corsMessageReceiver.stopReceivingMessages(id);\n            }\n            var iframe = document.getElementById(handler._getIframeName(id));\n            if (iframe) {\n                iframe.setAttribute(\"src\", \"javascript:false;\");\n                qq(iframe).remove();\n            }\n        }\n        function getFileIdForIframeName(iframeName) {\n            return iframeName.split(\"_\")[0];\n        }\n        function initIframeForUpload(name) {\n            var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n            iframe.setAttribute(\"id\", name);\n            iframe.style.display = \"none\";\n            document.body.appendChild(iframe);\n            return iframe;\n        }\n        function registerPostMessageCallback(iframe, callback) {\n            var iframeName = iframe.id, fileId = getFileIdForIframeName(iframeName), uuid = getUuid(fileId);\n            onloadCallbacks[uuid] = callback;\n            detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function() {\n                if (handler.getInput(fileId)) {\n                    log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n                    postMessageCallbackTimers[iframeName] = setTimeout(function() {\n                        var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n                        log(errorMessage, \"error\");\n                        callback({\n                            error: errorMessage\n                        });\n                    }, 1e3);\n                }\n            });\n            corsMessageReceiver.receiveMessage(iframeName, function(message) {\n                log(\"Received the following window message: '\" + message + \"'\");\n                var fileId = getFileIdForIframeName(iframeName), response = handler._parseJsonResponse(message), uuid = response.uuid, onloadCallback;\n                if (uuid && onloadCallbacks[uuid]) {\n                    log(\"Handling response for iframe name \" + iframeName);\n                    clearTimeout(postMessageCallbackTimers[iframeName]);\n                    delete postMessageCallbackTimers[iframeName];\n                    handler._detachLoadEvent(iframeName);\n                    onloadCallback = onloadCallbacks[uuid];\n                    delete onloadCallbacks[uuid];\n                    corsMessageReceiver.stopReceivingMessages(iframeName);\n                    onloadCallback(response);\n                } else if (!uuid) {\n                    log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n                }\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, fileInput) {\n                    super_.add(id, {\n                        input: fileInput\n                    });\n                    fileInput.setAttribute(\"name\", inputName);\n                    if (fileInput.parentNode) {\n                        qq(fileInput).remove();\n                    }\n                },\n                expunge: function(id) {\n                    expungeFile(id);\n                    super_.expunge(id);\n                },\n                isValid: function(id) {\n                    return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n                }\n            };\n        });\n        qq.extend(this, {\n            getInput: function(id) {\n                return handler._getFileState(id).input;\n            },\n            _attachLoadEvent: function(iframe, callback) {\n                var responseDescriptor;\n                if (isCors) {\n                    registerPostMessageCallback(iframe, callback);\n                } else {\n                    detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function() {\n                        log(\"Received response for \" + iframe.id);\n                        if (!iframe.parentNode) {\n                            return;\n                        }\n                        try {\n                            if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                                return;\n                            }\n                        } catch (error) {\n                            log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n                            responseDescriptor = {\n                                success: false\n                            };\n                        }\n                        callback(responseDescriptor);\n                    });\n                }\n            },\n            _createIframe: function(id) {\n                var iframeName = handler._getIframeName(id);\n                return initIframeForUpload(iframeName);\n            },\n            _detachLoadEvent: function(id) {\n                if (detachLoadEvents[id] !== undefined) {\n                    detachLoadEvents[id]();\n                    delete detachLoadEvents[id];\n                }\n            },\n            _getIframeName: function(fileId) {\n                return fileId + \"_\" + formHandlerInstanceId;\n            },\n            _initFormForUpload: function(spec) {\n                var method = spec.method, endpoint = spec.endpoint, params = spec.params, paramsInBody = spec.paramsInBody, targetName = spec.targetName, form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"), url = endpoint;\n                if (paramsInBody) {\n                    qq.obj2Inputs(params, form);\n                } else {\n                    url = qq.obj2url(params, endpoint);\n                }\n                form.setAttribute(\"action\", url);\n                form.setAttribute(\"target\", targetName);\n                form.style.display = \"none\";\n                document.body.appendChild(form);\n                return form;\n            },\n            _parseJsonResponse: function(innerHtmlOrMessage) {\n                var response = {};\n                try {\n                    response = qq.parseJson(innerHtmlOrMessage);\n                } catch (error) {\n                    log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n                }\n                return response;\n            }\n        });\n    };\n    qq.XhrUploadHandler = function(spec) {\n        \"use strict\";\n        var handler = this, namespace = spec.options.namespace, proxy = spec.proxy, chunking = spec.options.chunking, getChunkSize = function(id) {\n            var fileState = handler._getFileState(id);\n            if (fileState.chunkSize) {\n                return fileState.chunkSize;\n            } else {\n                var chunkSize = chunking.partSize;\n                if (qq.isFunction(chunkSize)) {\n                    chunkSize = chunkSize(id, getSize(id));\n                }\n                fileState.chunkSize = chunkSize;\n                return chunkSize;\n            }\n        }, resume = spec.options.resume, chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking, resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, getEndpoint = proxy.getEndpoint, getDataByUuid = proxy.getDataByUuid, onUuidChanged = proxy.onUuidChanged, onProgress = proxy.onProgress, log = proxy.log, getCustomResumeData = proxy.getCustomResumeData;\n        function abort(id) {\n            qq.each(handler._getXhrs(id), function(xhrId, xhr) {\n                var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n                xhr.onreadystatechange = null;\n                xhr.upload.onprogress = null;\n                xhr.abort();\n                ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, blobOrProxy) {\n                    if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n                        super_.add(id, {\n                            file: blobOrProxy\n                        });\n                    } else if (blobOrProxy instanceof qq.BlobProxy) {\n                        super_.add(id, {\n                            proxy: blobOrProxy\n                        });\n                    } else {\n                        throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n                    }\n                    handler._initTempState(id);\n                    resumeEnabled && handler._maybePrepareForResume(id);\n                },\n                expunge: function(id) {\n                    abort(id);\n                    handler._maybeDeletePersistedChunkData(id);\n                    handler._clearXhrs(id);\n                    super_.expunge(id);\n                }\n            };\n        });\n        qq.extend(this, {\n            clearCachedChunk: function(id, chunkIdx) {\n                var fileState = handler._getFileState(id);\n                if (fileState) {\n                    delete fileState.temp.cachedChunks[chunkIdx];\n                }\n            },\n            clearXhr: function(id, chunkIdx) {\n                var tempState = handler._getFileState(id).temp;\n                if (tempState.xhrs) {\n                    delete tempState.xhrs[chunkIdx];\n                }\n                if (tempState.ajaxRequesters) {\n                    delete tempState.ajaxRequesters[chunkIdx];\n                }\n            },\n            finalizeChunks: function(id, responseParser) {\n                var lastChunkIdx = handler._getTotalChunks(id) - 1, xhr = handler._getXhr(id, lastChunkIdx);\n                if (responseParser) {\n                    return new qq.Promise().success(responseParser(xhr), xhr);\n                }\n                return new qq.Promise().success({}, xhr);\n            },\n            getFile: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).file;\n            },\n            getProxy: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).proxy;\n            },\n            getResumableFilesData: function() {\n                var resumableFilesData = [];\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n                    var data = {\n                        name: uploadData.name,\n                        remaining: uploadData.chunking.remaining,\n                        size: uploadData.size,\n                        uuid: uploadData.uuid\n                    };\n                    if (uploadData.key) {\n                        data.key = uploadData.key;\n                    }\n                    if (uploadData.customResumeData) {\n                        data.customResumeData = uploadData.customResumeData;\n                    }\n                    resumableFilesData.push(data);\n                });\n                return resumableFilesData;\n            },\n            isAttemptingResume: function(id) {\n                return handler._getFileState(id).attemptingResume;\n            },\n            isResumable: function(id) {\n                return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n            },\n            moveInProgressToRemaining: function(id, optInProgress, optRemaining) {\n                var fileState = handler._getFileState(id) || {}, chunkingState = fileState.chunking || {}, inProgress = optInProgress || chunkingState.inProgress, remaining = optRemaining || chunkingState.remaining;\n                if (inProgress) {\n                    log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n                    inProgress.reverse();\n                    qq.each(inProgress, function(idx, chunkIdx) {\n                        remaining.unshift(chunkIdx);\n                    });\n                    inProgress.length = 0;\n                }\n            },\n            pause: function(id) {\n                if (handler.isValid(id)) {\n                    log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n                    handler._getFileState(id).paused = true;\n                    abort(id);\n                    return true;\n                }\n            },\n            reevaluateChunking: function(id) {\n                if (chunking && handler.isValid(id)) {\n                    var state = handler._getFileState(id), totalChunks, i;\n                    delete state.chunking;\n                    state.chunking = {};\n                    totalChunks = handler._getTotalChunks(id);\n                    if (totalChunks > 1 || chunking.mandatory) {\n                        state.chunking.enabled = true;\n                        state.chunking.parts = totalChunks;\n                        state.chunking.remaining = [];\n                        for (i = 0; i < totalChunks; i++) {\n                            state.chunking.remaining.push(i);\n                        }\n                        handler._initTempState(id);\n                    } else {\n                        state.chunking.enabled = false;\n                    }\n                }\n            },\n            updateBlob: function(id, newBlob) {\n                if (handler.isValid(id)) {\n                    handler._getFileState(id).file = newBlob;\n                }\n            },\n            _clearXhrs: function(id) {\n                var tempState = handler._getFileState(id).temp;\n                qq.each(tempState.ajaxRequesters, function(chunkId) {\n                    delete tempState.ajaxRequesters[chunkId];\n                });\n                qq.each(tempState.xhrs, function(chunkId) {\n                    delete tempState.xhrs[chunkId];\n                });\n            },\n            _createXhr: function(id, optChunkIdx) {\n                return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n            },\n            _getAjaxRequester: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n            },\n            _getChunkData: function(id, chunkIndex) {\n                var chunkSize = getChunkSize(id), fileSize = getSize(id), fileOrBlob = handler.getFile(id), startBytes = chunkSize * chunkIndex, endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize, totalChunks = handler._getTotalChunks(id), cachedChunks = this._getFileState(id).temp.cachedChunks, blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n                cachedChunks[chunkIndex] = blob;\n                return {\n                    part: chunkIndex,\n                    start: startBytes,\n                    end: endBytes,\n                    count: totalChunks,\n                    blob: blob,\n                    size: endBytes - startBytes\n                };\n            },\n            _getChunkDataForCallback: function(chunkData) {\n                return {\n                    partIndex: chunkData.part,\n                    startByte: chunkData.start + 1,\n                    endByte: chunkData.end,\n                    totalParts: chunkData.count\n                };\n            },\n            _getLocalStorageId: function(id) {\n                var formatVersion = \"5.0\", name = getName(id), size = getSize(id), chunkSize = getChunkSize(id), endpoint = getEndpoint(id), customKeys = resume.customKeys(id), localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n                customKeys.forEach(function(key) {\n                    localStorageId += \"-\" + key;\n                });\n                return localStorageId;\n            },\n            _getMimeType: function(id) {\n                return handler.getFile(id).type;\n            },\n            _getPersistableData: function(id) {\n                return handler._getFileState(id).chunking;\n            },\n            _getTotalChunks: function(id) {\n                if (chunking) {\n                    var fileSize = getSize(id), chunkSize = getChunkSize(id);\n                    return Math.ceil(fileSize / chunkSize);\n                }\n            },\n            _getXhr: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.xhrs[chunkIdx];\n            },\n            _getXhrs: function(id) {\n                return handler._getFileState(id).temp.xhrs;\n            },\n            _iterateResumeRecords: function(callback) {\n                if (resumeEnabled) {\n                    qq.each(localStorage, function(key, item) {\n                        if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n                            var uploadData = JSON.parse(item);\n                            callback(key, uploadData);\n                        }\n                    });\n                }\n            },\n            _initTempState: function(id) {\n                handler._getFileState(id).temp = {\n                    ajaxRequesters: {},\n                    chunkProgress: {},\n                    xhrs: {},\n                    cachedChunks: {}\n                };\n            },\n            _markNotResumable: function(id) {\n                handler._getFileState(id).notResumable = true;\n            },\n            _maybeDeletePersistedChunkData: function(id) {\n                var localStorageId;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    if (localStorageId && localStorage.getItem(localStorageId)) {\n                        localStorage.removeItem(localStorageId);\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _maybePrepareForResume: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && state.key === undefined) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = localStorage.getItem(localStorageId);\n                    if (persistedData) {\n                        persistedData = JSON.parse(persistedData);\n                        if (getDataByUuid(persistedData.uuid)) {\n                            handler._markNotResumable(id);\n                        } else {\n                            log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n                            onUuidChanged(id, persistedData.uuid);\n                            state.key = persistedData.key;\n                            state.chunking = persistedData.chunking;\n                            state.loaded = persistedData.loaded;\n                            state.customResumeData = persistedData.customResumeData;\n                            state.attemptingResume = true;\n                            handler.moveInProgressToRemaining(id);\n                        }\n                    }\n                }\n            },\n            _maybePersistChunkedState: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    var customResumeData = getCustomResumeData(id);\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = {\n                        name: getName(id),\n                        size: getSize(id),\n                        uuid: getUuid(id),\n                        key: state.key,\n                        chunking: state.chunking,\n                        loaded: state.loaded,\n                        lastUpdated: Date.now()\n                    };\n                    if (customResumeData) {\n                        persistedData.customResumeData = customResumeData;\n                    }\n                    try {\n                        localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n                    } catch (error) {\n                        log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n                    }\n                }\n            },\n            _registerProgressHandler: function(id, chunkIdx, chunkSize) {\n                var xhr = handler._getXhr(id, chunkIdx), name = getName(id), progressCalculator = {\n                    simple: function(loaded, total) {\n                        var fileSize = getSize(id);\n                        if (loaded === total) {\n                            onProgress(id, name, fileSize, fileSize);\n                        } else {\n                            onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n                        }\n                    },\n                    chunked: function(loaded, total) {\n                        var chunkProgress = handler._getFileState(id).temp.chunkProgress, totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded, loadedForRequest = loaded, totalForRequest = total, totalFileSize = getSize(id), estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize), totalLoadedForFile = totalSuccessfullyLoadedForFile;\n                        chunkProgress[chunkIdx] = estActualChunkLoaded;\n                        qq.each(chunkProgress, function(chunkIdx, chunkLoaded) {\n                            totalLoadedForFile += chunkLoaded;\n                        });\n                        onProgress(id, name, totalLoadedForFile, totalFileSize);\n                    }\n                };\n                xhr.upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        var type = chunkSize == null ? \"simple\" : \"chunked\";\n                        progressCalculator[type](e.loaded, e.total);\n                    }\n                };\n            },\n            _registerXhr: function(id, optChunkIdx, xhr, optAjaxRequester) {\n                var xhrsId = optChunkIdx == null ? -1 : optChunkIdx, tempState = handler._getFileState(id).temp;\n                tempState.xhrs = tempState.xhrs || {};\n                tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n                tempState.xhrs[xhrsId] = xhr;\n                if (optAjaxRequester) {\n                    tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n                }\n                return xhr;\n            },\n            _removeExpiredChunkingRecords: function() {\n                var expirationDays = resume.recordsExpireIn;\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    var expirationDate = new Date(uploadData.lastUpdated);\n                    expirationDate.setDate(expirationDate.getDate() + expirationDays);\n                    if (expirationDate.getTime() <= Date.now()) {\n                        log(\"Removing expired resume record with key \" + key);\n                        localStorage.removeItem(key);\n                    }\n                });\n            },\n            _shouldChunkThisFile: function(id) {\n                var state = handler._getFileState(id);\n                if (state) {\n                    if (!state.chunking) {\n                        handler.reevaluateChunking(id);\n                    }\n                    return state.chunking.enabled;\n                }\n            }\n        });\n    };\n    qq.DeleteFileAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            method: \"DELETE\",\n            uuidParamName: \"qquuid\",\n            endpointStore: {},\n            maxConnections: 3,\n            customHeaders: function(id) {\n                return {};\n            },\n            paramsStore: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onDelete: function(id) {},\n            onDeleteComplete: function(id, xhrOrXdr, isError) {}\n        };\n        qq.extend(options, o);\n        function getMandatedParams() {\n            if (options.method.toUpperCase() === \"POST\") {\n                return {\n                    _method: \"DELETE\"\n                };\n            }\n            return {};\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"POST\", \"DELETE\" ],\n            method: options.method,\n            endpointStore: options.endpointStore,\n            paramsStore: options.paramsStore,\n            mandatedParams: getMandatedParams(),\n            maxConnections: options.maxConnections,\n            customHeaders: function(id) {\n                return options.customHeaders.get(id);\n            },\n            log: options.log,\n            onSend: options.onDelete,\n            onComplete: options.onDeleteComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            sendDelete: function(id, uuid, additionalMandatedParams) {\n                var additionalOptions = additionalMandatedParams || {};\n                options.log(\"Submitting delete file request for \" + id);\n                if (options.method === \"DELETE\") {\n                    requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n                } else {\n                    additionalOptions[options.uuidParamName] = uuid;\n                    requester.initTransport(id).withParams(additionalOptions).send();\n                }\n            }\n        });\n    };\n    (function() {\n        function detectSubsampling(img) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, canvas = document.createElement(\"canvas\"), ctx;\n            if (iw * ih > 1024 * 1024) {\n                canvas.width = canvas.height = 1;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, -iw + 1, 0);\n                return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n            } else {\n                return false;\n            }\n        }\n        function detectVerticalSquash(img, iw, ih) {\n            var canvas = document.createElement(\"canvas\"), sy = 0, ey = ih, py = ih, ctx, data, alpha, ratio;\n            canvas.width = 1;\n            canvas.height = ih;\n            ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            data = ctx.getImageData(0, 0, 1, ih).data;\n            while (py > sy) {\n                alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n        function renderImageToDataURL(img, blob, options, doSquash) {\n            var canvas = document.createElement(\"canvas\"), mime = options.mime || \"image/jpeg\", promise = new qq.Promise();\n            renderImageToCanvas(img, blob, canvas, options, doSquash).then(function() {\n                promise.success(canvas.toDataURL(mime, options.quality || .8));\n            });\n            return promise;\n        }\n        function maybeCalculateDownsampledDimensions(spec) {\n            var maxPixels = 5241e3;\n            if (!qq.ios()) {\n                throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n            }\n            if (spec.origHeight * spec.origWidth > maxPixels) {\n                return {\n                    newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n                    newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n                };\n            }\n        }\n        function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, width = options.width, height = options.height, ctx = canvas.getContext(\"2d\"), promise = new qq.Promise(), modifiedDimensions;\n            ctx.save();\n            if (options.resize) {\n                return renderImageToCanvasWithCustomResizer({\n                    blob: blob,\n                    canvas: canvas,\n                    image: img,\n                    imageHeight: ih,\n                    imageWidth: iw,\n                    orientation: options.orientation,\n                    resize: options.resize,\n                    targetHeight: height,\n                    targetWidth: width\n                });\n            }\n            if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n                modifiedDimensions = maybeCalculateDownsampledDimensions({\n                    origWidth: width,\n                    origHeight: height\n                });\n                if (modifiedDimensions) {\n                    qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n                    width = modifiedDimensions.newWidth;\n                    height = modifiedDimensions.newHeight;\n                }\n            }\n            transformCoordinate(canvas, width, height, options.orientation);\n            if (qq.ios()) {\n                (function() {\n                    if (detectSubsampling(img)) {\n                        iw /= 2;\n                        ih /= 2;\n                    }\n                    var d = 1024, tmpCanvas = document.createElement(\"canvas\"), vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1, dw = Math.ceil(d * width / iw), dh = Math.ceil(d * height / ih / vertSquashRatio), sy = 0, dy = 0, tmpCtx, sx, dx;\n                    tmpCanvas.width = tmpCanvas.height = d;\n                    tmpCtx = tmpCanvas.getContext(\"2d\");\n                    while (sy < ih) {\n                        sx = 0;\n                        dx = 0;\n                        while (sx < iw) {\n                            tmpCtx.clearRect(0, 0, d, d);\n                            tmpCtx.drawImage(img, -sx, -sy);\n                            ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n                            sx += d;\n                            dx += dw;\n                        }\n                        sy += d;\n                        dy += dh;\n                    }\n                    ctx.restore();\n                    tmpCanvas = tmpCtx = null;\n                })();\n            } else {\n                ctx.drawImage(img, 0, 0, width, height);\n            }\n            canvas.qqImageRendered && canvas.qqImageRendered();\n            promise.success();\n            return promise;\n        }\n        function renderImageToCanvasWithCustomResizer(resizeInfo) {\n            var blob = resizeInfo.blob, image = resizeInfo.image, imageHeight = resizeInfo.imageHeight, imageWidth = resizeInfo.imageWidth, orientation = resizeInfo.orientation, promise = new qq.Promise(), resize = resizeInfo.resize, sourceCanvas = document.createElement(\"canvas\"), sourceCanvasContext = sourceCanvas.getContext(\"2d\"), targetCanvas = resizeInfo.canvas, targetHeight = resizeInfo.targetHeight, targetWidth = resizeInfo.targetWidth;\n            transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n            targetCanvas.height = targetHeight;\n            targetCanvas.width = targetWidth;\n            sourceCanvasContext.drawImage(image, 0, 0);\n            resize({\n                blob: blob,\n                height: targetHeight,\n                image: image,\n                sourceCanvas: sourceCanvas,\n                targetCanvas: targetCanvas,\n                width: targetWidth\n            }).then(function success() {\n                targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n                promise.success();\n            }, promise.failure);\n            return promise;\n        }\n        function transformCoordinate(canvas, width, height, orientation) {\n            switch (orientation) {\n              case 5:\n              case 6:\n              case 7:\n              case 8:\n                canvas.width = height;\n                canvas.height = width;\n                break;\n\n              default:\n                canvas.width = width;\n                canvas.height = height;\n            }\n            var ctx = canvas.getContext(\"2d\");\n            switch (orientation) {\n              case 2:\n                ctx.translate(width, 0);\n                ctx.scale(-1, 1);\n                break;\n\n              case 3:\n                ctx.translate(width, height);\n                ctx.rotate(Math.PI);\n                break;\n\n              case 4:\n                ctx.translate(0, height);\n                ctx.scale(1, -1);\n                break;\n\n              case 5:\n                ctx.rotate(.5 * Math.PI);\n                ctx.scale(1, -1);\n                break;\n\n              case 6:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(0, -height);\n                break;\n\n              case 7:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(width, -height);\n                ctx.scale(-1, 1);\n                break;\n\n              case 8:\n                ctx.rotate(-.5 * Math.PI);\n                ctx.translate(-width, 0);\n                break;\n\n              default:\n                break;\n            }\n        }\n        function MegaPixImage(srcImage, errorCallback) {\n            var self = this;\n            if (window.Blob && srcImage instanceof Blob) {\n                (function() {\n                    var img = new Image(), URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                    if (!URL) {\n                        throw Error(\"No createObjectURL function found to create blob url\");\n                    }\n                    img.src = URL.createObjectURL(srcImage);\n                    self.blob = srcImage;\n                    srcImage = img;\n                })();\n            }\n            if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n                srcImage.onload = function() {\n                    var listeners = self.imageLoadListeners;\n                    if (listeners) {\n                        self.imageLoadListeners = null;\n                        setTimeout(function() {\n                            for (var i = 0, len = listeners.length; i < len; i++) {\n                                listeners[i]();\n                            }\n                        }, 0);\n                    }\n                };\n                srcImage.onerror = errorCallback;\n                this.imageLoadListeners = [];\n            }\n            this.srcImage = srcImage;\n        }\n        MegaPixImage.prototype.render = function(target, options) {\n            options = options || {};\n            var self = this, imgWidth = this.srcImage.naturalWidth, imgHeight = this.srcImage.naturalHeight, width = options.width, height = options.height, maxWidth = options.maxWidth, maxHeight = options.maxHeight, doSquash = !this.blob || this.blob.type === \"image/jpeg\", tagName = target.tagName.toLowerCase(), opt;\n            if (this.imageLoadListeners) {\n                this.imageLoadListeners.push(function() {\n                    self.render(target, options);\n                });\n                return;\n            }\n            if (width && !height) {\n                height = imgHeight * width / imgWidth << 0;\n            } else if (height && !width) {\n                width = imgWidth * height / imgHeight << 0;\n            } else {\n                width = imgWidth;\n                height = imgHeight;\n            }\n            if (maxWidth && width > maxWidth) {\n                width = maxWidth;\n                height = imgHeight * width / imgWidth << 0;\n            }\n            if (maxHeight && height > maxHeight) {\n                height = maxHeight;\n                width = imgWidth * height / imgHeight << 0;\n            }\n            opt = {\n                width: width,\n                height: height\n            }, qq.each(options, function(optionsKey, optionsValue) {\n                opt[optionsKey] = optionsValue;\n            });\n            if (tagName === \"img\") {\n                (function() {\n                    var oldTargetSrc = target.src;\n                    renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function(dataUri) {\n                        target.src = dataUri;\n                        oldTargetSrc === target.src && target.onload();\n                    });\n                })();\n            } else if (tagName === \"canvas\") {\n                renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n            }\n            if (typeof this.onrender === \"function\") {\n                this.onrender(target);\n            }\n        };\n        qq.MegaPixImage = MegaPixImage;\n    })();\n    qq.ImageGenerator = function(log) {\n        \"use strict\";\n        function isImg(el) {\n            return el.tagName.toLowerCase() === \"img\";\n        }\n        function isCanvas(el) {\n            return el.tagName.toLowerCase() === \"canvas\";\n        }\n        function isImgCorsSupported() {\n            return new Image().crossOrigin !== undefined;\n        }\n        function isCanvasSupported() {\n            var canvas = document.createElement(\"canvas\");\n            return canvas.getContext && canvas.getContext(\"2d\");\n        }\n        function determineMimeOfFileName(nameWithPath) {\n            var pathSegments = nameWithPath.split(\"/\"), name = pathSegments[pathSegments.length - 1].split(\"?\")[0], extension = qq.getExtension(name);\n            extension = extension && extension.toLowerCase();\n            switch (extension) {\n              case \"jpeg\":\n              case \"jpg\":\n                return \"image/jpeg\";\n\n              case \"png\":\n                return \"image/png\";\n\n              case \"bmp\":\n                return \"image/bmp\";\n\n              case \"gif\":\n                return \"image/gif\";\n\n              case \"tiff\":\n              case \"tif\":\n                return \"image/tiff\";\n            }\n        }\n        function isCrossOrigin(url) {\n            var targetAnchor = document.createElement(\"a\"), targetProtocol, targetHostname, targetPort;\n            targetAnchor.href = url;\n            targetProtocol = targetAnchor.protocol;\n            targetPort = targetAnchor.port;\n            targetHostname = targetAnchor.hostname;\n            if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n                return true;\n            }\n            if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n                return true;\n            }\n            if (targetPort !== window.location.port && !qq.ie()) {\n                return true;\n            }\n            return false;\n        }\n        function registerImgLoadListeners(img, promise) {\n            img.onload = function() {\n                img.onload = null;\n                img.onerror = null;\n                promise.success(img);\n            };\n            img.onerror = function() {\n                img.onload = null;\n                img.onerror = null;\n                log(\"Problem drawing thumbnail!\", \"error\");\n                promise.failure(img, \"Problem drawing thumbnail!\");\n            };\n        }\n        function registerCanvasDrawImageListener(canvas, promise) {\n            canvas.qqImageRendered = function() {\n                promise.success(canvas);\n            };\n        }\n        function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n            var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n            if (isImg(imgOrCanvas)) {\n                registerImgLoadListeners(imgOrCanvas, promise);\n            } else if (isCanvas(imgOrCanvas)) {\n                registerCanvasDrawImageListener(imgOrCanvas, promise);\n            } else {\n                promise.failure(imgOrCanvas);\n                log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n            }\n            return registered;\n        }\n        function draw(fileOrBlob, container, options) {\n            var drawPreview = new qq.Promise(), identifier = new qq.Identify(fileOrBlob, log), maxSize = options.maxSize, orient = options.orient == null ? true : options.orient, megapixErrorHandler = function() {\n                container.onerror = null;\n                container.onload = null;\n                log(\"Could not render preview, file may be too large!\", \"error\");\n                drawPreview.failure(container, \"Browser cannot render image!\");\n            };\n            identifier.isPreviewable().then(function(mime) {\n                var dummyExif = {\n                    parse: function() {\n                        return new qq.Promise().success();\n                    }\n                }, exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif, mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n                if (registerThumbnailRenderedListener(container, drawPreview)) {\n                    exif.parse().then(function(exif) {\n                        var orientation = exif && exif.Orientation;\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            orientation: orientation,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    }, function(failureMsg) {\n                        log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    });\n                }\n            }, function() {\n                log(\"Not previewable\");\n                drawPreview.failure(container, \"Not previewable\");\n            });\n            return drawPreview;\n        }\n        function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n            var tempImg = new Image(), tempImgRender = new qq.Promise();\n            registerThumbnailRenderedListener(tempImg, tempImgRender);\n            if (isCrossOrigin(url)) {\n                tempImg.crossOrigin = \"anonymous\";\n            }\n            tempImg.src = url;\n            tempImgRender.then(function rendered() {\n                registerThumbnailRenderedListener(canvasOrImg, draw);\n                var mpImg = new qq.MegaPixImage(tempImg);\n                mpImg.render(canvasOrImg, {\n                    maxWidth: maxSize,\n                    maxHeight: maxSize,\n                    mime: determineMimeOfFileName(url),\n                    resize: customResizeFunction\n                });\n            }, draw.failure);\n        }\n        function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n            registerThumbnailRenderedListener(img, draw);\n            qq(img).css({\n                maxWidth: maxSize + \"px\",\n                maxHeight: maxSize + \"px\"\n            });\n            img.src = url;\n        }\n        function drawFromUrl(url, container, options) {\n            var draw = new qq.Promise(), scale = options.scale, maxSize = scale ? options.maxSize : null;\n            if (scale && isImg(container)) {\n                if (isCanvasSupported()) {\n                    if (isCrossOrigin(url) && !isImgCorsSupported()) {\n                        drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                    } else {\n                        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n                    }\n                } else {\n                    drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                }\n            } else if (isCanvas(container)) {\n                drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n            } else if (registerThumbnailRenderedListener(container, draw)) {\n                container.src = url;\n            }\n            return draw;\n        }\n        qq.extend(this, {\n            generate: function(fileBlobOrUrl, container, options) {\n                if (qq.isString(fileBlobOrUrl)) {\n                    log(\"Attempting to update thumbnail based on server response.\");\n                    return drawFromUrl(fileBlobOrUrl, container, options || {});\n                } else {\n                    log(\"Attempting to draw client-side image preview.\");\n                    return draw(fileBlobOrUrl, container, options || {});\n                }\n            }\n        });\n        this._testing = {};\n        this._testing.isImg = isImg;\n        this._testing.isCanvas = isCanvas;\n        this._testing.isCrossOrigin = isCrossOrigin;\n        this._testing.determineMimeOfFileName = determineMimeOfFileName;\n    };\n    qq.Exif = function(fileOrBlob, log) {\n        \"use strict\";\n        var TAG_IDS = [ 274 ], TAG_INFO = {\n            274: {\n                name: \"Orientation\",\n                bytes: 2\n            }\n        };\n        function parseLittleEndian(hex) {\n            var result = 0, pow = 0;\n            while (hex.length > 0) {\n                result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n                hex = hex.substring(2, hex.length);\n                pow += 8;\n            }\n            return result;\n        }\n        function seekToApp1(offset, promise) {\n            var theOffset = offset, thePromise = promise;\n            if (theOffset === undefined) {\n                theOffset = 2;\n                thePromise = new qq.Promise();\n            }\n            qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function(hex) {\n                var match = /^ffe([0-9])/.exec(hex), segmentLength;\n                if (match) {\n                    if (match[1] !== \"1\") {\n                        segmentLength = parseInt(hex.slice(4, 8), 16);\n                        seekToApp1(theOffset + segmentLength + 2, thePromise);\n                    } else {\n                        thePromise.success(theOffset);\n                    }\n                } else {\n                    thePromise.failure(\"No EXIF header to be found!\");\n                }\n            });\n            return thePromise;\n        }\n        function getApp1Offset() {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, 0, 6).then(function(hex) {\n                if (hex.indexOf(\"ffd8\") !== 0) {\n                    promise.failure(\"Not a valid JPEG!\");\n                } else {\n                    seekToApp1().then(function(offset) {\n                        promise.success(offset);\n                    }, function(error) {\n                        promise.failure(error);\n                    });\n                }\n            });\n            return promise;\n        }\n        function isLittleEndian(app1Start) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function(hex) {\n                promise.success(hex === \"4949\");\n            });\n            return promise;\n        }\n        function getDirEntryCount(app1Start, littleEndian) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function(hex) {\n                if (littleEndian) {\n                    return promise.success(parseLittleEndian(hex));\n                } else {\n                    promise.success(parseInt(hex, 16));\n                }\n            });\n            return promise;\n        }\n        function getIfd(app1Start, dirEntries) {\n            var offset = app1Start + 20, bytes = dirEntries * 12;\n            return qq.readBlobToHex(fileOrBlob, offset, bytes);\n        }\n        function getDirEntries(ifdHex) {\n            var entries = [], offset = 0;\n            while (offset + 24 <= ifdHex.length) {\n                entries.push(ifdHex.slice(offset, offset + 24));\n                offset += 24;\n            }\n            return entries;\n        }\n        function getTagValues(littleEndian, dirEntries) {\n            var TAG_VAL_OFFSET = 16, tagsToFind = qq.extend([], TAG_IDS), vals = {};\n            qq.each(dirEntries, function(idx, entry) {\n                var idHex = entry.slice(0, 4), id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16), tagsToFindIdx = tagsToFind.indexOf(id), tagValHex, tagName, tagValLength;\n                if (tagsToFindIdx >= 0) {\n                    tagName = TAG_INFO[id].name;\n                    tagValLength = TAG_INFO[id].bytes;\n                    tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n                    vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n                    tagsToFind.splice(tagsToFindIdx, 1);\n                }\n                if (tagsToFind.length === 0) {\n                    return false;\n                }\n            });\n            return vals;\n        }\n        qq.extend(this, {\n            parse: function() {\n                var parser = new qq.Promise(), onParseFailure = function(message) {\n                    log(qq.format(\"EXIF header parse failed: '{}' \", message));\n                    parser.failure(message);\n                };\n                getApp1Offset().then(function(app1Offset) {\n                    log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n                    isLittleEndian(app1Offset).then(function(littleEndian) {\n                        log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n                        getDirEntryCount(app1Offset, littleEndian).then(function(dirEntryCount) {\n                            log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n                            getIfd(app1Offset, dirEntryCount).then(function(ifdHex) {\n                                var dirEntries = getDirEntries(ifdHex), tagValues = getTagValues(littleEndian, dirEntries);\n                                log(\"Successfully parsed some EXIF tags\");\n                                parser.success(tagValues);\n                            }, onParseFailure);\n                        }, onParseFailure);\n                    }, onParseFailure);\n                }, onParseFailure);\n                return parser;\n            }\n        });\n        this._testing = {};\n        this._testing.parseLittleEndian = parseLittleEndian;\n    };\n    qq.Identify = function(fileOrBlob, log) {\n        \"use strict\";\n        function isIdentifiable(magicBytes, questionableBytes) {\n            var identifiable = false, magicBytesEntries = [].concat(magicBytes);\n            qq.each(magicBytesEntries, function(idx, magicBytesArrayEntry) {\n                if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n                    identifiable = true;\n                    return false;\n                }\n            });\n            return identifiable;\n        }\n        qq.extend(this, {\n            isPreviewable: function() {\n                var self = this, identifier = new qq.Promise(), previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n                log(\"First pass: check type attribute of blob object.\");\n                if (this.isPreviewableSync()) {\n                    log(\"Second pass: check for magic bytes in file header.\");\n                    qq.readBlobToHex(fileOrBlob, 0, 4).then(function(hex) {\n                        qq.each(self.PREVIEWABLE_MIME_TYPES, function(mime, bytes) {\n                            if (isIdentifiable(bytes, hex)) {\n                                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                                    previewable = true;\n                                    identifier.success(mime);\n                                }\n                                return false;\n                            }\n                        });\n                        log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n                        if (!previewable) {\n                            identifier.failure();\n                        }\n                    }, function() {\n                        log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n                        identifier.failure();\n                    });\n                } else {\n                    identifier.failure();\n                }\n                return identifier;\n            },\n            isPreviewableSync: function() {\n                var fileMime = fileOrBlob.type, isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0, previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                if (isRecognizedImage) {\n                    if (fileMime === \"image/tiff\") {\n                        previewable = qq.supportedFeatures.tiffPreviews;\n                    } else {\n                        previewable = true;\n                    }\n                }\n                !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n                return previewable;\n            }\n        });\n    };\n    qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n        \"image/jpeg\": \"ffd8ff\",\n        \"image/gif\": \"474946\",\n        \"image/png\": \"89504e\",\n        \"image/bmp\": \"424d\",\n        \"image/tiff\": [ \"49492a00\", \"4d4d002a\" ]\n    };\n    qq.ImageValidation = function(blob, log) {\n        \"use strict\";\n        function hasNonZeroLimits(limits) {\n            var atLeastOne = false;\n            qq.each(limits, function(limit, value) {\n                if (value > 0) {\n                    atLeastOne = true;\n                    return false;\n                }\n            });\n            return atLeastOne;\n        }\n        function getWidthHeight() {\n            var sizeDetermination = new qq.Promise();\n            new qq.Identify(blob, log).isPreviewable().then(function() {\n                var image = new Image(), url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                if (url) {\n                    image.onerror = function() {\n                        log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n                        sizeDetermination.failure();\n                    };\n                    image.onload = function() {\n                        sizeDetermination.success({\n                            width: this.width,\n                            height: this.height\n                        });\n                    };\n                    image.src = url.createObjectURL(blob);\n                } else {\n                    log(\"No createObjectURL function available to generate image URL!\", \"error\");\n                    sizeDetermination.failure();\n                }\n            }, sizeDetermination.failure);\n            return sizeDetermination;\n        }\n        function getFailingLimit(limits, dimensions) {\n            var failingLimit;\n            qq.each(limits, function(limitName, limitValue) {\n                if (limitValue > 0) {\n                    var limitMatcher = /(max|min)(Width|Height)/.exec(limitName), dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1), actualValue = dimensions[dimensionPropName];\n                    switch (limitMatcher[1]) {\n                      case \"min\":\n                        if (actualValue < limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n\n                      case \"max\":\n                        if (actualValue > limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n                    }\n                }\n            });\n            return failingLimit;\n        }\n        this.validate = function(limits) {\n            var validationEffort = new qq.Promise();\n            log(\"Attempting to validate image.\");\n            if (hasNonZeroLimits(limits)) {\n                getWidthHeight().then(function(dimensions) {\n                    var failingLimit = getFailingLimit(limits, dimensions);\n                    if (failingLimit) {\n                        validationEffort.failure(failingLimit);\n                    } else {\n                        validationEffort.success();\n                    }\n                }, validationEffort.success);\n            } else {\n                validationEffort.success();\n            }\n            return validationEffort;\n        };\n    };\n    qq.Session = function(spec) {\n        \"use strict\";\n        var options = {\n            endpoint: null,\n            params: {},\n            customHeaders: {},\n            cors: {},\n            addFileRecord: function(sessionData) {},\n            log: function(message, level) {}\n        };\n        qq.extend(options, spec, true);\n        function isJsonResponseValid(response) {\n            if (qq.isArray(response)) {\n                return true;\n            }\n            options.log(\"Session response is not an array.\", \"error\");\n        }\n        function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n            var someItemsIgnored = false;\n            success = success && isJsonResponseValid(fileItems);\n            if (success) {\n                qq.each(fileItems, function(idx, fileItem) {\n                    if (fileItem.uuid == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n                    } else if (fileItem.name == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n                    } else {\n                        try {\n                            options.addFileRecord(fileItem);\n                            return true;\n                        } catch (err) {\n                            someItemsIgnored = true;\n                            options.log(err.message, \"error\");\n                        }\n                    }\n                    return false;\n                });\n            }\n            promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n        }\n        this.refresh = function() {\n            var refreshEffort = new qq.Promise(), refreshCompleteCallback = function(response, success, xhrOrXdr) {\n                handleFileItems(response, success, xhrOrXdr, refreshEffort);\n            }, requesterOptions = qq.extend({}, options), requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n                onComplete: refreshCompleteCallback\n            }));\n            requester.queryServer();\n            return refreshEffort;\n        };\n    };\n    qq.SessionAjaxRequester = function(spec) {\n        \"use strict\";\n        var requester, options = {\n            endpoint: null,\n            customHeaders: {},\n            params: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            onComplete: function(response, success, xhrOrXdr) {},\n            log: function(str, level) {}\n        };\n        qq.extend(options, spec);\n        function onComplete(id, xhrOrXdr, isError) {\n            var response = null;\n            if (xhrOrXdr.responseText != null) {\n                try {\n                    response = qq.parseJson(xhrOrXdr.responseText);\n                } catch (err) {\n                    options.log(\"Problem parsing session response: \" + err.message, \"error\");\n                    isError = true;\n                }\n            }\n            options.onComplete(response, !isError, xhrOrXdr);\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"GET\" ],\n            method: \"GET\",\n            endpointStore: {\n                get: function() {\n                    return options.endpoint;\n                }\n            },\n            customHeaders: options.customHeaders,\n            log: options.log,\n            onComplete: onComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            queryServer: function() {\n                var params = qq.extend({}, options.params);\n                options.log(\"Session query request.\");\n                requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n            }\n        });\n    };\n    qq.Scaler = function(spec, log) {\n        \"use strict\";\n        var self = this, customResizeFunction = spec.customResizer, includeOriginal = spec.sendOriginal, orient = spec.orient, defaultType = spec.defaultType, defaultQuality = spec.defaultQuality / 100, failedToScaleText = spec.failureText, includeExif = spec.includeExif, sizes = this._getSortedSizes(spec.sizes);\n        qq.extend(this, {\n            enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n            getFileRecords: function(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n                var self = this, records = [], originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData, identifier = new qq.Identify(originalBlob, log);\n                if (identifier.isPreviewableSync()) {\n                    qq.each(sizes, function(idx, sizeRecord) {\n                        var outputType = self._determineOutputType({\n                            defaultType: defaultType,\n                            requestedType: sizeRecord.type,\n                            refType: originalBlob.type\n                        });\n                        records.push({\n                            uuid: qq.getUniqueId(),\n                            name: self._getName(originalFileName, {\n                                name: sizeRecord.name,\n                                type: outputType,\n                                refType: originalBlob.type\n                            }),\n                            blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                                customResizeFunction: customResizeFunction,\n                                maxSize: sizeRecord.maxSize,\n                                orient: orient,\n                                type: outputType,\n                                quality: defaultQuality,\n                                failedText: failedToScaleText,\n                                includeExif: includeExif,\n                                log: log\n                            }))\n                        });\n                    });\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: includeOriginal ? originalBlob : null\n                    });\n                } else {\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: originalBlob\n                    });\n                }\n                return records;\n            },\n            handleNewFile: function(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n                var self = this, buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId, scaledIds = [], originalId = null, addFileToHandler = api.addFileToHandler, uploadData = api.uploadData, paramsStore = api.paramsStore, proxyGroupId = qq.getUniqueId();\n                qq.each(self.getFileRecords(uuid, name, file), function(idx, record) {\n                    var blobSize = record.size, id;\n                    if (record.blob instanceof qq.BlobProxy) {\n                        blobSize = -1;\n                    }\n                    id = uploadData.addFile({\n                        uuid: record.uuid,\n                        name: record.name,\n                        size: blobSize,\n                        batchId: batchId,\n                        proxyGroupId: proxyGroupId\n                    });\n                    if (record.blob instanceof qq.BlobProxy) {\n                        scaledIds.push(id);\n                    } else {\n                        originalId = id;\n                    }\n                    if (record.blob) {\n                        addFileToHandler(id, record.blob);\n                        fileList.push({\n                            id: id,\n                            file: record.blob\n                        });\n                    } else {\n                        uploadData.setStatus(id, qq.status.REJECTED);\n                    }\n                });\n                if (originalId !== null) {\n                    qq.each(scaledIds, function(idx, scaledId) {\n                        var params = {\n                            qqparentuuid: uploadData.retrieve({\n                                id: originalId\n                            }).uuid,\n                            qqparentsize: uploadData.retrieve({\n                                id: originalId\n                            }).size\n                        };\n                        params[uuidParamName] = uploadData.retrieve({\n                            id: scaledId\n                        }).uuid;\n                        uploadData.setParentId(scaledId, originalId);\n                        paramsStore.addReadOnly(scaledId, params);\n                    });\n                    if (scaledIds.length) {\n                        (function() {\n                            var param = {};\n                            param[uuidParamName] = uploadData.retrieve({\n                                id: originalId\n                            }).uuid;\n                            paramsStore.addReadOnly(originalId, param);\n                        })();\n                    }\n                }\n            }\n        });\n    };\n    qq.extend(qq.Scaler.prototype, {\n        scaleImage: function(id, specs, api) {\n            \"use strict\";\n            if (!qq.supportedFeatures.scaling) {\n                throw new qq.Error(\"Scaling is not supported in this browser!\");\n            }\n            var scalingEffort = new qq.Promise(), log = api.log, file = api.getFile(id), uploadData = api.uploadData.retrieve({\n                id: id\n            }), name = uploadData && uploadData.name, uuid = uploadData && uploadData.uuid, scalingOptions = {\n                customResizer: specs.customResizer,\n                sendOriginal: false,\n                orient: specs.orient,\n                defaultType: specs.type || null,\n                defaultQuality: specs.quality,\n                failedToScaleText: \"Unable to scale\",\n                sizes: [ {\n                    name: \"\",\n                    maxSize: specs.maxSize\n                } ]\n            }, scaler = new qq.Scaler(scalingOptions, log);\n            if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n                scalingEffort.failure();\n                log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n            } else {\n                qq.bind(function() {\n                    var record = scaler.getFileRecords(uuid, name, file)[0];\n                    if (record && record.blob instanceof qq.BlobProxy) {\n                        record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n                    } else {\n                        log(id + \" is not a scalable image!\", \"error\");\n                        scalingEffort.failure();\n                    }\n                }, this)();\n            }\n            return scalingEffort;\n        },\n        _determineOutputType: function(spec) {\n            \"use strict\";\n            var requestedType = spec.requestedType, defaultType = spec.defaultType, referenceType = spec.refType;\n            if (!defaultType && !requestedType) {\n                if (referenceType !== \"image/jpeg\") {\n                    return \"image/png\";\n                }\n                return referenceType;\n            }\n            if (!requestedType) {\n                return defaultType;\n            }\n            if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n                if (requestedType === \"image/tiff\") {\n                    return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n                }\n                return requestedType;\n            }\n            return defaultType;\n        },\n        _getName: function(originalName, scaledVersionProperties) {\n            \"use strict\";\n            var startOfExt = originalName.lastIndexOf(\".\"), versionType = scaledVersionProperties.type || \"image/png\", referenceType = scaledVersionProperties.refType, scaledName = \"\", scaledExt = qq.getExtension(originalName), nameAppendage = \"\";\n            if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n                nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n            }\n            if (startOfExt >= 0) {\n                scaledName = originalName.substr(0, startOfExt);\n                if (referenceType !== versionType) {\n                    scaledExt = versionType.split(\"/\")[1];\n                }\n                scaledName += nameAppendage + \".\" + scaledExt;\n            } else {\n                scaledName = originalName + nameAppendage;\n            }\n            return scaledName;\n        },\n        _getSortedSizes: function(sizes) {\n            \"use strict\";\n            sizes = qq.extend([], sizes);\n            return sizes.sort(function(a, b) {\n                if (a.maxSize > b.maxSize) {\n                    return 1;\n                }\n                if (a.maxSize < b.maxSize) {\n                    return -1;\n                }\n                return 0;\n            });\n        },\n        _generateScaledImage: function(spec, sourceFile) {\n            \"use strict\";\n            var self = this, customResizeFunction = spec.customResizeFunction, log = spec.log, maxSize = spec.maxSize, orient = spec.orient, type = spec.type, quality = spec.quality, failedText = spec.failedText, includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\", scalingEffort = new qq.Promise(), imageGenerator = new qq.ImageGenerator(log), canvas = document.createElement(\"canvas\");\n            log(\"Attempting to generate scaled version for \" + sourceFile.name);\n            imageGenerator.generate(sourceFile, canvas, {\n                maxSize: maxSize,\n                orient: orient,\n                customResizeFunction: customResizeFunction\n            }).then(function() {\n                var scaledImageDataUri = canvas.toDataURL(type, quality), signalSuccess = function() {\n                    log(\"Success generating scaled version for \" + sourceFile.name);\n                    var blob = qq.dataUriToBlob(scaledImageDataUri);\n                    scalingEffort.success(blob);\n                };\n                if (includeExif) {\n                    self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function(scaledImageDataUriWithExif) {\n                        scaledImageDataUri = scaledImageDataUriWithExif;\n                        signalSuccess();\n                    }, function() {\n                        log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n                        signalSuccess();\n                    });\n                } else {\n                    signalSuccess();\n                }\n            }, function() {\n                log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n                scalingEffort.failure(failedText);\n            });\n            return scalingEffort;\n        },\n        _insertExifHeader: function(originalImage, scaledImageDataUri, log) {\n            \"use strict\";\n            var reader = new FileReader(), insertionEffort = new qq.Promise(), originalImageDataUri = \"\";\n            reader.onload = function() {\n                originalImageDataUri = reader.result;\n                insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n            };\n            reader.onerror = function() {\n                log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n                insertionEffort.failure();\n            };\n            reader.readAsDataURL(originalImage);\n            return insertionEffort;\n        },\n        _dataUriToBlob: function(dataUri) {\n            \"use strict\";\n            var byteString, mimeString, arrayBuffer, intArray;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return this._createBlob(arrayBuffer, mimeString);\n        },\n        _createBlob: function(data, mime) {\n            \"use strict\";\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n            if (blobBuilder) {\n                blobBuilder.append(data);\n                return blobBuilder.getBlob(mime);\n            } else {\n                return new Blob([ data ], {\n                    type: mime\n                });\n            }\n        }\n    });\n    qq.ExifRestorer = function() {\n        var ExifRestorer = {};\n        ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n        ExifRestorer.encode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0;\n            do {\n                chr1 = input[i++];\n                chr2 = input[i++];\n                chr3 = input[i++];\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return output;\n        };\n        ExifRestorer.restore = function(origFileBase64, resizedFileBase64) {\n            var expectedBase64Header = \"data:image/jpeg;base64,\";\n            if (!origFileBase64.match(expectedBase64Header)) {\n                return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return expectedBase64Header + this.encode64(image);\n        };\n        ExifRestorer.exifManipulation = function(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments), newImageArray = this.insertExif(resizedFileBase64, exifArray), aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n        };\n        ExifRestorer.getExifArray = function(segments) {\n            var seg;\n            for (var x = 0; x < segments.length; x++) {\n                seg = segments[x];\n                if (seg[0] == 255 & seg[1] == 225) {\n                    return seg;\n                }\n            }\n            return [];\n        };\n        ExifRestorer.insertExif = function(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"), buf = this.decode64(imageData), separatePoint = buf.indexOf(255, 3), mae = buf.slice(0, separatePoint), ato = buf.slice(separatePoint), array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n        };\n        ExifRestorer.slice2Segments = function(rawImageArray) {\n            var head = 0, segments = [];\n            while (1) {\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n                    break;\n                }\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n                    head += 2;\n                } else {\n                    var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3], endPoint = head + length + 2, seg = rawImageArray.slice(head, endPoint);\n                    segments.push(seg);\n                    head = endPoint;\n                }\n                if (head > rawImageArray.length) {\n                    break;\n                }\n            }\n            return segments;\n        };\n        ExifRestorer.decode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0, buf = [];\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            do {\n                enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n                chr1 = enc1 << 2 | enc2 >> 4;\n                chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n                chr3 = (enc3 & 3) << 6 | enc4;\n                buf.push(chr1);\n                if (enc3 != 64) {\n                    buf.push(chr2);\n                }\n                if (enc4 != 64) {\n                    buf.push(chr3);\n                }\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return buf;\n        };\n        return ExifRestorer;\n    }();\n    qq.TotalProgress = function(callback, getSize) {\n        \"use strict\";\n        var perFileProgress = {}, totalLoaded = 0, totalSize = 0, lastLoadedSent = -1, lastTotalSent = -1, callbackProxy = function(loaded, total) {\n            if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n                callback(loaded, total);\n            }\n            lastLoadedSent = loaded;\n            lastTotalSent = total;\n        }, noRetryableFiles = function(failed, retryable) {\n            var none = true;\n            qq.each(failed, function(idx, failedId) {\n                if (qq.indexOf(retryable, failedId) >= 0) {\n                    none = false;\n                    return false;\n                }\n            });\n            return none;\n        }, onCancel = function(id) {\n            updateTotalProgress(id, -1, -1);\n            delete perFileProgress[id];\n        }, onAllComplete = function(successful, failed, retryable) {\n            if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n                callbackProxy(totalSize, totalSize);\n                this.reset();\n            }\n        }, onNew = function(id) {\n            var size = getSize(id);\n            if (size > 0) {\n                updateTotalProgress(id, 0, size);\n                perFileProgress[id] = {\n                    loaded: 0,\n                    total: size\n                };\n            }\n        }, updateTotalProgress = function(id, newLoaded, newTotal) {\n            var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0, oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n            if (newLoaded === -1 && newTotal === -1) {\n                totalLoaded -= oldLoaded;\n                totalSize -= oldTotal;\n            } else {\n                if (newLoaded) {\n                    totalLoaded += newLoaded - oldLoaded;\n                }\n                if (newTotal) {\n                    totalSize += newTotal - oldTotal;\n                }\n            }\n            callbackProxy(totalLoaded, totalSize);\n        };\n        qq.extend(this, {\n            onAllComplete: onAllComplete,\n            onStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n                    onCancel(id);\n                } else if (newStatus === qq.status.SUBMITTING) {\n                    onNew(id);\n                }\n            },\n            onIndividualProgress: function(id, loaded, total) {\n                updateTotalProgress(id, loaded, total);\n                perFileProgress[id] = {\n                    loaded: loaded,\n                    total: total\n                };\n            },\n            onNewSize: function(id) {\n                onNew(id);\n            },\n            reset: function() {\n                perFileProgress = {};\n                totalLoaded = 0;\n                totalSize = 0;\n            }\n        });\n    };\n    qq.PasteSupport = function(o) {\n        \"use strict\";\n        var options, detachPasteHandler;\n        options = {\n            targetElement: null,\n            callbacks: {\n                log: function(message, level) {},\n                pasteReceived: function(blob) {}\n            }\n        };\n        function isImage(item) {\n            return item.type && item.type.indexOf(\"image/\") === 0;\n        }\n        function registerPasteHandler() {\n            detachPasteHandler = qq(options.targetElement).attach(\"paste\", function(event) {\n                var clipboardData = event.clipboardData;\n                if (clipboardData) {\n                    qq.each(clipboardData.items, function(idx, item) {\n                        if (isImage(item)) {\n                            var blob = item.getAsFile();\n                            options.callbacks.pasteReceived(blob);\n                        }\n                    });\n                }\n            });\n        }\n        function unregisterPasteHandler() {\n            if (detachPasteHandler) {\n                detachPasteHandler();\n            }\n        }\n        qq.extend(options, o);\n        registerPasteHandler();\n        qq.extend(this, {\n            reset: function() {\n                unregisterPasteHandler();\n            }\n        });\n    };\n    qq.FormSupport = function(options, startUpload, log) {\n        \"use strict\";\n        var self = this, interceptSubmit = options.interceptSubmit, formEl = options.element, autoUpload = options.autoUpload;\n        qq.extend(this, {\n            newEndpoint: null,\n            newAutoUpload: autoUpload,\n            attachedToForm: false,\n            getFormInputsAsObject: function() {\n                if (formEl == null) {\n                    return null;\n                }\n                return self._form2Obj(formEl);\n            }\n        });\n        function determineNewEndpoint(formEl) {\n            if (formEl.getAttribute(\"action\")) {\n                self.newEndpoint = formEl.getAttribute(\"action\");\n            }\n        }\n        function validateForm(formEl, nativeSubmit) {\n            if (formEl.checkValidity && !formEl.checkValidity()) {\n                log(\"Form did not pass validation checks - will not upload.\", \"error\");\n                nativeSubmit();\n            } else {\n                return true;\n            }\n        }\n        function maybeUploadOnSubmit(formEl) {\n            var nativeSubmit = formEl.submit;\n            qq(formEl).attach(\"submit\", function(event) {\n                event = event || window.event;\n                if (event.preventDefault) {\n                    event.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n                validateForm(formEl, nativeSubmit) && startUpload();\n            });\n            formEl.submit = function() {\n                validateForm(formEl, nativeSubmit) && startUpload();\n            };\n        }\n        function determineFormEl(formEl) {\n            if (formEl) {\n                if (qq.isString(formEl)) {\n                    formEl = document.getElementById(formEl);\n                }\n                if (formEl) {\n                    log(\"Attaching to form element.\");\n                    determineNewEndpoint(formEl);\n                    interceptSubmit && maybeUploadOnSubmit(formEl);\n                }\n            }\n            return formEl;\n        }\n        formEl = determineFormEl(formEl);\n        this.attachedToForm = !!formEl;\n    };\n    qq.extend(qq.FormSupport.prototype, {\n        _form2Obj: function(form) {\n            \"use strict\";\n            var obj = {}, notIrrelevantType = function(type) {\n                var irrelevantTypes = [ \"button\", \"image\", \"reset\", \"submit\" ];\n                return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n            }, radioOrCheckbox = function(type) {\n                return qq.indexOf([ \"checkbox\", \"radio\" ], type.toLowerCase()) >= 0;\n            }, ignoreValue = function(el) {\n                if (radioOrCheckbox(el.type) && !el.checked) {\n                    return true;\n                }\n                return el.disabled && el.type.toLowerCase() !== \"hidden\";\n            }, selectValue = function(select) {\n                var value = null;\n                qq.each(qq(select).children(), function(idx, child) {\n                    if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n                        value = child.value;\n                        return false;\n                    }\n                });\n                return value;\n            };\n            qq.each(form.elements, function(idx, el) {\n                if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n                    obj[el.name] = el.value;\n                } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n                    var value = selectValue(el);\n                    if (value !== null) {\n                        obj[el.name] = value;\n                    }\n                }\n            });\n            return obj;\n        }\n    });\n    qq.traditional = qq.traditional || {};\n    qq.traditional.FormUploadHandler = function(options, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getUuid = proxy.getUuid, log = proxy.log;\n        function getIframeContentJson(id, iframe) {\n            var response, doc, innerHtml;\n            try {\n                doc = iframe.contentDocument || iframe.contentWindow.document;\n                innerHtml = doc.body.innerHTML;\n                log(\"converting iframe's innerHTML to JSON\");\n                log(\"innerHTML = \" + innerHtml);\n                if (innerHtml && innerHtml.match(/^<pre/i)) {\n                    innerHtml = doc.body.firstChild.firstChild.nodeValue;\n                }\n                response = handler._parseJsonResponse(innerHtml);\n            } catch (error) {\n                log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n                response = {\n                    success: false\n                };\n            }\n            return response;\n        }\n        function createForm(id, iframe) {\n            var params = options.paramsStore.get(id), method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\", endpoint = options.endpointStore.get(id), name = getName(id);\n            params[options.uuidName] = getUuid(id);\n            params[options.filenameParam] = name;\n            return handler._initFormForUpload({\n                method: method,\n                endpoint: endpoint,\n                params: params,\n                paramsInBody: options.paramsInBody,\n                targetName: iframe.name\n            });\n        }\n        this.uploadFile = function(id) {\n            var input = handler.getInput(id), iframe = handler._createIframe(id), promise = new qq.Promise(), form;\n            form = createForm(id, iframe);\n            form.appendChild(input);\n            handler._attachLoadEvent(iframe, function(responseFromMessage) {\n                log(\"iframe loaded\");\n                var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n                handler._detachLoadEvent(id);\n                if (!options.cors.expected) {\n                    qq(iframe).remove();\n                }\n                if (response.success) {\n                    promise.success(response);\n                } else {\n                    promise.failure(response);\n                }\n            });\n            log(\"Sending upload request for \" + id);\n            form.submit();\n            qq(form).remove();\n            return promise;\n        };\n        qq.extend(this, new qq.FormUploadHandler({\n            options: {\n                isCors: options.cors.expected,\n                inputName: options.inputName\n            },\n            proxy: {\n                onCancel: options.onCancel,\n                getName: getName,\n                getUuid: getUuid,\n                log: log\n            }\n        }));\n    };\n    qq.traditional = qq.traditional || {};\n    qq.traditional.XhrUploadHandler = function(spec, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, log = proxy.log, multipart = spec.forceMultipart || spec.paramsInBody, addChunkingSpecificParams = function(id, params, chunkData) {\n            var size = getSize(id), name = getName(id);\n            if (!spec.omitDefaultParams) {\n                params[spec.chunking.paramNames.partIndex] = chunkData.part;\n                params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n                params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n                params[spec.chunking.paramNames.totalParts] = chunkData.count;\n                params[spec.totalFileSizeName] = size;\n            }\n            if (multipart && !spec.omitDefaultParams) {\n                params[spec.filenameParam] = name;\n            }\n        }, allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n            cors: spec.cors,\n            endpoint: spec.chunking.success.endpoint,\n            headers: spec.chunking.success.headers,\n            jsonPayload: spec.chunking.success.jsonPayload,\n            log: log,\n            method: spec.chunking.success.method,\n            params: spec.chunking.success.params\n        }), createReadyStateChangedHandler = function(id, xhr) {\n            var promise = new qq.Promise();\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var result = onUploadOrChunkComplete(id, xhr);\n                    if (result.success) {\n                        promise.success(result.response, xhr);\n                    } else {\n                        promise.failure(result.response, xhr);\n                    }\n                }\n            };\n            return promise;\n        }, getChunksCompleteParams = function(id) {\n            var params = spec.paramsStore.get(id), name = getName(id), size = getSize(id);\n            params[spec.uuidName] = getUuid(id);\n            params[spec.filenameParam] = name;\n            params[spec.totalFileSizeName] = size;\n            params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n            return params;\n        }, isErrorUploadResponse = function(xhr, response) {\n            return qq.indexOf([ 200, 201, 202, 203, 204 ], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n        }, onUploadOrChunkComplete = function(id, xhr) {\n            var response;\n            log(\"xhr - server response received for \" + id);\n            log(\"responseText = \" + xhr.responseText);\n            response = parseResponse(true, xhr);\n            return {\n                success: !isErrorUploadResponse(xhr, response),\n                response: response\n            };\n        }, parseResponse = function(upload, xhr) {\n            var response = {};\n            try {\n                log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n                response = qq.parseJson(xhr.responseText);\n            } catch (error) {\n                upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n            }\n            return response;\n        }, sendChunksCompleteRequest = function(id) {\n            var promise = new qq.Promise();\n            allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function(xhr) {\n                promise.success(parseResponse(false, xhr), xhr);\n            }, function(xhr) {\n                promise.failure(parseResponse(false, xhr), xhr);\n            });\n            return promise;\n        }, setParamsAndGetEntityToSend = function(entityToSendParams) {\n            var fileOrBlob = entityToSendParams.fileOrBlob;\n            var id = entityToSendParams.id;\n            var xhr = entityToSendParams.xhr;\n            var xhrOverrides = entityToSendParams.xhrOverrides || {};\n            var customParams = entityToSendParams.customParams || {};\n            var defaultParams = entityToSendParams.params || {};\n            var xhrOverrideParams = xhrOverrides.params || {};\n            var params;\n            var formData = multipart ? new FormData() : null, method = xhrOverrides.method || spec.method, endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id), name = getName(id), size = getSize(id);\n            if (spec.omitDefaultParams) {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n            } else {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n                qq.extend(params, defaultParams);\n                params[spec.uuidName] = getUuid(id);\n                params[spec.filenameParam] = name;\n                if (multipart) {\n                    params[spec.totalFileSizeName] = size;\n                } else if (!spec.paramsInBody) {\n                    params[spec.inputName] = name;\n                }\n            }\n            if (!spec.paramsInBody) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            xhr.open(method, endpoint, true);\n            if (spec.cors.expected && spec.cors.sendCredentials) {\n                xhr.withCredentials = true;\n            }\n            if (multipart) {\n                if (spec.paramsInBody) {\n                    qq.obj2FormData(params, formData);\n                }\n                formData.append(spec.inputName, fileOrBlob);\n                return formData;\n            }\n            return fileOrBlob;\n        }, setUploadHeaders = function(headersOptions) {\n            var headerOverrides = headersOptions.headerOverrides;\n            var id = headersOptions.id;\n            var xhr = headersOptions.xhr;\n            if (headerOverrides) {\n                qq.each(headerOverrides, function(headerName, headerValue) {\n                    xhr.setRequestHeader(headerName, headerValue);\n                });\n            } else {\n                var extraHeaders = spec.customHeaders.get(id), fileOrBlob = handler.getFile(id);\n                xhr.setRequestHeader(\"Accept\", \"application/json\");\n                xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                if (!multipart) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                    xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n                }\n                qq.each(extraHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        };\n        qq.extend(this, {\n            uploadChunk: function(uploadChunkParams) {\n                var id = uploadChunkParams.id;\n                var chunkIdx = uploadChunkParams.chunkIdx;\n                var overrides = uploadChunkParams.overrides || {};\n                var resuming = uploadChunkParams.resuming;\n                var chunkData = handler._getChunkData(id, chunkIdx), xhr = handler._createXhr(id, chunkIdx), promise, toSend, customParams, params = {};\n                promise = createReadyStateChangedHandler(id, xhr);\n                handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n                customParams = spec.paramsStore.get(id);\n                addChunkingSpecificParams(id, params, chunkData);\n                if (resuming) {\n                    params[spec.resume.paramNames.resuming] = true;\n                }\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: chunkData.blob,\n                    id: id,\n                    customParams: customParams,\n                    params: params,\n                    xhr: xhr,\n                    xhrOverrides: overrides\n                });\n                setUploadHeaders({\n                    headerOverrides: overrides.headers,\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            },\n            uploadFile: function(id) {\n                var fileOrBlob = handler.getFile(id), promise, xhr, customParams, toSend;\n                xhr = handler._createXhr(id);\n                handler._registerProgressHandler(id);\n                promise = createReadyStateChangedHandler(id, xhr);\n                customParams = spec.paramsStore.get(id);\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: fileOrBlob,\n                    id: id,\n                    customParams: customParams,\n                    xhr: xhr\n                });\n                setUploadHeaders({\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            }\n        });\n        qq.extend(this, new qq.XhrUploadHandler({\n            options: qq.extend({\n                namespace: \"traditional\"\n            }, spec),\n            proxy: qq.extend({\n                getEndpoint: spec.endpointStore.get\n            }, proxy)\n        }));\n        qq.override(this, function(super_) {\n            return {\n                finalizeChunks: function(id) {\n                    proxy.onFinalizing(id);\n                    if (spec.chunking.success.endpoint) {\n                        return sendChunksCompleteRequest(id);\n                    } else {\n                        return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n                    }\n                }\n            };\n        });\n    };\n    qq.traditional.AllChunksDoneAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            cors: {\n                allowXdr: false,\n                expected: false,\n                sendCredentials: false\n            },\n            endpoint: null,\n            log: function(str, level) {},\n            method: \"POST\"\n        }, promises = {}, endpointHandler = {\n            get: function(id) {\n                if (qq.isFunction(options.endpoint)) {\n                    return options.endpoint(id);\n                }\n                return options.endpoint;\n            }\n        };\n        qq.extend(options, o);\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n            validMethods: [ options.method ],\n            method: options.method,\n            endpointStore: endpointHandler,\n            allowXRequestedWithAndCacheControl: false,\n            cors: options.cors,\n            log: options.log,\n            onComplete: function(id, xhr, isError) {\n                var promise = promises[id];\n                delete promises[id];\n                if (isError) {\n                    promise.failure(xhr);\n                } else {\n                    promise.success(xhr);\n                }\n            }\n        }));\n        qq.extend(this, {\n            complete: function(id, xhr, params, headers) {\n                var promise = new qq.Promise();\n                options.log(\"Submitting All Chunks Done request for \" + id);\n                promises[id] = promise;\n                requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n                return promise;\n            }\n        });\n    };\n    qq.DragAndDrop = function(o) {\n        \"use strict\";\n        var options, HIDE_ZONES_EVENT_NAME = \"qq-hidezones\", HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\", uploadDropZones = [], droppedFiles = [], disposeSupport = new qq.DisposeSupport();\n        options = {\n            dropZoneElements: [],\n            allowMultipleItems: true,\n            classes: {\n                dropActive: null\n            },\n            callbacks: new qq.DragAndDrop.callbacks()\n        };\n        qq.extend(options, o, true);\n        function uploadDroppedFiles(files, uploadDropZone) {\n            var filesAsArray = Array.prototype.slice.call(files);\n            options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n            uploadDropZone.dropDisabled(false);\n            options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n        }\n        function traverseFileTree(entry) {\n            var parseEntryPromise = new qq.Promise();\n            if (entry.isFile) {\n                entry.file(function(file) {\n                    file.qqPath = extractDirectoryPath(entry);\n                    droppedFiles.push(file);\n                    parseEntryPromise.success();\n                }, function(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            } else if (entry.isDirectory) {\n                getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n                    var entriesLeft = entries.length;\n                    qq.each(entries, function(idx, entry) {\n                        traverseFileTree(entry).done(function() {\n                            entriesLeft -= 1;\n                            if (entriesLeft === 0) {\n                                parseEntryPromise.success();\n                            }\n                        });\n                    });\n                    if (!entries.length) {\n                        parseEntryPromise.success();\n                    }\n                }, function readFailure(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            }\n            return parseEntryPromise;\n        }\n        function extractDirectoryPath(entry) {\n            var name = entry.name, fullPath = entry.fullPath, indexOfNameInFullPath = fullPath.lastIndexOf(name);\n            fullPath = fullPath.substr(0, indexOfNameInFullPath);\n            if (fullPath.charAt(0) === \"/\") {\n                fullPath = fullPath.substr(1);\n            }\n            return fullPath;\n        }\n        function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n            var promise = existingPromise || new qq.Promise(), dirReader = reader || entry.createReader();\n            dirReader.readEntries(function readSuccess(entries) {\n                var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n                if (entries.length) {\n                    setTimeout(function() {\n                        getFilesInDirectory(entry, dirReader, newEntries, promise);\n                    }, 0);\n                } else {\n                    promise.success(newEntries);\n                }\n            }, promise.failure);\n            return promise;\n        }\n        function handleDataTransfer(dataTransfer, uploadDropZone) {\n            var pendingFolderPromises = [], handleDataTransferPromise = new qq.Promise();\n            options.callbacks.processingDroppedFiles();\n            uploadDropZone.dropDisabled(true);\n            if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n                options.callbacks.processingDroppedFilesComplete([]);\n                options.callbacks.dropError(\"tooManyFilesError\", \"\");\n                uploadDropZone.dropDisabled(false);\n                handleDataTransferPromise.failure();\n            } else {\n                droppedFiles = [];\n                if (qq.isFolderDropSupported(dataTransfer)) {\n                    qq.each(dataTransfer.items, function(idx, item) {\n                        var entry = item.webkitGetAsEntry();\n                        if (entry) {\n                            if (entry.isFile) {\n                                droppedFiles.push(item.getAsFile());\n                            } else {\n                                pendingFolderPromises.push(traverseFileTree(entry).done(function() {\n                                    pendingFolderPromises.pop();\n                                    if (pendingFolderPromises.length === 0) {\n                                        handleDataTransferPromise.success();\n                                    }\n                                }));\n                            }\n                        }\n                    });\n                } else {\n                    droppedFiles = dataTransfer.files;\n                }\n                if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                }\n            }\n            return handleDataTransferPromise;\n        }\n        function setupDropzone(dropArea) {\n            var dropZone = new qq.UploadDropZone({\n                HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n                element: dropArea,\n                onEnter: function(e) {\n                    qq(dropArea).addClass(options.classes.dropActive);\n                    e.stopPropagation();\n                },\n                onLeaveNotDescendants: function(e) {\n                    qq(dropArea).removeClass(options.classes.dropActive);\n                },\n                onDrop: function(e) {\n                    handleDataTransfer(e.dataTransfer, dropZone).then(function() {\n                        uploadDroppedFiles(droppedFiles, dropZone);\n                    }, function() {\n                        options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n                    });\n                }\n            });\n            disposeSupport.addDisposer(function() {\n                dropZone.dispose();\n            });\n            qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n            uploadDropZones.push(dropZone);\n            return dropZone;\n        }\n        function isFileDrag(dragEvent) {\n            var fileDrag;\n            qq.each(dragEvent.dataTransfer.types, function(key, val) {\n                if (val === \"Files\") {\n                    fileDrag = true;\n                    return false;\n                }\n            });\n            return fileDrag;\n        }\n        function leavingDocumentOut(e) {\n            if (qq.safari()) {\n                return e.x < 0 || e.y < 0;\n            }\n            return e.x === 0 && e.y === 0;\n        }\n        function setupDragDrop() {\n            var dropZones = options.dropZoneElements, maybeHideDropZones = function() {\n                setTimeout(function() {\n                    qq.each(dropZones, function(idx, dropZone) {\n                        qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n                        qq(dropZone).removeClass(options.classes.dropActive);\n                    });\n                }, 10);\n            };\n            qq.each(dropZones, function(idx, dropZone) {\n                var uploadDropZone = setupDropzone(dropZone);\n                if (dropZones.length && qq.supportedFeatures.fileDrop) {\n                    disposeSupport.attach(document, \"dragenter\", function(e) {\n                        if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n                            qq.each(dropZones, function(idx, dropZone) {\n                                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                                    qq(dropZone).css({\n                                        display: \"block\"\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n            disposeSupport.attach(document, \"dragleave\", function(e) {\n                if (leavingDocumentOut(e)) {\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function(e) {\n                maybeHideDropZones();\n            });\n            disposeSupport.attach(document, \"drop\", function(e) {\n                if (isFileDrag(e)) {\n                    e.preventDefault();\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n        }\n        setupDragDrop();\n        qq.extend(this, {\n            setupExtraDropzone: function(element) {\n                options.dropZoneElements.push(element);\n                setupDropzone(element);\n            },\n            removeDropzone: function(element) {\n                var i, dzs = options.dropZoneElements;\n                for (i in dzs) {\n                    if (dzs[i] === element) {\n                        return dzs.splice(i, 1);\n                    }\n                }\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n                qq.each(uploadDropZones, function(idx, dropZone) {\n                    dropZone.dispose();\n                });\n            }\n        });\n        this._testing = {};\n        this._testing.extractDirectoryPath = extractDirectoryPath;\n    };\n    qq.DragAndDrop.callbacks = function() {\n        \"use strict\";\n        return {\n            processingDroppedFiles: function() {},\n            processingDroppedFilesComplete: function(files, targetEl) {},\n            dropError: function(code, errorSpecifics) {\n                qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n            },\n            dropLog: function(message, level) {\n                qq.log(message, level);\n            }\n        };\n    };\n    qq.UploadDropZone = function(o) {\n        \"use strict\";\n        var disposeSupport = new qq.DisposeSupport(), options, element, preventDrop, dropOutsideDisabled;\n        options = {\n            element: null,\n            onEnter: function(e) {},\n            onLeave: function(e) {},\n            onLeaveNotDescendants: function(e) {},\n            onDrop: function(e) {}\n        };\n        qq.extend(options, o);\n        element = options.element;\n        function dragoverShouldBeCanceled() {\n            return qq.safari() || qq.firefox() && qq.windows();\n        }\n        function disableDropOutside(e) {\n            if (!dropOutsideDisabled) {\n                if (dragoverShouldBeCanceled) {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        e.preventDefault();\n                    });\n                } else {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        if (e.dataTransfer) {\n                            e.dataTransfer.dropEffect = \"none\";\n                            e.preventDefault();\n                        }\n                    });\n                }\n                dropOutsideDisabled = true;\n            }\n        }\n        function isValidFileDrag(e) {\n            if (!qq.supportedFeatures.fileDrop) {\n                return false;\n            }\n            var effectTest, dt = e.dataTransfer, isSafari = qq.safari();\n            effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n            return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n        }\n        function isOrSetDropDisabled(isDisabled) {\n            if (isDisabled !== undefined) {\n                preventDrop = isDisabled;\n            }\n            return preventDrop;\n        }\n        function triggerHidezonesEvent() {\n            var hideZonesEvent;\n            function triggerUsingOldApi() {\n                hideZonesEvent = document.createEvent(\"Event\");\n                hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n            }\n            if (window.CustomEvent) {\n                try {\n                    hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n                } catch (err) {\n                    triggerUsingOldApi();\n                }\n            } else {\n                triggerUsingOldApi();\n            }\n            document.dispatchEvent(hideZonesEvent);\n        }\n        function attachEvents() {\n            disposeSupport.attach(element, \"dragover\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n                if (effect === \"move\" || effect === \"linkMove\") {\n                    e.dataTransfer.dropEffect = \"move\";\n                } else {\n                    e.dataTransfer.dropEffect = \"copy\";\n                }\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            disposeSupport.attach(element, \"dragenter\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    options.onEnter(e);\n                }\n            });\n            disposeSupport.attach(element, \"dragleave\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                options.onLeave(e);\n                var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n                if (qq(this).contains(relatedTarget)) {\n                    return;\n                }\n                options.onLeaveNotDescendants(e);\n            });\n            disposeSupport.attach(element, \"drop\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                    options.onDrop(e);\n                    triggerHidezonesEvent();\n                }\n            });\n        }\n        disableDropOutside();\n        attachEvents();\n        qq.extend(this, {\n            dropDisabled: function(isDisabled) {\n                return isOrSetDropDisabled(isDisabled);\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n            },\n            getElement: function() {\n                return element;\n            }\n        });\n        this._testing = {};\n        this._testing.isValidFileDrag = isValidFileDrag;\n    };\n    (function() {\n        \"use strict\";\n        qq.uiPublicApi = {\n            addInitialFiles: function(cannedFileList) {\n                this._parent.prototype.addInitialFiles.apply(this, arguments);\n                this._templating.addCacheToDom();\n            },\n            clearStoredFiles: function() {\n                this._parent.prototype.clearStoredFiles.apply(this, arguments);\n                this._templating.clearFiles();\n            },\n            addExtraDropzone: function(element) {\n                this._dnd && this._dnd.setupExtraDropzone(element);\n            },\n            removeExtraDropzone: function(element) {\n                if (this._dnd) {\n                    return this._dnd.removeDropzone(element);\n                }\n            },\n            getItemByFileId: function(id) {\n                if (!this._templating.isHiddenForever(id)) {\n                    return this._templating.getFileContainer(id);\n                }\n            },\n            reset: function() {\n                this._parent.prototype.reset.apply(this, arguments);\n                this._templating.reset();\n                if (!this._options.button && this._templating.getButton()) {\n                    this._defaultButtonId = this._createUploadButton({\n                        element: this._templating.getButton(),\n                        title: this._options.text.fileInputTitle\n                    }).getButtonId();\n                }\n                if (this._dnd) {\n                    this._dnd.dispose();\n                    this._dnd = this._setupDragAndDrop();\n                }\n                this._totalFilesInBatch = 0;\n                this._filesInBatchAddedToUi = 0;\n                this._setupClickAndEditEventHandlers();\n            },\n            setName: function(id, newName) {\n                var formattedFilename = this._options.formatFileName(newName);\n                this._parent.prototype.setName.apply(this, arguments);\n                this._templating.updateFilename(id, formattedFilename);\n            },\n            pauseUpload: function(id) {\n                var paused = this._parent.prototype.pauseUpload.apply(this, arguments);\n                paused && this._templating.uploadPaused(id);\n                return paused;\n            },\n            continueUpload: function(id) {\n                var continued = this._parent.prototype.continueUpload.apply(this, arguments);\n                continued && this._templating.uploadContinued(id);\n                return continued;\n            },\n            getId: function(fileContainerOrChildEl) {\n                return this._templating.getFileId(fileContainerOrChildEl);\n            },\n            getDropTarget: function(fileId) {\n                var file = this.getFile(fileId);\n                return file.qqDropTarget;\n            }\n        };\n        qq.uiPrivateApi = {\n            _getButton: function(buttonId) {\n                var button = this._parent.prototype._getButton.apply(this, arguments);\n                if (!button) {\n                    if (buttonId === this._defaultButtonId) {\n                        button = this._templating.getButton();\n                    }\n                }\n                return button;\n            },\n            _removeFileItem: function(fileId) {\n                this._templating.removeFile(fileId);\n            },\n            _setupClickAndEditEventHandlers: function() {\n                this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent();\n                this._focusinEventSupported = !qq.firefox();\n                if (this._isEditFilenameEnabled()) {\n                    this._filenameClickHandler = this._bindFilenameClickEvent();\n                    this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent();\n                    this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent();\n                }\n            },\n            _setupDragAndDrop: function() {\n                var self = this, dropZoneElements = this._options.dragAndDrop.extraDropzones, templating = this._templating, defaultDropZone = templating.getDropZone();\n                defaultDropZone && dropZoneElements.push(defaultDropZone);\n                return new qq.DragAndDrop({\n                    dropZoneElements: dropZoneElements,\n                    allowMultipleItems: this._options.multiple,\n                    classes: {\n                        dropActive: this._options.classes.dropActive\n                    },\n                    callbacks: {\n                        processingDroppedFiles: function() {\n                            templating.showDropProcessing();\n                        },\n                        processingDroppedFilesComplete: function(files, targetEl) {\n                            templating.hideDropProcessing();\n                            qq.each(files, function(idx, file) {\n                                file.qqDropTarget = targetEl;\n                            });\n                            if (files.length) {\n                                self.addFiles(files, null, null);\n                            }\n                        },\n                        dropError: function(code, errorData) {\n                            self._itemError(code, errorData);\n                        },\n                        dropLog: function(message, level) {\n                            self.log(message, level);\n                        }\n                    }\n                });\n            },\n            _bindFileButtonsClickEvent: function() {\n                var self = this;\n                return new qq.FileButtonsClickHandler({\n                    templating: this._templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onDeleteFile: function(fileId) {\n                        self.deleteFile(fileId);\n                    },\n                    onCancel: function(fileId) {\n                        self.cancel(fileId);\n                    },\n                    onRetry: function(fileId) {\n                        self.retry(fileId);\n                    },\n                    onPause: function(fileId) {\n                        self.pauseUpload(fileId);\n                    },\n                    onContinue: function(fileId) {\n                        self.continueUpload(fileId);\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    }\n                });\n            },\n            _isEditFilenameEnabled: function() {\n                return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler;\n            },\n            _filenameEditHandler: function() {\n                var self = this, templating = this._templating;\n                return {\n                    templating: templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onGetUploadStatus: function(fileId) {\n                        return self.getUploads({\n                            id: fileId\n                        }).status;\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    },\n                    onSetName: function(id, newName) {\n                        self.setName(id, newName);\n                    },\n                    onEditingStatusChange: function(id, isEditing) {\n                        var qqInput = qq(templating.getEditInput(id)), qqFileContainer = qq(templating.getFileContainer(id));\n                        if (isEditing) {\n                            qqInput.addClass(\"qq-editing\");\n                            templating.hideFilename(id);\n                            templating.hideEditIcon(id);\n                        } else {\n                            qqInput.removeClass(\"qq-editing\");\n                            templating.showFilename(id);\n                            templating.showEditIcon(id);\n                        }\n                        qqFileContainer.addClass(\"qq-temp\").removeClass(\"qq-temp\");\n                    }\n                };\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                this._parent.prototype._onUploadStatusChange.apply(this, arguments);\n                if (this._isEditFilenameEnabled()) {\n                    if (this._templating.getFileContainer(id) && newStatus !== qq.status.SUBMITTED) {\n                        this._templating.markFilenameEditable(id);\n                        this._templating.hideEditIcon(id);\n                    }\n                }\n                if (oldStatus === qq.status.UPLOAD_RETRYING && newStatus === qq.status.UPLOADING) {\n                    this._templating.hideRetry(id);\n                    this._templating.setStatusText(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.retrying);\n                } else if (newStatus === qq.status.UPLOAD_FAILED) {\n                    this._templating.hidePause(id);\n                }\n            },\n            _bindFilenameInputFocusInEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusInHandler(spec);\n            },\n            _bindFilenameInputFocusEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusHandler(spec);\n            },\n            _bindFilenameClickEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameClickHandler(spec);\n            },\n            _storeForLater: function(id) {\n                this._parent.prototype._storeForLater.apply(this, arguments);\n                this._templating.hideSpinner(id);\n            },\n            _onAllComplete: function(successful, failed) {\n                this._parent.prototype._onAllComplete.apply(this, arguments);\n                this._templating.resetTotalProgress();\n            },\n            _onSubmit: function(id, name) {\n                var file = this.getFile(id);\n                if (file && file.qqPath && this._options.dragAndDrop.reportDirectoryPaths) {\n                    this._paramsStore.addReadOnly(id, {\n                        qqpath: file.qqPath\n                    });\n                }\n                this._parent.prototype._onSubmit.apply(this, arguments);\n                this._addToList(id, name);\n            },\n            _onSubmitted: function(id) {\n                if (this._isEditFilenameEnabled()) {\n                    this._templating.markFilenameEditable(id);\n                    this._templating.showEditIcon(id);\n                    if (!this._focusinEventSupported) {\n                        this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(id));\n                    }\n                }\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._parent.prototype._onProgress.apply(this, arguments);\n                this._templating.updateProgress(id, loaded, total);\n                if (total === 0 || Math.round(loaded / total * 100) === 100) {\n                    this._templating.hideCancel(id);\n                    this._templating.hidePause(id);\n                    this._templating.hideProgress(id);\n                    this._templating.setStatusText(id, this._options.text.waitingForResponse);\n                    this._displayFileSize(id);\n                } else {\n                    this._displayFileSize(id, loaded, total);\n                }\n            },\n            _onTotalProgress: function(loaded, total) {\n                this._parent.prototype._onTotalProgress.apply(this, arguments);\n                this._templating.updateTotalProgress(loaded, total);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                var parentRetVal = this._parent.prototype._onComplete.apply(this, arguments), templating = this._templating, fileContainer = templating.getFileContainer(id), self = this;\n                function completeUpload(result) {\n                    if (!fileContainer) {\n                        return;\n                    }\n                    templating.setStatusText(id);\n                    qq(fileContainer).removeClass(self._classes.retrying);\n                    templating.hideProgress(id);\n                    if (self.getUploads({\n                        id: id\n                    }).status !== qq.status.UPLOAD_FAILED) {\n                        templating.hideCancel(id);\n                    }\n                    templating.hideSpinner(id);\n                    if (result.success) {\n                        self._markFileAsSuccessful(id);\n                    } else {\n                        qq(fileContainer).addClass(self._classes.fail);\n                        templating.showCancel(id);\n                        if (templating.isRetryPossible() && !self._preventRetries[id]) {\n                            qq(fileContainer).addClass(self._classes.retryable);\n                            templating.showRetry(id);\n                        }\n                        self._controlFailureTextDisplay(id, result);\n                    }\n                }\n                if (parentRetVal instanceof qq.Promise) {\n                    parentRetVal.done(function(newResult) {\n                        completeUpload(newResult);\n                    });\n                } else {\n                    completeUpload(result);\n                }\n                return parentRetVal;\n            },\n            _markFileAsSuccessful: function(id) {\n                var templating = this._templating;\n                if (this._isDeletePossible()) {\n                    templating.showDeleteButton(id);\n                }\n                qq(templating.getFileContainer(id)).addClass(this._classes.success);\n                this._maybeUpdateThumbnail(id);\n            },\n            _onUploadPrep: function(id) {\n                this._parent.prototype._onUploadPrep.apply(this, arguments);\n                this._templating.showSpinner(id);\n            },\n            _onUpload: function(id, name) {\n                var parentRetVal = this._parent.prototype._onUpload.apply(this, arguments);\n                this._templating.showSpinner(id);\n                return parentRetVal;\n            },\n            _onUploadChunk: function(id, chunkData) {\n                this._parent.prototype._onUploadChunk.apply(this, arguments);\n                if (chunkData.partIndex > 0 && this._handler.isResumable(id)) {\n                    this._templating.allowPause(id);\n                }\n            },\n            _onCancel: function(id, name) {\n                this._parent.prototype._onCancel.apply(this, arguments);\n                this._removeFileItem(id);\n                if (this._getNotFinished() === 0) {\n                    this._templating.resetTotalProgress();\n                }\n            },\n            _onBeforeAutoRetry: function(id) {\n                var retryNumForDisplay, maxAuto, retryNote;\n                this._parent.prototype._onBeforeAutoRetry.apply(this, arguments);\n                this._showCancelLink(id);\n                if (this._options.retry.showAutoRetryNote) {\n                    retryNumForDisplay = this._autoRetries[id];\n                    maxAuto = this._options.retry.maxAutoAttempts;\n                    retryNote = this._options.retry.autoRetryNote.replace(/\\{retryNum\\}/g, retryNumForDisplay);\n                    retryNote = retryNote.replace(/\\{maxAuto\\}/g, maxAuto);\n                    this._templating.setStatusText(id, retryNote);\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retrying);\n                }\n            },\n            _onBeforeManualRetry: function(id) {\n                if (this._parent.prototype._onBeforeManualRetry.apply(this, arguments)) {\n                    this._templating.resetProgress(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.fail);\n                    this._templating.setStatusText(id);\n                    this._templating.showSpinner(id);\n                    this._showCancelLink(id);\n                    return true;\n                } else {\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retryable);\n                    this._templating.showRetry(id);\n                    return false;\n                }\n            },\n            _onSubmitDelete: function(id) {\n                var onSuccessCallback = qq.bind(this._onSubmitDeleteSuccess, this);\n                this._parent.prototype._onSubmitDelete.call(this, id, onSuccessCallback);\n            },\n            _onSubmitDeleteSuccess: function(id, uuid, additionalMandatedParams) {\n                if (this._options.deleteFile.forceConfirm) {\n                    this._showDeleteConfirm.apply(this, arguments);\n                } else {\n                    this._sendDeleteRequest.apply(this, arguments);\n                }\n            },\n            _onDeleteComplete: function(id, xhr, isError) {\n                this._parent.prototype._onDeleteComplete.apply(this, arguments);\n                this._templating.hideSpinner(id);\n                if (isError) {\n                    this._templating.setStatusText(id, this._options.deleteFile.deletingFailedText);\n                    this._templating.showDeleteButton(id);\n                } else {\n                    this._removeFileItem(id);\n                }\n            },\n            _sendDeleteRequest: function(id, uuid, additionalMandatedParams) {\n                this._templating.hideDeleteButton(id);\n                this._templating.showSpinner(id);\n                this._templating.setStatusText(id, this._options.deleteFile.deletingStatusText);\n                this._deleteHandler.sendDelete.apply(this, arguments);\n            },\n            _showDeleteConfirm: function(id, uuid, mandatedParams) {\n                var fileName = this.getName(id), confirmMessage = this._options.deleteFile.confirmMessage.replace(/\\{filename\\}/g, fileName), uuid = this.getUuid(id), deleteRequestArgs = arguments, self = this, retVal;\n                retVal = this._options.showConfirm(confirmMessage);\n                if (qq.isGenericPromise(retVal)) {\n                    retVal.then(function() {\n                        self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                    });\n                } else if (retVal !== false) {\n                    self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                }\n            },\n            _addToList: function(id, name, canned) {\n                var prependData, prependIndex = 0, dontDisplay = this._handler.isProxied(id) && this._options.scaling.hideScaled, record;\n                if (this._options.display.prependFiles) {\n                    if (this._totalFilesInBatch > 1 && this._filesInBatchAddedToUi > 0) {\n                        prependIndex = this._filesInBatchAddedToUi - 1;\n                    }\n                    prependData = {\n                        index: prependIndex\n                    };\n                }\n                if (!canned) {\n                    if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {\n                        this._templating.disableCancel();\n                    }\n                    if (!this._options.multiple) {\n                        record = this.getUploads({\n                            id: id\n                        });\n                        this._handledProxyGroup = this._handledProxyGroup || record.proxyGroupId;\n                        if (record.proxyGroupId !== this._handledProxyGroup || !record.proxyGroupId) {\n                            this._handler.cancelAll();\n                            this._clearList();\n                            this._handledProxyGroup = null;\n                        }\n                    }\n                }\n                if (canned) {\n                    this._templating.addFileToCache(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.updateThumbnail(id, this._thumbnailUrls[id], true, this._options.thumbnails.customResizer);\n                } else {\n                    this._templating.addFile(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.generatePreview(id, this.getFile(id), this._options.thumbnails.customResizer);\n                }\n                this._filesInBatchAddedToUi += 1;\n                if (canned || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) {\n                    this._displayFileSize(id);\n                }\n            },\n            _clearList: function() {\n                this._templating.clearFiles();\n                this.clearStoredFiles();\n            },\n            _displayFileSize: function(id, loadedSize, totalSize) {\n                var size = this.getSize(id), sizeForDisplay = this._formatSize(size);\n                if (size >= 0) {\n                    if (loadedSize !== undefined && totalSize !== undefined) {\n                        sizeForDisplay = this._formatProgress(loadedSize, totalSize);\n                    }\n                    this._templating.updateSize(id, sizeForDisplay);\n                }\n            },\n            _formatProgress: function(uploadedSize, totalSize) {\n                var message = this._options.text.formatProgress;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                r(\"{percent}\", Math.round(uploadedSize / totalSize * 100));\n                r(\"{total_size}\", this._formatSize(totalSize));\n                return message;\n            },\n            _controlFailureTextDisplay: function(id, response) {\n                var mode, responseProperty, failureReason;\n                mode = this._options.failedUploadTextDisplay.mode;\n                responseProperty = this._options.failedUploadTextDisplay.responseProperty;\n                if (mode === \"custom\") {\n                    failureReason = response[responseProperty];\n                    if (!failureReason) {\n                        failureReason = this._options.text.failUpload;\n                    }\n                    this._templating.setStatusText(id, failureReason);\n                    if (this._options.failedUploadTextDisplay.enableTooltip) {\n                        this._showTooltip(id, failureReason);\n                    }\n                } else if (mode === \"default\") {\n                    this._templating.setStatusText(id, this._options.text.failUpload);\n                } else if (mode !== \"none\") {\n                    this.log(\"failedUploadTextDisplay.mode value of '\" + mode + \"' is not valid\", \"warn\");\n                }\n            },\n            _showTooltip: function(id, text) {\n                this._templating.getFileContainer(id).title = text;\n            },\n            _showCancelLink: function(id) {\n                if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) {\n                    this._templating.showCancel(id);\n                }\n            },\n            _itemError: function(code, name, item) {\n                var message = this._parent.prototype._itemError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _batchError: function(message) {\n                this._parent.prototype._batchError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _setupPastePrompt: function() {\n                var self = this;\n                this._options.callbacks.onPasteReceived = function() {\n                    var message = self._options.paste.namePromptMessage, defaultVal = self._options.paste.defaultName;\n                    return self._options.showPrompt(message, defaultVal);\n                };\n            },\n            _fileOrBlobRejected: function(id, name) {\n                this._totalFilesInBatch -= 1;\n                this._parent.prototype._fileOrBlobRejected.apply(this, arguments);\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                this._totalFilesInBatch = items.length;\n                this._filesInBatchAddedToUi = 0;\n                this._parent.prototype._prepareItemsForUpload.apply(this, arguments);\n            },\n            _maybeUpdateThumbnail: function(fileId) {\n                var thumbnailUrl = this._thumbnailUrls[fileId], fileStatus = this.getUploads({\n                    id: fileId\n                }).status;\n                if (fileStatus !== qq.status.DELETED && (thumbnailUrl || this._options.thumbnails.placeholders.waitUntilResponse || !qq.supportedFeatures.imagePreviews)) {\n                    this._templating.updateThumbnail(fileId, thumbnailUrl, this._options.thumbnails.customResizer);\n                }\n            },\n            _addCannedFile: function(sessionData) {\n                var id = this._parent.prototype._addCannedFile.apply(this, arguments);\n                this._addToList(id, this.getName(id), true);\n                this._templating.hideSpinner(id);\n                this._templating.hideCancel(id);\n                this._markFileAsSuccessful(id);\n                return id;\n            },\n            _setSize: function(id, newSize) {\n                this._parent.prototype._setSize.apply(this, arguments);\n                this._templating.updateSize(id, this._formatSize(newSize));\n            },\n            _sessionRequestComplete: function() {\n                this._templating.addCacheToDom();\n                this._parent.prototype._sessionRequestComplete.apply(this, arguments);\n            }\n        };\n    })();\n    qq.FineUploader = function(o, namespace) {\n        \"use strict\";\n        var self = this;\n        this._parent = namespace ? qq[namespace].FineUploaderBasic : qq.FineUploaderBasic;\n        this._parent.apply(this, arguments);\n        qq.extend(this._options, {\n            element: null,\n            button: null,\n            listElement: null,\n            dragAndDrop: {\n                extraDropzones: [],\n                reportDirectoryPaths: false\n            },\n            text: {\n                formatProgress: \"{percent}% of {total_size}\",\n                failUpload: \"Upload failed\",\n                waitingForResponse: \"Processing...\",\n                paused: \"Paused\"\n            },\n            template: \"qq-template\",\n            classes: {\n                retrying: \"qq-upload-retrying\",\n                retryable: \"qq-upload-retryable\",\n                success: \"qq-upload-success\",\n                fail: \"qq-upload-fail\",\n                editable: \"qq-editable\",\n                hide: \"qq-hide\",\n                dropActive: \"qq-upload-drop-area-active\"\n            },\n            failedUploadTextDisplay: {\n                mode: \"default\",\n                responseProperty: \"error\",\n                enableTooltip: true\n            },\n            messages: {\n                tooManyFilesError: \"You may only drop one file\",\n                unsupportedBrowser: \"Unrecoverable error - this browser does not permit file uploading of any kind.\"\n            },\n            retry: {\n                showAutoRetryNote: true,\n                autoRetryNote: \"Retrying {retryNum}/{maxAuto}...\"\n            },\n            deleteFile: {\n                forceConfirm: false,\n                confirmMessage: \"Are you sure you want to delete {filename}?\",\n                deletingStatusText: \"Deleting...\",\n                deletingFailedText: \"Delete failed\"\n            },\n            display: {\n                fileSizeOnSubmit: false,\n                prependFiles: false\n            },\n            paste: {\n                promptForName: false,\n                namePromptMessage: \"Please name this image\"\n            },\n            thumbnails: {\n                customResizer: null,\n                maxCount: 0,\n                placeholders: {\n                    waitUntilResponse: false,\n                    notAvailablePath: null,\n                    waitingPath: null\n                },\n                timeBetweenThumbs: 750\n            },\n            scaling: {\n                hideScaled: false\n            },\n            showMessage: function(message) {\n                if (self._templating.hasDialog(\"alert\")) {\n                    return self._templating.showDialog(\"alert\", message);\n                } else {\n                    setTimeout(function() {\n                        window.alert(message);\n                    }, 0);\n                }\n            },\n            showConfirm: function(message) {\n                if (self._templating.hasDialog(\"confirm\")) {\n                    return self._templating.showDialog(\"confirm\", message);\n                } else {\n                    return window.confirm(message);\n                }\n            },\n            showPrompt: function(message, defaultValue) {\n                if (self._templating.hasDialog(\"prompt\")) {\n                    return self._templating.showDialog(\"prompt\", message, defaultValue);\n                } else {\n                    return window.prompt(message, defaultValue);\n                }\n            }\n        }, true);\n        qq.extend(this._options, o, true);\n        this._templating = new qq.Templating({\n            log: qq.bind(this.log, this),\n            templateIdOrEl: this._options.template,\n            containerEl: this._options.element,\n            fileContainerEl: this._options.listElement,\n            button: this._options.button,\n            imageGenerator: this._imageGenerator,\n            classes: {\n                hide: this._options.classes.hide,\n                editable: this._options.classes.editable\n            },\n            limits: {\n                maxThumbs: this._options.thumbnails.maxCount,\n                timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs\n            },\n            placeholders: {\n                waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,\n                thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,\n                waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath\n            },\n            text: this._options.text\n        });\n        if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari);\n        } else if (!qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowser);\n        } else {\n            this._wrapCallbacks();\n            this._templating.render();\n            this._classes = this._options.classes;\n            if (!this._options.button && this._templating.getButton()) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._templating.getButton(),\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._setupClickAndEditEventHandlers();\n            if (qq.DragAndDrop && qq.supportedFeatures.fileDrop) {\n                this._dnd = this._setupDragAndDrop();\n            }\n            if (this._options.paste.targetElement && this._options.paste.promptForName) {\n                if (qq.PasteSupport) {\n                    this._setupPastePrompt();\n                } else {\n                    this.log(\"Paste support module not found.\", \"error\");\n                }\n            }\n            this._totalFilesInBatch = 0;\n            this._filesInBatchAddedToUi = 0;\n        }\n    };\n    qq.extend(qq.FineUploader.prototype, qq.basePublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.basePrivateApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPrivateApi);\n    qq.Templating = function(spec) {\n        \"use strict\";\n        var FILE_ID_ATTR = \"qq-file-id\", FILE_CLASS_PREFIX = \"qq-file-id-\", THUMBNAIL_MAX_SIZE_ATTR = \"qq-max-size\", THUMBNAIL_SERVER_SCALE_ATTR = \"qq-server-scale\", HIDE_DROPZONE_ATTR = \"qq-hide-dropzone\", DROPZPONE_TEXT_ATTR = \"qq-drop-area-text\", IN_PROGRESS_CLASS = \"qq-in-progress\", HIDDEN_FOREVER_CLASS = \"qq-hidden-forever\", fileBatch = {\n            content: document.createDocumentFragment(),\n            map: {}\n        }, isCancelDisabled = false, generatedThumbnails = 0, thumbnailQueueMonitorRunning = false, thumbGenerationQueue = [], thumbnailMaxSize = -1, options = {\n            log: null,\n            limits: {\n                maxThumbs: 0,\n                timeBetweenThumbs: 750\n            },\n            templateIdOrEl: \"qq-template\",\n            containerEl: null,\n            fileContainerEl: null,\n            button: null,\n            imageGenerator: null,\n            classes: {\n                hide: \"qq-hide\",\n                editable: \"qq-editable\"\n            },\n            placeholders: {\n                waitUntilUpdate: false,\n                thumbnailNotAvailable: null,\n                waitingForThumbnail: null\n            },\n            text: {\n                paused: \"Paused\"\n            }\n        }, selectorClasses = {\n            button: \"qq-upload-button-selector\",\n            alertDialog: \"qq-alert-dialog-selector\",\n            dialogCancelButton: \"qq-cancel-button-selector\",\n            confirmDialog: \"qq-confirm-dialog-selector\",\n            dialogMessage: \"qq-dialog-message-selector\",\n            dialogOkButton: \"qq-ok-button-selector\",\n            promptDialog: \"qq-prompt-dialog-selector\",\n            uploader: \"qq-uploader-selector\",\n            drop: \"qq-upload-drop-area-selector\",\n            list: \"qq-upload-list-selector\",\n            progressBarContainer: \"qq-progress-bar-container-selector\",\n            progressBar: \"qq-progress-bar-selector\",\n            totalProgressBarContainer: \"qq-total-progress-bar-container-selector\",\n            totalProgressBar: \"qq-total-progress-bar-selector\",\n            file: \"qq-upload-file-selector\",\n            spinner: \"qq-upload-spinner-selector\",\n            size: \"qq-upload-size-selector\",\n            cancel: \"qq-upload-cancel-selector\",\n            pause: \"qq-upload-pause-selector\",\n            continueButton: \"qq-upload-continue-selector\",\n            deleteButton: \"qq-upload-delete-selector\",\n            retry: \"qq-upload-retry-selector\",\n            statusText: \"qq-upload-status-text-selector\",\n            editFilenameInput: \"qq-edit-filename-selector\",\n            editNameIcon: \"qq-edit-filename-icon-selector\",\n            dropText: \"qq-upload-drop-area-text-selector\",\n            dropProcessing: \"qq-drop-processing-selector\",\n            dropProcessingSpinner: \"qq-drop-processing-spinner-selector\",\n            thumbnail: \"qq-thumbnail-selector\"\n        }, previewGeneration = {}, cachedThumbnailNotAvailableImg = new qq.Promise(), cachedWaitingForThumbnailImg = new qq.Promise(), log, isEditElementsExist, isRetryElementExist, templateDom, container, fileList, showThumbnails, serverScale, cacheThumbnailPlaceholders = function() {\n            var notAvailableUrl = options.placeholders.thumbnailNotAvailable, waitingUrl = options.placeholders.waitingForThumbnail, spec = {\n                maxSize: thumbnailMaxSize,\n                scale: serverScale\n            };\n            if (showThumbnails) {\n                if (notAvailableUrl) {\n                    options.imageGenerator.generate(notAvailableUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedThumbnailNotAvailableImg.success(updatedImg);\n                    }, function() {\n                        cachedThumbnailNotAvailableImg.failure();\n                        log(\"Problem loading 'not available' placeholder image at \" + notAvailableUrl, \"error\");\n                    });\n                } else {\n                    cachedThumbnailNotAvailableImg.failure();\n                }\n                if (waitingUrl) {\n                    options.imageGenerator.generate(waitingUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedWaitingForThumbnailImg.success(updatedImg);\n                    }, function() {\n                        cachedWaitingForThumbnailImg.failure();\n                        log(\"Problem loading 'waiting for thumbnail' placeholder image at \" + waitingUrl, \"error\");\n                    });\n                } else {\n                    cachedWaitingForThumbnailImg.failure();\n                }\n            }\n        }, displayWaitingImg = function(thumbnail) {\n            var waitingImgPlacement = new qq.Promise();\n            cachedWaitingForThumbnailImg.then(function(img) {\n                maybeScalePlaceholderViaCss(img, thumbnail);\n                if (!thumbnail.src) {\n                    thumbnail.src = img.src;\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        show(thumbnail);\n                        waitingImgPlacement.success();\n                    };\n                } else {\n                    waitingImgPlacement.success();\n                }\n            }, function() {\n                hide(thumbnail);\n                waitingImgPlacement.success();\n            });\n            return waitingImgPlacement;\n        }, generateNewPreview = function(id, blob, spec) {\n            var thumbnail = getThumbnail(id);\n            log(\"Generating new thumbnail for \" + id);\n            blob.qqThumbnailId = id;\n            return options.imageGenerator.generate(blob, thumbnail, spec).then(function() {\n                generatedThumbnails++;\n                show(thumbnail);\n                previewGeneration[id].success();\n            }, function() {\n                previewGeneration[id].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                }\n            });\n        }, generateNextQueuedPreview = function() {\n            if (thumbGenerationQueue.length) {\n                thumbnailQueueMonitorRunning = true;\n                var queuedThumbRequest = thumbGenerationQueue.shift();\n                if (queuedThumbRequest.update) {\n                    processUpdateQueuedPreviewRequest(queuedThumbRequest);\n                } else {\n                    processNewQueuedPreviewRequest(queuedThumbRequest);\n                }\n            } else {\n                thumbnailQueueMonitorRunning = false;\n            }\n        }, getCancel = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.cancel);\n        }, getContinue = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.continueButton);\n        }, getDialog = function(type) {\n            return getTemplateEl(container, selectorClasses[type + \"Dialog\"]);\n        }, getDelete = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.deleteButton);\n        }, getDropProcessing = function() {\n            return getTemplateEl(container, selectorClasses.dropProcessing);\n        }, getEditIcon = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.editNameIcon);\n        }, getFile = function(id) {\n            return fileBatch.map[id] || qq(fileList).getFirstByClass(FILE_CLASS_PREFIX + id);\n        }, getFilename = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.file);\n        }, getPause = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.pause);\n        }, getProgress = function(id) {\n            if (id == null) {\n                return getTemplateEl(container, selectorClasses.totalProgressBarContainer) || getTemplateEl(container, selectorClasses.totalProgressBar);\n            }\n            return getTemplateEl(getFile(id), selectorClasses.progressBarContainer) || getTemplateEl(getFile(id), selectorClasses.progressBar);\n        }, getRetry = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.retry);\n        }, getSize = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.size);\n        }, getSpinner = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.spinner);\n        }, getTemplateEl = function(context, cssClass) {\n            return context && qq(context).getFirstByClass(cssClass);\n        }, getThumbnail = function(id) {\n            return showThumbnails && getTemplateEl(getFile(id), selectorClasses.thumbnail);\n        }, hide = function(el) {\n            el && qq(el).addClass(options.classes.hide);\n        }, maybeScalePlaceholderViaCss = function(placeholder, thumbnail) {\n            var maxWidth = placeholder.style.maxWidth, maxHeight = placeholder.style.maxHeight;\n            if (maxHeight && maxWidth && !thumbnail.style.maxWidth && !thumbnail.style.maxHeight) {\n                qq(thumbnail).css({\n                    maxWidth: maxWidth,\n                    maxHeight: maxHeight\n                });\n            }\n        }, maybeSetDisplayNotAvailableImg = function(id, thumbnail) {\n            var previewing = previewGeneration[id] || new qq.Promise().failure(), notAvailableImgPlacement = new qq.Promise();\n            cachedThumbnailNotAvailableImg.then(function(img) {\n                previewing.then(function() {\n                    notAvailableImgPlacement.success();\n                }, function() {\n                    maybeScalePlaceholderViaCss(img, thumbnail);\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        notAvailableImgPlacement.success();\n                    };\n                    thumbnail.src = img.src;\n                    show(thumbnail);\n                });\n            });\n            return notAvailableImgPlacement;\n        }, parseAndGetTemplate = function() {\n            var scriptEl, scriptHtml, fileListNode, tempTemplateEl, fileListEl, defaultButton, dropArea, thumbnail, dropProcessing, dropTextEl, uploaderEl;\n            log(\"Parsing template\");\n            if (options.templateIdOrEl == null) {\n                throw new Error(\"You MUST specify either a template element or ID!\");\n            }\n            if (qq.isString(options.templateIdOrEl)) {\n                scriptEl = document.getElementById(options.templateIdOrEl);\n                if (scriptEl === null) {\n                    throw new Error(qq.format(\"Cannot find template script at ID '{}'!\", options.templateIdOrEl));\n                }\n                scriptHtml = scriptEl.innerHTML;\n            } else {\n                if (options.templateIdOrEl.innerHTML === undefined) {\n                    throw new Error(\"You have specified an invalid value for the template option!  \" + \"It must be an ID or an Element.\");\n                }\n                scriptHtml = options.templateIdOrEl.innerHTML;\n            }\n            scriptHtml = qq.trimStr(scriptHtml);\n            tempTemplateEl = document.createElement(\"div\");\n            tempTemplateEl.appendChild(qq.toElement(scriptHtml));\n            uploaderEl = qq(tempTemplateEl).getFirstByClass(selectorClasses.uploader);\n            if (options.button) {\n                defaultButton = qq(tempTemplateEl).getFirstByClass(selectorClasses.button);\n                if (defaultButton) {\n                    qq(defaultButton).remove();\n                }\n            }\n            if (!qq.DragAndDrop || !qq.supportedFeatures.fileDrop) {\n                dropProcessing = qq(tempTemplateEl).getFirstByClass(selectorClasses.dropProcessing);\n                if (dropProcessing) {\n                    qq(dropProcessing).remove();\n                }\n            }\n            dropArea = qq(tempTemplateEl).getFirstByClass(selectorClasses.drop);\n            if (dropArea && !qq.DragAndDrop) {\n                log(\"DnD module unavailable.\", \"info\");\n                qq(dropArea).remove();\n            }\n            if (!qq.supportedFeatures.fileDrop) {\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (dropArea && qq(dropArea).hasAttribute(HIDE_DROPZONE_ATTR)) {\n                    qq(dropArea).css({\n                        display: \"none\"\n                    });\n                }\n            } else if (qq(uploaderEl).hasAttribute(DROPZPONE_TEXT_ATTR) && dropArea) {\n                dropTextEl = qq(dropArea).getFirstByClass(selectorClasses.dropText);\n                dropTextEl && qq(dropTextEl).remove();\n            }\n            thumbnail = qq(tempTemplateEl).getFirstByClass(selectorClasses.thumbnail);\n            if (!showThumbnails) {\n                thumbnail && qq(thumbnail).remove();\n            } else if (thumbnail) {\n                thumbnailMaxSize = parseInt(thumbnail.getAttribute(THUMBNAIL_MAX_SIZE_ATTR));\n                thumbnailMaxSize = thumbnailMaxSize > 0 ? thumbnailMaxSize : null;\n                serverScale = qq(thumbnail).hasAttribute(THUMBNAIL_SERVER_SCALE_ATTR);\n            }\n            showThumbnails = showThumbnails && thumbnail;\n            isEditElementsExist = qq(tempTemplateEl).getByClass(selectorClasses.editFilenameInput).length > 0;\n            isRetryElementExist = qq(tempTemplateEl).getByClass(selectorClasses.retry).length > 0;\n            fileListNode = qq(tempTemplateEl).getFirstByClass(selectorClasses.list);\n            if (fileListNode == null) {\n                throw new Error(\"Could not find the file list container in the template!\");\n            }\n            fileListEl = fileListNode.children[0].cloneNode(true);\n            fileListNode.innerHTML = \"\";\n            if (tempTemplateEl.getElementsByTagName(\"DIALOG\").length) {\n                document.createElement(\"dialog\");\n            }\n            log(\"Template parsing complete\");\n            return {\n                template: tempTemplateEl,\n                fileTemplate: fileListEl\n            };\n        }, prependFile = function(el, index, fileList) {\n            var parentEl = fileList, beforeEl = parentEl.firstChild;\n            if (index > 0) {\n                beforeEl = qq(parentEl).children()[index].nextSibling;\n            }\n            parentEl.insertBefore(el, beforeEl);\n        }, processNewQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, optFileOrBlob = queuedThumbRequest.optFileOrBlob, relatedThumbnailId = optFileOrBlob && optFileOrBlob.qqThumbnailId, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                maxSize: thumbnailMaxSize,\n                orient: true,\n                scale: true\n            };\n            if (qq.supportedFeatures.imagePreviews) {\n                if (thumbnail) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        displayWaitingImg(thumbnail).done(function() {\n                            previewGeneration[id] = new qq.Promise();\n                            previewGeneration[id].done(function() {\n                                setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                            });\n                            if (relatedThumbnailId != null) {\n                                useCachedPreview(id, relatedThumbnailId);\n                            } else {\n                                generateNewPreview(id, optFileOrBlob, spec);\n                            }\n                        });\n                    }\n                } else {\n                    generateNextQueuedPreview();\n                }\n            } else if (thumbnail) {\n                displayWaitingImg(thumbnail);\n                generateNextQueuedPreview();\n            }\n        }, processUpdateQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, thumbnailUrl = queuedThumbRequest.thumbnailUrl, showWaitingImg = queuedThumbRequest.showWaitingImg, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                scale: serverScale,\n                maxSize: thumbnailMaxSize\n            };\n            if (thumbnail) {\n                if (thumbnailUrl) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        if (showWaitingImg) {\n                            displayWaitingImg(thumbnail);\n                        }\n                        return options.imageGenerator.generate(thumbnailUrl, thumbnail, spec).then(function() {\n                            show(thumbnail);\n                            generatedThumbnails++;\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        }, function() {\n                            maybeSetDisplayNotAvailableImg(id, thumbnail);\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        });\n                    }\n                } else {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                    generateNextQueuedPreview();\n                }\n            }\n        }, setProgressBarWidth = function(id, percent) {\n            var bar = getProgress(id), progressBarSelector = id == null ? selectorClasses.totalProgressBar : selectorClasses.progressBar;\n            if (bar && !qq(bar).hasClass(progressBarSelector)) {\n                bar = qq(bar).getFirstByClass(progressBarSelector);\n            }\n            if (bar) {\n                qq(bar).css({\n                    width: percent + \"%\"\n                });\n                bar.setAttribute(\"aria-valuenow\", percent);\n            }\n        }, show = function(el) {\n            el && qq(el).removeClass(options.classes.hide);\n        }, useCachedPreview = function(targetThumbnailId, cachedThumbnailId) {\n            var targetThumbnail = getThumbnail(targetThumbnailId), cachedThumbnail = getThumbnail(cachedThumbnailId);\n            log(qq.format(\"ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.\", targetThumbnailId, cachedThumbnailId, cachedThumbnailId));\n            previewGeneration[cachedThumbnailId].then(function() {\n                generatedThumbnails++;\n                previewGeneration[targetThumbnailId].success();\n                log(qq.format(\"Now using previously generated thumbnail created for ID {} on ID {}.\", cachedThumbnailId, targetThumbnailId));\n                targetThumbnail.src = cachedThumbnail.src;\n                show(targetThumbnail);\n            }, function() {\n                previewGeneration[targetThumbnailId].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(targetThumbnailId, targetThumbnail);\n                }\n            });\n        };\n        qq.extend(options, spec);\n        log = options.log;\n        if (!qq.supportedFeatures.imagePreviews) {\n            options.limits.timeBetweenThumbs = 0;\n            options.limits.maxThumbs = 0;\n        }\n        container = options.containerEl;\n        showThumbnails = options.imageGenerator !== undefined;\n        templateDom = parseAndGetTemplate();\n        cacheThumbnailPlaceholders();\n        qq.extend(this, {\n            render: function() {\n                log(\"Rendering template in DOM.\");\n                generatedThumbnails = 0;\n                container.appendChild(templateDom.template.cloneNode(true));\n                hide(getDropProcessing());\n                this.hideTotalProgress();\n                fileList = options.fileContainerEl || getTemplateEl(container, selectorClasses.list);\n                log(\"Template rendering complete\");\n            },\n            renderFailure: function(message) {\n                var cantRenderEl = qq.toElement(message);\n                container.innerHTML = \"\";\n                container.appendChild(cantRenderEl);\n            },\n            reset: function() {\n                container.innerHTML = \"\";\n                this.render();\n            },\n            clearFiles: function() {\n                fileList.innerHTML = \"\";\n            },\n            disableCancel: function() {\n                isCancelDisabled = true;\n            },\n            addFile: function(id, name, prependInfo, hideForever, batch) {\n                var fileEl = templateDom.fileTemplate.cloneNode(true), fileNameEl = getTemplateEl(fileEl, selectorClasses.file), uploaderEl = getTemplateEl(container, selectorClasses.uploader), fileContainer = batch ? fileBatch.content : fileList, thumb;\n                if (batch) {\n                    fileBatch.map[id] = fileEl;\n                }\n                qq(fileEl).addClass(FILE_CLASS_PREFIX + id);\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (fileNameEl) {\n                    qq(fileNameEl).setText(name);\n                    fileNameEl.setAttribute(\"title\", name);\n                }\n                fileEl.setAttribute(FILE_ID_ATTR, id);\n                if (prependInfo) {\n                    prependFile(fileEl, prependInfo.index, fileContainer);\n                } else {\n                    fileContainer.appendChild(fileEl);\n                }\n                if (hideForever) {\n                    fileEl.style.display = \"none\";\n                    qq(fileEl).addClass(HIDDEN_FOREVER_CLASS);\n                } else {\n                    hide(getProgress(id));\n                    hide(getSize(id));\n                    hide(getDelete(id));\n                    hide(getRetry(id));\n                    hide(getPause(id));\n                    hide(getContinue(id));\n                    if (isCancelDisabled) {\n                        this.hideCancel(id);\n                    }\n                    thumb = getThumbnail(id);\n                    if (thumb && !thumb.src) {\n                        cachedWaitingForThumbnailImg.then(function(waitingImg) {\n                            thumb.src = waitingImg.src;\n                            if (waitingImg.style.maxHeight && waitingImg.style.maxWidth) {\n                                qq(thumb).css({\n                                    maxHeight: waitingImg.style.maxHeight,\n                                    maxWidth: waitingImg.style.maxWidth\n                                });\n                            }\n                            show(thumb);\n                        });\n                    }\n                }\n            },\n            addFileToCache: function(id, name, prependInfo, hideForever) {\n                this.addFile(id, name, prependInfo, hideForever, true);\n            },\n            addCacheToDom: function() {\n                fileList.appendChild(fileBatch.content);\n                fileBatch.content = document.createDocumentFragment();\n                fileBatch.map = {};\n            },\n            removeFile: function(id) {\n                qq(getFile(id)).remove();\n            },\n            getFileId: function(el) {\n                var currentNode = el;\n                if (currentNode) {\n                    while (currentNode.getAttribute(FILE_ID_ATTR) == null) {\n                        currentNode = currentNode.parentNode;\n                    }\n                    return parseInt(currentNode.getAttribute(FILE_ID_ATTR));\n                }\n            },\n            getFileList: function() {\n                return fileList;\n            },\n            markFilenameEditable: function(id) {\n                var filename = getFilename(id);\n                filename && qq(filename).addClass(options.classes.editable);\n            },\n            updateFilename: function(id, name) {\n                var filenameEl = getFilename(id);\n                if (filenameEl) {\n                    qq(filenameEl).setText(name);\n                    filenameEl.setAttribute(\"title\", name);\n                }\n            },\n            hideFilename: function(id) {\n                hide(getFilename(id));\n            },\n            showFilename: function(id) {\n                show(getFilename(id));\n            },\n            isFileName: function(el) {\n                return qq(el).hasClass(selectorClasses.file);\n            },\n            getButton: function() {\n                return options.button || getTemplateEl(container, selectorClasses.button);\n            },\n            hideDropProcessing: function() {\n                hide(getDropProcessing());\n            },\n            showDropProcessing: function() {\n                show(getDropProcessing());\n            },\n            getDropZone: function() {\n                return getTemplateEl(container, selectorClasses.drop);\n            },\n            isEditFilenamePossible: function() {\n                return isEditElementsExist;\n            },\n            hideRetry: function(id) {\n                hide(getRetry(id));\n            },\n            isRetryPossible: function() {\n                return isRetryElementExist;\n            },\n            showRetry: function(id) {\n                show(getRetry(id));\n            },\n            getFileContainer: function(id) {\n                return getFile(id);\n            },\n            showEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).addClass(options.classes.editable);\n            },\n            isHiddenForever: function(id) {\n                return qq(getFile(id)).hasClass(HIDDEN_FOREVER_CLASS);\n            },\n            hideEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).removeClass(options.classes.editable);\n            },\n            isEditIcon: function(el) {\n                return qq(el).hasClass(selectorClasses.editNameIcon, true);\n            },\n            getEditInput: function(id) {\n                return getTemplateEl(getFile(id), selectorClasses.editFilenameInput);\n            },\n            isEditInput: function(el) {\n                return qq(el).hasClass(selectorClasses.editFilenameInput, true);\n            },\n            updateProgress: function(id, loaded, total) {\n                var bar = getProgress(id), percent;\n                if (bar && total > 0) {\n                    percent = Math.round(loaded / total * 100);\n                    if (percent === 100) {\n                        hide(bar);\n                    } else {\n                        show(bar);\n                    }\n                    setProgressBarWidth(id, percent);\n                }\n            },\n            updateTotalProgress: function(loaded, total) {\n                this.updateProgress(null, loaded, total);\n            },\n            hideProgress: function(id) {\n                var bar = getProgress(id);\n                bar && hide(bar);\n            },\n            hideTotalProgress: function() {\n                this.hideProgress();\n            },\n            resetProgress: function(id) {\n                setProgressBarWidth(id, 0);\n                this.hideTotalProgress(id);\n            },\n            resetTotalProgress: function() {\n                this.resetProgress();\n            },\n            showCancel: function(id) {\n                if (!isCancelDisabled) {\n                    var cancel = getCancel(id);\n                    cancel && qq(cancel).removeClass(options.classes.hide);\n                }\n            },\n            hideCancel: function(id) {\n                hide(getCancel(id));\n            },\n            isCancel: function(el) {\n                return qq(el).hasClass(selectorClasses.cancel, true);\n            },\n            allowPause: function(id) {\n                show(getPause(id));\n                hide(getContinue(id));\n            },\n            uploadPaused: function(id) {\n                this.setStatusText(id, options.text.paused);\n                this.allowContinueButton(id);\n                hide(getSpinner(id));\n            },\n            hidePause: function(id) {\n                hide(getPause(id));\n            },\n            isPause: function(el) {\n                return qq(el).hasClass(selectorClasses.pause, true);\n            },\n            isContinueButton: function(el) {\n                return qq(el).hasClass(selectorClasses.continueButton, true);\n            },\n            allowContinueButton: function(id) {\n                show(getContinue(id));\n                hide(getPause(id));\n            },\n            uploadContinued: function(id) {\n                this.setStatusText(id, \"\");\n                this.allowPause(id);\n                show(getSpinner(id));\n            },\n            showDeleteButton: function(id) {\n                show(getDelete(id));\n            },\n            hideDeleteButton: function(id) {\n                hide(getDelete(id));\n            },\n            isDeleteButton: function(el) {\n                return qq(el).hasClass(selectorClasses.deleteButton, true);\n            },\n            isRetry: function(el) {\n                return qq(el).hasClass(selectorClasses.retry, true);\n            },\n            updateSize: function(id, text) {\n                var size = getSize(id);\n                if (size) {\n                    show(size);\n                    qq(size).setText(text);\n                }\n            },\n            setStatusText: function(id, text) {\n                var textEl = getTemplateEl(getFile(id), selectorClasses.statusText);\n                if (textEl) {\n                    if (text == null) {\n                        qq(textEl).clearText();\n                    } else {\n                        qq(textEl).setText(text);\n                    }\n                }\n            },\n            hideSpinner: function(id) {\n                qq(getFile(id)).removeClass(IN_PROGRESS_CLASS);\n                hide(getSpinner(id));\n            },\n            showSpinner: function(id) {\n                qq(getFile(id)).addClass(IN_PROGRESS_CLASS);\n                show(getSpinner(id));\n            },\n            generatePreview: function(id, optFileOrBlob, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        id: id,\n                        customResizeFunction: customResizeFunction,\n                        optFileOrBlob: optFileOrBlob\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            updateThumbnail: function(id, thumbnailUrl, showWaitingImg, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        customResizeFunction: customResizeFunction,\n                        update: true,\n                        id: id,\n                        thumbnailUrl: thumbnailUrl,\n                        showWaitingImg: showWaitingImg\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            hasDialog: function(type) {\n                return qq.supportedFeatures.dialogElement && !!getDialog(type);\n            },\n            showDialog: function(type, message, defaultValue) {\n                var dialog = getDialog(type), messageEl = getTemplateEl(dialog, selectorClasses.dialogMessage), inputEl = dialog.getElementsByTagName(\"INPUT\")[0], cancelBtn = getTemplateEl(dialog, selectorClasses.dialogCancelButton), okBtn = getTemplateEl(dialog, selectorClasses.dialogOkButton), promise = new qq.Promise(), closeHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    okBtn && okBtn.removeEventListener(\"click\", okClickHandler);\n                    promise.failure();\n                }, cancelClickHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    dialog.close();\n                }, okClickHandler = function() {\n                    dialog.removeEventListener(\"close\", closeHandler);\n                    okBtn.removeEventListener(\"click\", okClickHandler);\n                    dialog.close();\n                    promise.success(inputEl && inputEl.value);\n                };\n                dialog.addEventListener(\"close\", closeHandler);\n                cancelBtn.addEventListener(\"click\", cancelClickHandler);\n                okBtn && okBtn.addEventListener(\"click\", okClickHandler);\n                if (inputEl) {\n                    inputEl.value = defaultValue;\n                }\n                messageEl.textContent = message;\n                dialog.showModal();\n                return promise;\n            }\n        });\n    };\n    qq.UiEventHandler = function(s, protectedApi) {\n        \"use strict\";\n        var disposer = new qq.DisposeSupport(), spec = {\n            eventType: \"click\",\n            attachTo: null,\n            onHandled: function(target, event) {}\n        };\n        qq.extend(this, {\n            addHandler: function(element) {\n                addHandler(element);\n            },\n            dispose: function() {\n                disposer.dispose();\n            }\n        });\n        function addHandler(element) {\n            disposer.attach(element, spec.eventType, function(event) {\n                event = event || window.event;\n                var target = event.target || event.srcElement;\n                spec.onHandled(target, event);\n            });\n        }\n        qq.extend(protectedApi, {\n            getFileIdFromItem: function(item) {\n                return item.qqFileId;\n            },\n            getDisposeSupport: function() {\n                return disposer;\n            }\n        });\n        qq.extend(spec, s);\n        if (spec.attachTo) {\n            addHandler(spec.attachTo);\n        }\n    };\n    qq.FileButtonsClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onDeleteFile: function(fileId) {},\n            onCancel: function(fileId) {},\n            onRetry: function(fileId) {},\n            onPause: function(fileId) {},\n            onContinue: function(fileId) {},\n            onGetName: function(fileId) {}\n        }, buttonHandlers = {\n            cancel: function(id) {\n                spec.onCancel(id);\n            },\n            retry: function(id) {\n                spec.onRetry(id);\n            },\n            deleteButton: function(id) {\n                spec.onDeleteFile(id);\n            },\n            pause: function(id) {\n                spec.onPause(id);\n            },\n            continueButton: function(id) {\n                spec.onContinue(id);\n            }\n        };\n        function examineEvent(target, event) {\n            qq.each(buttonHandlers, function(buttonType, handler) {\n                var firstLetterCapButtonType = buttonType.charAt(0).toUpperCase() + buttonType.slice(1), fileId;\n                if (spec.templating[\"is\" + firstLetterCapButtonType](target)) {\n                    fileId = spec.templating.getFileId(target);\n                    qq.preventDefault(event);\n                    spec.log(qq.format(\"Detected valid file button click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    handler(fileId);\n                    return false;\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            classes: {\n                file: \"qq-upload-file\",\n                editNameIcon: \"qq-edit-filename-icon\"\n            },\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {}\n        };\n        qq.extend(spec, s);\n        function examineEvent(target, event) {\n            if (spec.templating.isFileName(target) || spec.templating.isEditIcon(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    qq.preventDefault(event);\n                    inheritedInternalApi.handleFilenameEdit(fileId, target, true);\n                }\n            }\n        }\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusInHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            onGetUploadStatus: function(fileId) {},\n            log: function(message, lvl) {}\n        };\n        if (!inheritedInternalApi) {\n            inheritedInternalApi = {};\n        }\n        function handleInputFocus(target, event) {\n            if (spec.templating.isEditInput(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename input focus event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    inheritedInternalApi.handleFilenameEdit(fileId, target);\n                }\n            }\n        }\n        spec.eventType = \"focusin\";\n        spec.onHandled = handleInputFocus;\n        qq.extend(spec, s);\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusHandler = function(spec) {\n        \"use strict\";\n        spec.eventType = \"focus\";\n        spec.attachTo = null;\n        qq.extend(this, new qq.FilenameInputFocusInHandler(spec, {}));\n    };\n    qq.FilenameEditHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {},\n            onSetName: function(fileId, newName) {},\n            onEditingStatusChange: function(fileId, isEditing) {}\n        };\n        function getFilenameSansExtension(fileId) {\n            var filenameSansExt = spec.onGetName(fileId), extIdx = filenameSansExt.lastIndexOf(\".\");\n            if (extIdx > 0) {\n                filenameSansExt = filenameSansExt.substr(0, extIdx);\n            }\n            return filenameSansExt;\n        }\n        function getOriginalExtension(fileId) {\n            var origName = spec.onGetName(fileId);\n            return qq.getExtension(origName);\n        }\n        function handleNameUpdate(newFilenameInputEl, fileId) {\n            var newName = newFilenameInputEl.value, origExtension;\n            if (newName !== undefined && qq.trimStr(newName).length > 0) {\n                origExtension = getOriginalExtension(fileId);\n                if (origExtension !== undefined) {\n                    newName = newName + \".\" + origExtension;\n                }\n                spec.onSetName(fileId, newName);\n            }\n            spec.onEditingStatusChange(fileId, false);\n        }\n        function registerInputBlurHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"blur\", function() {\n                handleNameUpdate(inputEl, fileId);\n            });\n        }\n        function registerInputEnterKeyHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"keyup\", function(event) {\n                var code = event.keyCode || event.which;\n                if (code === 13) {\n                    handleNameUpdate(inputEl, fileId);\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n        qq.extend(inheritedInternalApi, {\n            handleFilenameEdit: function(id, target, focusInput) {\n                var newFilenameInputEl = spec.templating.getEditInput(id);\n                spec.onEditingStatusChange(id, true);\n                newFilenameInputEl.value = getFilenameSansExtension(id);\n                if (focusInput) {\n                    newFilenameInputEl.focus();\n                }\n                registerInputBlurHandler(newFilenameInputEl, id);\n                registerInputEnterKeyHandler(newFilenameInputEl, id);\n            }\n        });\n    };\n})(window);\n//# sourceMappingURL=fine-uploader.js.map","\"use strict\";\n\nmodule.exports = require(\"../fine-uploader/fine-uploader\");\n","function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?\"data-micromodal-trigger\":d,f=e.closeTrigger,h=void 0===f?\"data-micromodal-close\":f,v=e.openClass,g=void 0===v?\"is-open\":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:\"registerTriggers\",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener(\"click\",(function(t){return e.showModal(t)}))}))}},{key:\"showModal\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener(\"animationend\",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener(\"animationend\",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:\"closeModal\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener(\"animationend\",(function e(){t.classList.remove(o),t.removeEventListener(\"animationend\",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var t=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(t.style,{overflow:\"\"});break;case\"disable\":Object.assign(t.style,{overflow:\"hidden\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:\"setFocusToFirstNode\",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:\"retainFocus\",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal: ❗Seems like you have missed %c'\".concat(e,\"'\"),\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'.concat(e,'\"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn(\"MicroModal: ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),n=t(document.querySelectorAll(\"[\".concat(o.openTrigger,\"]\"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});\"undefined\"!=typeof window&&(window.MicroModal=l);export default l;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scrollLock\"] = factory();\n\telse\n\t\troot[\"scrollLock\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/tools.js\nvar argumentAsArray = function argumentAsArray(argument) {\n  return Array.isArray(argument) ? argument : [argument];\n};\nvar isElement = function isElement(target) {\n  return target instanceof Node;\n};\nvar isElementList = function isElementList(nodeList) {\n  return nodeList instanceof NodeList;\n};\nvar eachNode = function eachNode(nodeList, callback) {\n  if (nodeList && callback) {\n    nodeList = isElementList(nodeList) ? nodeList : [nodeList];\n\n    for (var i = 0; i < nodeList.length; i++) {\n      if (callback(nodeList[i], i, nodeList.length) === true) {\n        break;\n      }\n    }\n  }\n};\nvar throwError = function throwError(message) {\n  return console.error(\"[scroll-lock] \".concat(message));\n};\nvar arrayAsSelector = function arrayAsSelector(array) {\n  if (Array.isArray(array)) {\n    var selector = array.join(', ');\n    return selector;\n  }\n};\nvar nodeListAsArray = function nodeListAsArray(nodeList) {\n  var nodes = [];\n  eachNode(nodeList, function (node) {\n    return nodes.push(node);\n  });\n  return nodes;\n};\nvar findParentBySelector = function findParentBySelector($el, selector) {\n  var self = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var $root = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : document;\n\n  if (self && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1) {\n    return $el;\n  }\n\n  while (($el = $el.parentElement) && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) === -1) {\n    ;\n  }\n\n  return $el;\n};\nvar elementHasSelector = function elementHasSelector($el, selector) {\n  var $root = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  var has = nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1;\n  return has;\n};\nvar elementHasOverflowHidden = function elementHasOverflowHidden($el) {\n  if ($el) {\n    var computedStyle = getComputedStyle($el);\n    var overflowIsHidden = computedStyle.overflow === 'hidden';\n    return overflowIsHidden;\n  }\n};\nvar elementScrollTopOnStart = function elementScrollTopOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    return scrollTop <= 0;\n  }\n};\nvar elementScrollTopOnEnd = function elementScrollTopOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    var scrollHeight = $el.scrollHeight;\n    var scrollTopWithHeight = scrollTop + $el.offsetHeight;\n    return scrollTopWithHeight >= scrollHeight;\n  }\n};\nvar elementScrollLeftOnStart = function elementScrollLeftOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    return scrollLeft <= 0;\n  }\n};\nvar elementScrollLeftOnEnd = function elementScrollLeftOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    var scrollWidth = $el.scrollWidth;\n    var scrollLeftWithWidth = scrollLeft + $el.offsetWidth;\n    return scrollLeftWithWidth >= scrollWidth;\n  }\n};\nvar elementIsScrollableField = function elementIsScrollableField($el) {\n  var selector = 'textarea, [contenteditable=\"true\"]';\n  return elementHasSelector($el, selector);\n};\nvar elementIsInputRange = function elementIsInputRange($el) {\n  var selector = 'input[type=\"range\"]';\n  return elementHasSelector($el, selector);\n};\n// CONCATENATED MODULE: ./src/scroll-lock.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disablePageScroll\", function() { return disablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enablePageScroll\", function() { return enablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollState\", function() { return getScrollState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearQueueScrollLocks\", function() { return clearQueueScrollLocks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTargetScrollBarWidth\", function() { return scroll_lock_getTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentTargetScrollBarWidth\", function() { return scroll_lock_getCurrentTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPageScrollBarWidth\", function() { return getPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentPageScrollBarWidth\", function() { return getCurrentPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableTarget\", function() { return scroll_lock_addScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableTarget\", function() { return scroll_lock_removeScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableSelector\", function() { return scroll_lock_addScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableSelector\", function() { return scroll_lock_removeScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableTarget\", function() { return scroll_lock_addLockableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableSelector\", function() { return scroll_lock_addLockableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFillGapMethod\", function() { return scroll_lock_setFillGapMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapTarget\", function() { return scroll_lock_addFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapTarget\", function() { return scroll_lock_removeFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapSelector\", function() { return scroll_lock_addFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapSelector\", function() { return scroll_lock_removeFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refillGaps\", function() { return refillGaps; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar FILL_GAP_AVAILABLE_METHODS = ['padding', 'margin', 'width', 'max-width', 'none'];\nvar TOUCH_DIRECTION_DETECT_OFFSET = 3;\nvar state = {\n  scroll: true,\n  queue: 0,\n  scrollableSelectors: ['[data-scroll-lock-scrollable]'],\n  lockableSelectors: ['body', '[data-scroll-lock-lockable]'],\n  fillGapSelectors: ['body', '[data-scroll-lock-fill-gap]', '[data-scroll-lock-lockable]'],\n  fillGapMethod: FILL_GAP_AVAILABLE_METHODS[0],\n  //\n  startTouchY: 0,\n  startTouchX: 0\n};\nvar disablePageScroll = function disablePageScroll(target) {\n  if (state.queue <= 0) {\n    state.scroll = false;\n    scroll_lock_hideLockableOverflow();\n    fillGaps();\n  }\n\n  scroll_lock_addScrollableTarget(target);\n  state.queue++;\n};\nvar enablePageScroll = function enablePageScroll(target) {\n  state.queue > 0 && state.queue--;\n\n  if (state.queue <= 0) {\n    state.scroll = true;\n    scroll_lock_showLockableOverflow();\n    unfillGaps();\n  }\n\n  scroll_lock_removeScrollableTarget(target);\n};\nvar getScrollState = function getScrollState() {\n  return state.scroll;\n};\nvar clearQueueScrollLocks = function clearQueueScrollLocks() {\n  state.queue = 0;\n};\nvar scroll_lock_getTargetScrollBarWidth = function getTargetScrollBarWidth($target) {\n  var onlyExists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var currentOverflowYProperty = $target.style.overflowY;\n\n    if (onlyExists) {\n      if (!getScrollState()) {\n        $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-overflow-y-property');\n      }\n    } else {\n      $target.style.overflowY = 'scroll';\n    }\n\n    var width = scroll_lock_getCurrentTargetScrollBarWidth($target);\n    $target.style.overflowY = currentOverflowYProperty;\n    return width;\n  } else {\n    return 0;\n  }\n};\nvar scroll_lock_getCurrentTargetScrollBarWidth = function getCurrentTargetScrollBarWidth($target) {\n  if (isElement($target)) {\n    if ($target === document.body) {\n      var documentWidth = document.documentElement.clientWidth;\n      var windowWidth = window.innerWidth;\n      var currentWidth = windowWidth - documentWidth;\n      return currentWidth;\n    } else {\n      var borderLeftWidthCurrentProperty = $target.style.borderLeftWidth;\n      var borderRightWidthCurrentProperty = $target.style.borderRightWidth;\n      $target.style.borderLeftWidth = '0px';\n      $target.style.borderRightWidth = '0px';\n\n      var _currentWidth = $target.offsetWidth - $target.clientWidth;\n\n      $target.style.borderLeftWidth = borderLeftWidthCurrentProperty;\n      $target.style.borderRightWidth = borderRightWidthCurrentProperty;\n      return _currentWidth;\n    }\n  } else {\n    return 0;\n  }\n};\nvar getPageScrollBarWidth = function getPageScrollBarWidth() {\n  var onlyExists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return scroll_lock_getTargetScrollBarWidth(document.body, onlyExists);\n};\nvar getCurrentPageScrollBarWidth = function getCurrentPageScrollBarWidth() {\n  return scroll_lock_getCurrentTargetScrollBarWidth(document.body);\n};\nvar scroll_lock_addScrollableTarget = function addScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-scrollable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeScrollableTarget = function removeScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-scrollable');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addScrollableSelector = function addScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors.push(selector);\n    });\n  }\n};\nvar scroll_lock_removeScrollableSelector = function removeScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors = state.scrollableSelectors.filter(function (sSelector) {\n        return sSelector !== selector;\n      });\n    });\n  }\n};\nvar scroll_lock_addLockableTarget = function addLockableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-lockable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n  }\n};\nvar scroll_lock_addLockableSelector = function addLockableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.lockableSelectors.push(selector);\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n\n    scroll_lock_addFillGapSelector(selector);\n  }\n};\nvar scroll_lock_setFillGapMethod = function setFillGapMethod(method) {\n  if (method) {\n    if (FILL_GAP_AVAILABLE_METHODS.indexOf(method) !== -1) {\n      state.fillGapMethod = method;\n      refillGaps();\n    } else {\n      var methods = FILL_GAP_AVAILABLE_METHODS.join(', ');\n      throwError(\"\\\"\".concat(method, \"\\\" method is not available!\\nAvailable fill gap methods: \").concat(methods, \".\"));\n    }\n  }\n};\nvar scroll_lock_addFillGapTarget = function addFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-fill-gap', '');\n\n          if (!state.scroll) {\n            scroll_lock_fillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeFillGapTarget = function removeFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-fill-gap');\n\n          if (!state.scroll) {\n            scroll_lock_unfillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addFillGapSelector = function addFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      if (state.fillGapSelectors.indexOf(selector) === -1) {\n        state.fillGapSelectors.push(selector);\n\n        if (!state.scroll) {\n          scroll_lock_fillGapSelector(selector);\n        }\n      }\n    });\n  }\n};\nvar scroll_lock_removeFillGapSelector = function removeFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.fillGapSelectors = state.fillGapSelectors.filter(function (fSelector) {\n        return fSelector !== selector;\n      });\n\n      if (!state.scroll) {\n        scroll_lock_unfillGapSelector(selector);\n      }\n    });\n  }\n};\nvar refillGaps = function refillGaps() {\n  if (!state.scroll) {\n    fillGaps();\n  }\n};\n\nvar scroll_lock_hideLockableOverflow = function hideLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_hideLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_showLockableOverflow = function showLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_showLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_hideLockableOverflowSelector = function hideLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_hideLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_showLockableOverflowSelector = function showLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_showLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_hideLockableOverflowTarget = function hideLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') !== 'true') {\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-saved-overflow-y-property', computedStyle.overflowY);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-property', $target.style.overflow);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-y-property', $target.style.overflowY);\n    $target.style.overflow = 'hidden';\n    $target.setAttribute('data-scroll-lock-locked', 'true');\n  }\n};\n\nvar scroll_lock_showLockableOverflowTarget = function showLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') === 'true') {\n    $target.style.overflow = $target.getAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-saved-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-locked');\n  }\n};\n\nvar fillGaps = function fillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_fillGapSelector(selector);\n  });\n};\n\nvar unfillGaps = function unfillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_unfillGapSelector(selector);\n  });\n};\n\nvar scroll_lock_fillGapSelector = function fillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  var isLockable = state.lockableSelectors.indexOf(selector) !== -1;\n  eachNode($targets, function ($target) {\n    scroll_lock_fillGapTarget($target, isLockable);\n  });\n};\n\nvar scroll_lock_fillGapTarget = function fillGapTarget($target) {\n  var isLockable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var scrollBarWidth;\n\n    if ($target.getAttribute('data-scroll-lock-lockable') === '' || isLockable) {\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($target, true);\n    } else {\n      var $lockableParent = findParentBySelector($target, arrayAsSelector(state.lockableSelectors));\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($lockableParent, true);\n    }\n\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      scroll_lock_unfillGapTarget($target);\n    }\n\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-filled-gap', 'true');\n    $target.setAttribute('data-scroll-lock-current-fill-gap-method', state.fillGapMethod);\n\n    if (state.fillGapMethod === 'margin') {\n      var currentMargin = parseFloat(computedStyle.marginRight);\n      $target.style.marginRight = \"\".concat(currentMargin + scrollBarWidth, \"px\");\n    } else if (state.fillGapMethod === 'width') {\n      $target.style.width = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'max-width') {\n      $target.style.maxWidth = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'padding') {\n      var currentPadding = parseFloat(computedStyle.paddingRight);\n      $target.style.paddingRight = \"\".concat(currentPadding + scrollBarWidth, \"px\");\n    }\n  }\n};\n\nvar scroll_lock_unfillGapSelector = function unfillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_unfillGapTarget($target);\n  });\n};\n\nvar scroll_lock_unfillGapTarget = function unfillGapTarget($target) {\n  if (isElement($target)) {\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      var currentFillGapMethod = $target.getAttribute('data-scroll-lock-current-fill-gap-method');\n      $target.removeAttribute('data-scroll-lock-filled-gap');\n      $target.removeAttribute('data-scroll-lock-current-fill-gap-method');\n\n      if (currentFillGapMethod === 'margin') {\n        $target.style.marginRight = \"\";\n      } else if (currentFillGapMethod === 'width') {\n        $target.style.width = \"\";\n      } else if (currentFillGapMethod === 'max-width') {\n        $target.style.maxWidth = \"\";\n      } else if (currentFillGapMethod === 'padding') {\n        $target.style.paddingRight = \"\";\n      }\n    }\n  }\n};\n\nvar onResize = function onResize(e) {\n  refillGaps();\n};\n\nvar onTouchStart = function onTouchStart(e) {\n  if (!state.scroll) {\n    state.startTouchY = e.touches[0].clientY;\n    state.startTouchX = e.touches[0].clientX;\n  }\n};\n\nvar scroll_lock_onTouchMove = function onTouchMove(e) {\n  if (!state.scroll) {\n    var startTouchY = state.startTouchY,\n        startTouchX = state.startTouchX;\n    var currentClientY = e.touches[0].clientY;\n    var currentClientX = e.touches[0].clientX;\n\n    if (e.touches.length < 2) {\n      var selector = arrayAsSelector(state.scrollableSelectors);\n      var direction = {\n        up: startTouchY < currentClientY,\n        down: startTouchY > currentClientY,\n        left: startTouchX < currentClientX,\n        right: startTouchX > currentClientX\n      };\n      var directionWithOffset = {\n        up: startTouchY + TOUCH_DIRECTION_DETECT_OFFSET < currentClientY,\n        down: startTouchY - TOUCH_DIRECTION_DETECT_OFFSET > currentClientY,\n        left: startTouchX + TOUCH_DIRECTION_DETECT_OFFSET < currentClientX,\n        right: startTouchX - TOUCH_DIRECTION_DETECT_OFFSET > currentClientX\n      };\n\n      var handle = function handle($el) {\n        var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if ($el) {\n          var parentScrollableEl = findParentBySelector($el, selector, false);\n\n          if (elementIsInputRange($el)) {\n            return false;\n          }\n\n          if (skip || elementIsScrollableField($el) && findParentBySelector($el, selector) || elementHasSelector($el, selector)) {\n            var prevent = false;\n\n            if (elementScrollLeftOnStart($el) && elementScrollLeftOnEnd($el)) {\n              if (direction.up && elementScrollTopOnStart($el) || direction.down && elementScrollTopOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (elementScrollTopOnStart($el) && elementScrollTopOnEnd($el)) {\n              if (direction.left && elementScrollLeftOnStart($el) || direction.right && elementScrollLeftOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (directionWithOffset.up && elementScrollTopOnStart($el) || directionWithOffset.down && elementScrollTopOnEnd($el) || directionWithOffset.left && elementScrollLeftOnStart($el) || directionWithOffset.right && elementScrollLeftOnEnd($el)) {\n              prevent = true;\n            }\n\n            if (prevent) {\n              if (parentScrollableEl) {\n                handle(parentScrollableEl, true);\n              } else {\n                if (e.cancelable) {\n                  e.preventDefault();\n                }\n              }\n            }\n          } else {\n            handle(parentScrollableEl);\n          }\n        } else {\n          if (e.cancelable) {\n            e.preventDefault();\n          }\n        }\n      };\n\n      handle(e.target);\n    }\n  }\n};\n\nvar onTouchEnd = function onTouchEnd(e) {\n  if (!state.scroll) {\n    state.startTouchY = 0;\n    state.startTouchX = 0;\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('resize', onResize);\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('touchstart', onTouchStart);\n  document.addEventListener('touchmove', scroll_lock_onTouchMove, {\n    passive: false\n  });\n  document.addEventListener('touchend', onTouchEnd);\n}\n\nvar deprecatedMethods = {\n  hide: function hide(target) {\n    throwError('\"hide\" is deprecated! Use \"disablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget');\n    disablePageScroll(target);\n  },\n  show: function show(target) {\n    throwError('\"show\" is deprecated! Use \"enablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget');\n    enablePageScroll(target);\n  },\n  toggle: function toggle(target) {\n    throwError('\"toggle\" is deprecated! Do not use it.');\n\n    if (getScrollState()) {\n      disablePageScroll();\n    } else {\n      enablePageScroll(target);\n    }\n  },\n  getState: function getState() {\n    throwError('\"getState\" is deprecated! Use \"getScrollState\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getscrollstate');\n    return getScrollState();\n  },\n  getWidth: function getWidth() {\n    throwError('\"getWidth\" is deprecated! Use \"getPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth');\n    return getPageScrollBarWidth();\n  },\n  getCurrentWidth: function getCurrentWidth() {\n    throwError('\"getCurrentWidth\" is deprecated! Use \"getCurrentPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth');\n    return getCurrentPageScrollBarWidth();\n  },\n  setScrollableTargets: function setScrollableTargets(target) {\n    throwError('\"setScrollableTargets\" is deprecated! Use \"addScrollableTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget');\n    scroll_lock_addScrollableTarget(target);\n  },\n  setFillGapSelectors: function setFillGapSelectors(selector) {\n    throwError('\"setFillGapSelectors\" is deprecated! Use \"addFillGapSelector\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector');\n    scroll_lock_addFillGapSelector(selector);\n  },\n  setFillGapTargets: function setFillGapTargets(target) {\n    throwError('\"setFillGapTargets\" is deprecated! Use \"addFillGapTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget');\n    scroll_lock_addFillGapTarget(target);\n  },\n  clearQueue: function clearQueue() {\n    throwError('\"clearQueue\" is deprecated! Use \"clearQueueScrollLocks\" instead. \\n https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks');\n    clearQueueScrollLocks();\n  }\n};\n\nvar scrollLock = _objectSpread({\n  disablePageScroll: disablePageScroll,\n  enablePageScroll: enablePageScroll,\n  getScrollState: getScrollState,\n  clearQueueScrollLocks: clearQueueScrollLocks,\n  getTargetScrollBarWidth: scroll_lock_getTargetScrollBarWidth,\n  getCurrentTargetScrollBarWidth: scroll_lock_getCurrentTargetScrollBarWidth,\n  getPageScrollBarWidth: getPageScrollBarWidth,\n  getCurrentPageScrollBarWidth: getCurrentPageScrollBarWidth,\n  addScrollableSelector: scroll_lock_addScrollableSelector,\n  removeScrollableSelector: scroll_lock_removeScrollableSelector,\n  addScrollableTarget: scroll_lock_addScrollableTarget,\n  removeScrollableTarget: scroll_lock_removeScrollableTarget,\n  addLockableSelector: scroll_lock_addLockableSelector,\n  addLockableTarget: scroll_lock_addLockableTarget,\n  addFillGapSelector: scroll_lock_addFillGapSelector,\n  removeFillGapSelector: scroll_lock_removeFillGapSelector,\n  addFillGapTarget: scroll_lock_addFillGapTarget,\n  removeFillGapTarget: scroll_lock_removeFillGapTarget,\n  setFillGapMethod: scroll_lock_setFillGapMethod,\n  refillGaps: refillGaps,\n  _state: state\n}, deprecatedMethods);\n\n/* harmony default export */ var scroll_lock = __webpack_exports__[\"default\"] = (scrollLock);\n\n/***/ })\n/******/ ])[\"default\"];\n});","/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  // 🔒 Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  // 🔑 Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests —\n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  // 🔒 Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  // 🔑 Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n//# sourceMappingURL=tippy.esm.js.map\n"],"sourceRoot":""}