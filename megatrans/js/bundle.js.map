{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./#src/js/components/adaptiveSizes.js","webpack:///./#src/js/components/addField.js","webpack:///./#src/js/components/addFieldGroup.js","webpack:///./#src/js/components/decMoreInfo.js","webpack:///./#src/js/components/dropFiles.js","webpack:///./#src/js/components/mobMenu.js","webpack:///./#src/js/components/modals.js","webpack:///./#src/js/components/searchResults.js","webpack:///./#src/js/components/select.js","webpack:///./#src/js/components/stepChange.js","webpack:///./#src/js/components/tableDrop.js","webpack:///./#src/js/components/tableHead.js","webpack:///./#src/js/components/tabsFunc.js","webpack:///./#src/js/components/thirdPart.js","webpack:///./#src/js/components/tooltip.js","webpack:///./#src/js/script.js","webpack:///./node_modules/@popperjs/core/lib/createPopper.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///./node_modules/@popperjs/core/lib/enums.js","webpack:///./node_modules/@popperjs/core/lib/index.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/index.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///./node_modules/@popperjs/core/lib/popper-lite.js","webpack:///./node_modules/@popperjs/core/lib/popper.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///./node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///./node_modules/@popperjs/core/lib/utils/format.js","webpack:///./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///./node_modules/@popperjs/core/lib/utils/math.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///./node_modules/@popperjs/core/lib/utils/uniqueBy.js","webpack:///./node_modules/@popperjs/core/lib/utils/validateModifiers.js","webpack:///./node_modules/@popperjs/core/lib/utils/within.js","webpack:///./node_modules/choices.js/public/assets/scripts/choices.js","webpack:///./node_modules/fine-uploader/fine-uploader/fine-uploader.js","webpack:///./node_modules/fine-uploader/lib/traditional.js","webpack:///./node_modules/micromodal/dist/micromodal.es.js","webpack:///./node_modules/scroll-lock/dist/scroll-lock.js","webpack:///./node_modules/tippy.js/dist/tippy.esm.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","adaptiveSizes","document","querySelector","querySelectorAll","addField","addEmail","addTel","emailInput","createElement","setAttribute","style","cssText","telInput","addEmailBtn","addTelBtn","addEventListener","append","e","addFieldGroup","flGrAadd","delField","forEach","console","log","parentElement","remove","insertAdjacentHTML","decMoreInfo","infoEl","infoBtn","infoClose","classList","add","disablePageScroll","enablePageScroll","dropFiles","ff","length","FineUploader","element","template","request","endpoint","thumbnails","placeholders","validation","allowedExtensions","mobMenu","menu","menuContent","menuBtn","target","contains","modals","MicroModal","init","searchResults","results","result","select","selectEls","Choices","allowHTML","itemSelectText","noResultsText","stepChange","radioBtns","formNames","btn","index","checked","innerHTML","tableDrop","window","innerWidth","tableRow","row","dropRow","currentTarget","editBtn","dropSmob","hasAttribute","toggle","scrollHeight","tableHead","tableHeads","item","tabsFunc","wrapper","parent","tabs","content","tabsParent","tabsEl","tabsContent","hideTabs","showTabs","tar","dataset","tab","thirdPart","tooltip","tippy","placement","arrow","INVALID_ELEMENT_ERROR","DEFAULT_OPTIONS","modifiers","strategy","areValidElements","_len","arguments","args","Array","_key","some","getBoundingClientRect","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","options","state","orderedModifiers","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","concat","filter","enabled","_ref","find","_ref2","error","join","_getComputedStyle","marginTop","marginRight","marginBottom","marginLeft","margin","parseFloat","warn","_ref3","_ref3$options","effect","cleanupFn","push","update","forceUpdate","_state$elements","rects","reset","modifier","data","__debug_loops__","_state$orderedModifie","fn","_state$orderedModifie2","_options","Promise","resolve","destroy","then","onFirstUpdate","createPopper","child","rootNode","getRootNode","next","isSameNode","parentNode","host","includeScale","rect","scaleX","scaleY","offsetHeight","offsetWidth","width","height","top","right","bottom","left","x","y","getClientRectFromMixedType","clippingParent","clientTop","clientLeft","clientHeight","clientWidth","getInnerBoundingClientRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","indexOf","position","getClippingParents","firstClippingParent","clippingRect","reduce","accRect","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","documentElement","scroll","scrollLeft","scrollTop","offsets","getComputedStyle","getDocumentElement","ownerDocument","getDocumentRect","_element$ownerDocumen","html","winScroll","body","scrollWidth","direction","getHTMLElementScroll","getLayoutRect","clientRect","Math","abs","offsetLeft","offsetTop","getNodeName","nodeName","toLowerCase","getNodeScroll","node","getTrueOffsetParent","getOffsetParent","isFirefox","navigator","userAgent","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","getParentNode","assignedSlot","getScrollParent","getViewportRect","win","visualViewport","test","getWindow","toString","defaultView","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBarX","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","isScrollParent","overflow","overflowX","overflowY","isTableElement","listScrollParents","list","scrollParent","isBody","updatedList","auto","basePlacements","start","end","viewport","variationPlacements","acc","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","phase","keys","removeAttribute","initialStyles","attribute","requires","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","len","paddingObject","padding","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","min","max","center","offset","axisProp","centerOffset","_options$element","requiresIfExists","unsetSides","mapToStyles","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","transitionProperty","passive","_options$scroll","_options$resize","resize","removeEventListener","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","set","_loop","_i","fittingPlacement","slice","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","computeAutoPlacement","_options$allowedAutoP","allowedPlacements","overflows","sort","a","b","computeOffsets","commonX","commonY","debounce","pending","undefined","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","expandToHashMap","hashMap","format","str","replace","getAltAxis","getBasePlacement","split","getFreshSideObject","getMainAxisFromPlacement","hash","getOppositePlacement","matched","getOppositeVariationPlacement","getVariation","round","mergeByName","merged","current","existing","map","mergePaddingObject","order","visited","Set","has","dep","depModifier","orderModifiers","rectToClientRect","uniqueBy","arr","identifiers","identifier","INVALID_MODIFIER_ERROR","VALID_PROPERTIES","validateModifiers","self","String","isArray","requirement","mod","within","withinMaxClamp","v","factory","__webpack_modules__","282","__unused_webpack_module","clearChoices","activateChoices","filterChoices","addChoice","constants_1","_a","label","id","groupId","disabled","elementId","customProperties","placeholder","keyCode","type","ACTION_TYPES","ADD_CHOICE","FILTER_CHOICES","active","ACTIVATE_CHOICES","CLEAR_CHOICES","783","addGroup","ADD_GROUP","464","highlightItem","removeItem","addItem","choiceId","ADD_ITEM","REMOVE_ITEM","highlighted","HIGHLIGHT_ITEM","137","setIsLoading","resetTo","clearAll","CLEAR_ALL","RESET_TO","isLoading","SET_IS_LOADING","373","__spreadArray","this","to","from","pack","ar","__importDefault","deepmerge_1","fuse_js_1","choices_1","groups_1","items_1","misc_1","components_1","defaults_1","utils_1","reducers_1","store_1","templates_1","IS_IE11","USER_DEFAULTS","userConfig","_this","config","default","all","DEFAULT_CONFIG","defaults","arrayMerge","_","sourceArray","invalidConfigOptions","diff","passedElement","HTMLInputElement","HTMLSelectElement","TypeError","_isTextElement","TEXT_TYPE","_isSelectOneElement","SELECT_ONE_TYPE","_isSelectMultipleElement","SELECT_MULTIPLE_TYPE","_isSelectElement","searchEnabled","includes","renderSelectedChoices","addItemFilter","re","RegExp","WrappedInput","classNames","delimiter","WrappedSelect","_templates","option","initialised","_store","_initialState","defaultState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","generateId","_direction","dir","elementDirection","_idNames","itemChoice","_presetGroups","optionGroups","_presetOptions","_presetChoices","choices","_presetItems","items","splitValues","selected","_render","_onFocus","_onBlur","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","isActive","silent","preventExtensions","configurable","_createTemplates","_createElements","_createStructure","subscribe","_addEventListeners","addItems","disable","callbackOnInit","_removeEventListeners","reveal","containerOuter","unwrap","clearStore","enable","isDisabled","input","runEvent","_b","_c","group","getGroupById","dispatch","triggerEvent","EVENTS","groupValue","unhighlightItem","highlightAll","unhighlightAll","removeActiveItemsByValue","activeItems","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","showDropdown","preventInputFocus","dropdown","requestAnimationFrame","show","open","distanceFromTopWindow","focus","hideDropdown","preventInputBlur","hide","close","removeActiveDescendant","blur","getValue","valueOnly","values","selectedItems","itemValue","setValue","_setChoiceOrItem","setChoiceByValue","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","ReferenceError","fetcher_1","_handleLoadingState","catch","err","removeLoadingState","_startLoading","groupOrChoice","_addGroup","parseInt","valueKey","labelKey","choice","_addChoice","isSelected","_stopLoading","clearInput","shouldSetInputWidth","clear","_isSearching","stateChanged","groups","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","activeGroups","activeChoices","choiceListFragment","createDocumentFragment","choiceList","resetScrollPosition","scrollToTop","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","_highlightChoice","notice","_getTemplate","dropdownItem","noChoicesText","itemList","itemListFragment","_createItemsFragment","fragment","shouldSort","sorter","groupChoices","getGroupChoices","dropdownGroup","appendChild","withinGroup","searchResultLimit","renderChoiceLimit","sortByScore","appendChoice","rendererableChoices","placeholderChoices","normalChoices","choiceLimit","sortedChoices","shouldSortItems","removeItemButton","listItem","change","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","removeItems","itemId","itemToRemove","_handleItemAction","hasShiftKey","passedId","_handleChoiceAction","getChoiceById","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","editItems","setWidth","setLoading","placeholderItem","getChild","addLoadingState","loadingText","_handleSearch","isFocussed","searchFloor","searchChoices","hasUnactiveChoices","resultCount","_searchChoices","search","addItemText","isDuplicateValue","existsInArray","maxItemCount","maxItemText","duplicateItemsAllowed","uniqueItemText","customAddItemText","newValue","trim","currentValue","haystack","searchableChoices","needle","fuseOptions","searchFields","includeMatches","form","addEventListeners","removeEventListeners","event","hasFocusedInput","hasItems","hasChildren","keyString","fromCharCode","wasAlphaNumericChar","BACK_KEY","KEY_CODES","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","backKey","deleteKey","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","rawValue","ctrlKey","metaKey","activeElement","enterKey","targetWasButton","preventDefault","highlightedChoice","highlightedState","downKey","pageUpKey","pageDownKey","directionInt","nextEl","currentEl","getAdjacentEl","isScrolledIntoView","scrollToChildElement","touches","containerInner","stopPropagation","firstChoice","firstElementChild","isOnScrollbar","offsetX","closest","shiftKey","removeFocusState","addFocusState","hasHighlightedItems_1","el","passedEl","highlightChoice","setActiveDescendant","_d","_e","_f","_g","passedValue","passedLabel","passedOptionId","prependValue","appendValue","_h","choiceLabel","choiceElementId","isType","getElementsByTagName","floor","Date","valueOf","random","isOptDisabled","apply","callbackOnCreateTemplates","userTemplates","strToEl","Container","Input","preventPaste","paste","List","Dropdown","conceal","wrap","searchPlaceholderValue","insertBefore","firstChild","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","placeholderOption","tagName","hasSelectedChoice","firstEnabledChoiceIndex","findIndex","string","getType","foundChoice","valueComparer","text","placeholderValue","613","isOpen","isFlipped","shouldFlip","dropdownPos","matchMedia","matches","activeDescendantID","openState","flippedState","focusState","disabledState","removeChild","loadingState","217","selector","activeState","520","dropdown_1","container_1","input_1","list_1","wrapped_input_1","wrapped_select_1","11","isEqualNode","_onPaste","_onInput","sanitise","minWidth","624","scrollPos","hasChildNodes","listHeight","listScrollPosition","elementHeight","elementPos","destination","_animateScroll","_scrollDown","strength","easing","_scrollUp","SCROLLING_SPEED","choiceListScrollTop","continueAnimation","730","WrappedElement","hidden","tabIndex","origStyle","getAttribute","eventType","dispatchEvent","541","extendStatics","__extends","setPrototypeOf","__proto__","__","constructor","_super","982","optionData","appendDocFragment","883","789","DEFAULT_CLASSNAMES","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","groupHeading","button","selectedState","noResults","noChoices","sortByAlpha","value1","value2","includeScore","18","978","948","359","285","533","187","__createBinding","k","k2","__exportStar","287","132","837","598","37","369","47","923","876","799","tmpEl","cloneObject","generateChars","getRandomNumber","prefix","obj","nextSibling","startEl","prop","sibling","cleanedInput","firldChild","children","label2","localeCompare","sensitivity","ignorePunctuation","numeric","score","scoreA","customArgs","CustomEvent","detail","bubbles","cancelable","array","JSON","parse","stringify","aKeys","bKeys","273","action","addChoiceAction","addItemAction_1","removeItemAction_1","filterChoicesAction_1","activateChoicesAction_1","871","addGroupAction","655","redux_1","loading_1","loading","appReducer","combineReducers","passedState","52","addItemAction","highlightItemAction_1","502","744","index_1","Store","createStore","__REDUX_DEVTOOLS_EXTENSION__","onChange","getState","selectableChoices","reverse","hasActiveOptions","686","templates","isSelectElement","isSelectOneElement","passedElementType","div","className","isPlaceholder","deletable","removeButton","choiceGroup","selectText","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","innerText","classes","opt","Option","996","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","source","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","mergeObject","propertyIsUnsafe","customMerge","getMergeFunction","sourceIsArray","Error","prev","221","__webpack_exports__","getTag","isString","isNumber","isBoolean","isObject","isObjectLike","isDefined","isBlank","Fuse","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","path","src","createKeyPath","createKeyId","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","Config","isCaseSensitive","sortFn","idx","findAllMatches","minMatchCharLength","location","threshold","useExtendedSearch","getFn","deepGet","baseToString","ignoreLocation","ignoreFieldNorm","fieldNormWeight","SPACE","FuseIndex","norm","mantissa","cache","pow","numTokens","match","isCreated","setIndexRecords","docs","records","_keysMap","doc","docIndex","_addString","_addObject","size","splice","record","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","createIndex","myIndex","setKeys","setSources","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","charAt","isMatch","indices","matchmask","convertMaskToIndices","createPatternAlphabet","char","BitapSearch","chunks","addChunk","startIndex","alphabet","remainder","substr","allIndices","totalScore","hasMatches","BaseMatch","getMatch","multiRegex","singleRegex","exp","FuzzyMatch","super","_bitapSearch","searchIn","IncludeMatch","searchers","startsWith","endsWith","searchersLen","SPACE_RE","MultiMatchSet","ExtendedSearch","query","queryItem","found","searcher","token","isMultiMatch","isSingleMatch","parseQuery","numMatches","qLen","pLen","registeredSearchers","createSearcher","searcherClass","condition","LogicalOperator","KeyType","isExpression","convertToExplicit","isQueryPath","isPath","isLeaf","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","operator","transformMatches","refIndex","transformScore","_keyStore","setCollection","_docs","_myIndex","predicate","removeAt","limit","_searchStringList","_searchObjectList","_searchLogical","Number","EPSILON","computeScore","transformers","transformer","expression","evaluate","_findMatches","getValueForItemAtKeyId","res","resultMap","expResults","version","parseIndex","register","857","_defineProperty","writable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","formatProdErrorMessage","code","ActionTypes","applyMiddleware","bindActionCreators","compose","$$observable","observable","randomString","substring","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","actionCreators","boundActionCreators","funcs","arg","middlewares","store","_dispatch","middlewareAPI","chain","middleware","__webpack_module_cache__","cachedModule","definition","_scripts_choices__WEBPACK_IMPORTED_MODULE_0__","_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default","global","qq","display","attach","attachEvent","detach","detachEvent","descendant","compareDocumentPosition","elementB","opacity","filters","extend","hasClass","considerParent","addClass","removeClass","getByClass","first","candidates","each","getFirstByClass","nodeType","setText","textContent","clearText","attrName","attrVal","exec","ExifRestorer","canvasToBlob","canvas","mime","quality","dataUriToBlob","toDataURL","dataUri","arrayBuffer","byteString","intArray","mimeString","BlobBuilder","blobBuilder","atob","decodeURI","ArrayBuffer","Uint8Array","character","charCodeAt","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","Blob","message","level","variable","isFunction","buffer","isItemList","maybeItemList","isNodeList","maybeNodeList","namedItem","maybeString","trimStr","newStr","nextIdxToReplace","strBefore","strAfter","isFile","maybeFile","File","isFileList","maybeFileList","FileList","isFileOrInput","maybeFileOrInput","isInput","maybeInput","notFile","evaluateType","normalizedType","isBlob","maybeBlob","isXhrUploadSupported","multiple","FormData","createXhrInstance","upload","XMLHttpRequest","ActiveXObject","isFolderDropSupported","dataTransfer","webkitGetAsEntry","isFileChunkingSupported","androidStock","webkitSlice","mozSlice","sliceBlob","fileOrBlob","arrayBufferToHex","bytesAsHex","bytes","byt","byteAsHexStr","readBlobToHex","blob","startOffset","initialBlob","fileReader","FileReader","promise","onload","success","onerror","failure","readAsArrayBuffer","second","extendNested","override","sourceFn","super_","srcPropName","srcPropVal","elt","getUniqueId","ie","ie7","ie8","ie10","ie11","edge","safari","vendor","chrome","opera","firefox","windows","platform","android","ios6","ios","ios7","ios8","ios800","iosChrome","iosSafari","iosSafariWebView","returnValue","toElement","iterableItem","callback","keyOrIndex","Storage","getItem","oldFunc","context","newArgs","obj2url","temp","prefixDone","uristrings","nextObj","nextTemp","encodeURIComponent","obj2FormData","formData","arrayKeyName","obj2Inputs","parseJson","json","eval","getExtension","filename","extIdx","lastIndexOf","getFilename","blobOrFileInput","fileName","DisposeSupport","disposers","dispose","disposer","shift","addDisposer","disposeFunction","supportedFeatures","supportsUploading","supportsUploadingBlobs","supportsFileDrop","supportsAjaxFileUploading","supportsFolderDrop","supportsChunking","supportsResume","supportsUploadViaPaste","supportsUploadCors","supportsDeleteFileXdr","supportsDeleteFileCorsXhr","supportsDeleteFileCors","supportsFolderSelection","supportsImagePreviews","supportsUploadProgress","span","isCrossOriginXhrSupported","withCredentials","isXdrSupported","XDomainRequest","tempInput","supported","ex","testSupportsFileInputElement","localStorage","setItem","isLocalStorageSupported","postMessage","webkitdirectory","ajaxUploading","blobUploading","canDetermineSize","chunking","deleteFileCors","deleteFileCorsXdr","deleteFileCorsXhr","dialogElement","HTMLDialogElement","fileDrop","folderDrop","folderSelection","imagePreviews","imageValidation","itemSizeValidation","pause","progressBar","resume","scaling","tiffPreviews","unlimitedScaledImageSize","uploading","uploadCors","uploadCustomHeaders","uploadNonMultipart","uploadViaPaste","isGenericPromise","maybePromise","successArgs","failureArgs","successCallbacks","failureCallbacks","doneCallbacks","onSuccess","onFailure","done","BlobProxy","referenceBlob","onCreate","UploadButton","buttonId","disposeSupport","acceptFiles","focusClass","folders","hoverClass","ios8BrowserCrashWorkaround","title","createInput","BUTTON_ID_ATTR_NAME","setMultiple","fontFamily","fontSize","cursor","getInput","getButtonId","isMultiple","optInput","setAcceptFiles","UploadData","uploaderProxy","byUuid","byStatus","byProxyGroupId","byBatchId","getDataByIds","idOrIds","entries","addFile","spec","status","SUBMITTING","originalName","uuid","file","batchId","proxyGroupId","onBeforeStatusChange","onStatusChange","retrieve","optionalFilter","uuids","getDataByUuids","statusResults","statuses","statusEnum","statusResultIndexes","dataIndex","removeFileRef","setStatus","newStatus","oldStatus","byStatusOldStatusIndex","uuidChanged","newUuid","oldUuid","updateName","newName","updateSize","newSize","setParentId","targetId","parentId","getIdsInProxyGroup","getIdsInBatch","SUBMITTED","REJECTED","QUEUED","CANCELED","PAUSED","UPLOADING","UPLOAD_FINALIZING","UPLOAD_RETRYING","UPLOAD_SUCCESSFUL","UPLOAD_FAILED","DELETE_FAILED","DELETING","DELETED","basePublicApi","addBlobs","blobDataOrArray","params","addFiles","addInitialFiles","cannedFileList","cannedFile","_addCannedFile","_maybeHandleIos8SafariWorkaround","_storedIds","_currentBatchId","processBlob","_handleNewFile","blobs","defaultName","verifiedFiles","processBlobData","blobData","processCanvas","processCanvasData","canvasData","normalizedQuality","processFileOrInput","fileOrInput","files","fileContainer","_prepareItemsForUpload","cancel","uploadData","_uploadData","getName","_handler","cancelAll","storedIdsCopy","storedFileId","clearStoredFiles","continueUpload","_uploadFile","deleteFile","_onSubmitDelete","doesExist","fileOrBlobId","isValid","drawThumbnail","fileId","imgOrCanvas","maxSize","fromServer","customResizeFunction","fileOrUrl","promiseToReturn","_imageGenerator","_thumbnailUrls","scale","getFile","container","generate","modifiedContainer","reason","getButton","_getButton","_buttonIdsForFileIds","getEndpoint","_endpointStore","uploadDataRecord","getInProgress","getParentId","uploadDataEntry","getUploads","getResumableFilesData","getSize","getNetUploads","_netUploaded","getRemainingAllowedItems","allowedItems","_currentItemLimit","_netUploadedOrQueued","getUuid","isResumable","hasResumeRecord","debug","pauseUpload","expunge","_autoRetries","_retryTimeouts","_preventRetries","_buttons","_paramsStore","_pasteHandler","session","refreshOnReset","_refreshSessionData","_succeededSinceLastAllComplete","_failedSinceLastAllComplete","_totalProgress","_customResumeDataStore","retry","_manualRetry","scaleImage","specs","Scaler","setCustomHeaders","headers","_customHeadersStore","setCustomResumeData","setDeleteFileCustomHeaders","_deleteFileCustomHeadersStore","setDeleteFileEndpoint","_deleteFileEndpointStore","setDeleteFileParams","_deleteFileParamsStore","setEndpoint","setForm","elementOrId","_updateFormSupportAndParams","setItemLimit","newItemLimit","setName","setParams","setUuid","_onDeleteComplete","errorMessage","uploadStoredFiles","_itemError","_uploadStoredFiles","basePrivateApi","sessionData","deleteFileEndpoint","deleteFileParams","thumbnailUrl","_annotateWithButtonId","associatedInput","qqButtonId","_getButtonId","_batchError","callbacks","onError","_createDeleteHandler","DeleteFileAjaxRequester","method","toUpperCase","maxConnections","uuidParamName","uuidName","customHeaders","paramsStore","endpointStore","cors","onDelete","_onDelete","onDeleteComplete","xhrOrXdr","isError","_createPasteHandler","PasteSupport","targetElement","pasteReceived","_handleCheckedCallback","onPasteReceived","_handlePasteSuccess","_createStore","initialValue","_readOnlyValues_","catchall","perIdReadOnlyValues","readOnlyValues","copy","orig","includeReadOnlyValues","addReadOnly","_createUploadDataTracker","_onUploadStatusChange","_maybeAllComplete","setTimeout","_createUploadButton","accept","buttonFocus","buttonHover","workarounds","ios8BrowserCrash","iosEmptyVideos","_isAllowedExtension","inputName","_onInputChange","fileInputTitle","_disposeSupport","_createUploadHandler","additionalOptions","namespace","lastOnProgress","preventRetryParam","preventRetryResponseProperty","onProgress","loaded","total","_onProgress","onComplete","xhr","retVal","_onComplete","onCancel","cancelFinalizationEffort","_onCancel","onUploadPrep","_onUploadPrep","onUpload","_onUpload","onUploadResult","onUploadChunk","chunkData","_onUploadChunk","onUploadChunkResult","partIndex","onUploadChunkSuccess","_onUploadChunkSuccess","onResume","customResumeData","onAutoRetry","responseJSON","_onAutoRetry","onUuidChanged","setSize","_setSize","getDataByUuid","isQueued","isInProgress","getCustomResumeData","_getCustomResumeData","UploadHandlerController","_fileOrBlobRejected","_formatSize","sizeSymbols","toFixed","_generateExtraButtonSpecs","_extraButtonSpecs","extraButtons","extraButtonOptionEntry","extraButtonSpec","_initExtraButton","extraButtonsSpec","_defaultButtonId","buttonOrFileInputOrFile","inputs","fileInput","fileBlobOrInput","_getNotFinished","_getValidationBase","_getValidationDescriptor","fileWrapper","_getValidationDescriptors","fileWrappers","fileDescriptors","_handleCameraAccess","camera","optionRoot","details","callbackRetVal","successParam","newFileWrapperList","actualFile","handler","_customNewFileHandler","_handleNewFileGeneric","addFileToHandler","_trackButton","fileList","extSuppliedName","extension","_handleDeleteSuccess","_handleDeleteFailed","_initFormSupportAndParams","_formSupport","FormSupport","attachedToForm","getFormInputsAsObject","autoUpload","newAutoUpload","newEndpoint","_isDeletePossible","expected","allowXdr","allowed","valid","allowedExt","extRegex","maybeNameOrNames","extensionsForMessage","placeholderMatch","messages","names","validationBase","replacement","allowedExtension","formatFileName","sizeLimit","minSizeLimit","_onBeforeManualRetry","notFinished","_onAllComplete","ios8SafariUploads","alert","unsupportedBrowserIos8Safari","_maybeParseAndSendUploadError","errorReason","defaultResponseError","_maybeProcessNextItemAfterOnValidateCallback","validItem","stopOnFirstInvalidFile","validationDescriptor","onValidate","_onValidateCallbackSuccess","_onValidateCallbackFailure","successful","failed","onAllComplete","_shouldAutoRetry","retryWaitPeriod","autoAttemptDelay","_onBeforeAutoRetry","itemLimit","onManualRetry","clearTimeout","storedItemIndex","fileIndex","onIndividualProgress","_onSubmit","_onSubmitCallbackSuccess","_onSubmitted","onSubmitted","_storeForLater","onSuccessCallback","additionalMandatedParams","adjustedOnSuccessCallback","onSubmitDelete","_deleteHandler","sendDelete","_onTotalProgress","onTotalProgress","enableAuto","_onValidateBatchCallbackFailure","_onValidateBatchCallbackSuccess","validationDescriptors","proposedNetFilesUploadedOrQueued","tooManyItemsError","nextIndex","_validateFileOrBlobData","_upload","onValidateBatch","_preventLeaveInProgress","onLeave","Session","_session","addFileRecord","refresh","_sessionRequestComplete","onSessionRequestComplete","onNewSize","maxAutoAttempts","formElementOrId","onSubmit","idToUpload","stillSubmitting","validityChecker","allowEmpty","ImageValidation","validate","image","errorCode","_wrapCallbacks","safeCallback","errorMsg","exception","callbackName","callbackFunc","FineUploaderBasic","disableCancelForFormUploads","warnBeforeUnload","filenameParam","forceMultipart","omitDefaultParams","paramsInBody","requireSuccessJson","totalFileSizeName","maxHeight","maxWidth","minHeight","maybeXhr","maybeXhrOrXdr","attemptNumber","fileOrBlobData","typeError","sizeError","minSizeError","emptyError","noFilesError","maxHeightImageError","maxWidthImageError","minHeightImageError","minWidthImageError","retryFailTooManyItems","concurrent","mandatory","paramNames","partByteOffset","chunkSize","totalFileSize","totalParts","partSize","jsonPayload","resetOnStatus","recordsExpireIn","resuming","customKeys","fileOrBlobName","sendCredentials","interceptSubmit","customResizer","sendOriginal","orient","defaultType","defaultQuality","failureText","includeExif","sizes","ImageGenerator","_scaler","handleNewFile","TotalProgress","entry","AjaxRequester","shouldParamsBeInQueryString","queue","requestData","acceptHeader","validMethods","contentType","mandatedParams","allowXRequestedWithAndCacheControl","successfulResponseCodes","DELETE","PATCH","POST","PUT","GET","onSend","isXdr","getXhrOrXdr","suppliedXhr","ontimeout","onprogress","getCorsAjaxTransport","dequeue","sendRequest","xdrError","responseCode","optXhr","url","onDemandParams","additionalParams","getParams","payload","additionalQueryParams","addToPath","createUrl","getXdrLoadHandler","getXdrErrorHandler","onreadystatechange","readyState","getXhrReadyStateChangeHandler","lengthComputable","registerForUploadProgress","onDemandHeaders","additionalHeaders","allHeaders","setRequestHeader","containsNonSimple","header","setHeaders","send","initTransport","cacheBuster","withPath","appendToPath","withParams","withQueryParams","_additionalQueryParams_","withHeaders","withPayload","thePayload","withCacheBuster","qqtimestamp","getTime","prepareToSend","canceled","UploadHandler","proxy","fileState","fileItem","getThirdPartyFileId","_getFileState","_setThirdPartyFileId","thirdPartyFileId","_wasCanceled","preventRetryResponse","controller","chunkingPossible","concurrentChunkingPossible","chunked","chunkIdx","_getChunkData","attemptingResume","chunkProgress","_getChunkDataForCallback","finalize","finalizeChunks","normaizedResponse","normalizeResponse","_maybeDeletePersistedChunkData","cleanup","normalizedResponse","handleFailure","clearCachedChunk","inProgressIdx","responseToReport","inProgressChunksArray","inProgress","remaining","unshift","ignoreFailure","_getXhrs","ckid","ckXhr","abort","_cancelled","moveInProgressToRemaining","connectionManager","free","hasMoreParts","nextPart","nextIdx","_getTotalChunks","reevaluateChunking","sendNext","inProgressChunks","available","requestOverrides","uploadChunkData","overrides","uploadChunk","inProgressChunkIdx","_maybePersistChunkedState","clearXhr","_open","_openChunks","_waiting","openChunkEntriesCount","openChunksCount","openChunkIndexes","dontAllowNext","nextId","allowNext","waitingIndex","connectionsIndex","getProxyOrBlob","getWaitingOrConnected","waitingOrConnected","isUsingConnection","openChunksEntry","simple","uploadFile","maybeNewUuid","_clearXhrs","getProxy","initHandler","handlerType","traditional","handlerModuleSubtype","onFinalizing","_removeExpiredChunkingRecords","isDeferredEligibleForUpload","maybeDefer","generatedBlob","updateBlob","maybeSendDeferredFiles","errorResponse","idsInGroup","uploadedThisId","idInGroup","now","originalResponse","_shouldChunkThisFile","blobToUpload","cancelRetVal","isProxied","_getLocalStorageId","isAttemptingResume","WindowReceiveMessage","callbackWrapperDetachers","receiveMessage","stopReceivingMessages","detacher","FormUploadHandler","formHandlerInstanceId","onloadCallbacks","detachLoadEvents","postMessageCallbackTimers","isCors","corsMessageReceiver","getFileIdForIframeName","iframeName","iframe","getElementById","_getIframeName","expungeFile","_attachLoadEvent","responseDescriptor","onloadCallback","_parseJsonResponse","_detachLoadEvent","registerPostMessageCallback","contentDocument","_createIframe","initIframeForUpload","_initFormForUpload","targetName","innerHtmlOrMessage","XhrUploadHandler","getChunkSize","chunkFiles","resumeEnabled","xhrId","ajaxRequester","_getAjaxRequester","blobOrProxy","_initTempState","_maybePrepareForResume","cachedChunks","tempState","xhrs","ajaxRequesters","responseParser","lastChunkIdx","_getXhr","resumableFilesData","_iterateResumeRecords","notResumable","optInProgress","optRemaining","chunkingState","paused","totalChunks","parts","newBlob","chunkId","_createXhr","optChunkIdx","_registerXhr","chunkIndex","fileSize","startBytes","endBytes","part","count","startByte","endByte","localStorageId","_getMimeType","_getPersistableData","ceil","_markNotResumable","persistedData","lastUpdated","_registerProgressHandler","progressCalculator","totalSuccessfullyLoadedForFile","loadedForRequest","totalForRequest","estActualChunkLoaded","totalLoadedForFile","chunkLoaded","optAjaxRequester","xhrsId","expirationDays","expirationDate","setDate","getDate","requester","_method","renderImageToCanvas","img","doSquash","modifiedDimensions","iw","naturalWidth","ih","naturalHeight","ctx","getContext","save","resizeInfo","imageHeight","imageWidth","orientation","sourceCanvas","sourceCanvasContext","targetCanvas","targetHeight","targetWidth","transformCoordinate","drawImage","qqImageRendered","renderImageToCanvasWithCustomResizer","origHeight","origWidth","newHeight","sqrt","newWidth","maybeCalculateDownsampledDimensions","getImageData","detectSubsampling","tmpCtx","sx","dx","tmpCanvas","vertSquashRatio","ratio","sy","ey","py","detectVerticalSquash","dw","dh","dy","clearRect","restore","translate","rotate","PI","MegaPixImage","srcImage","errorCallback","Image","URL","createObjectURL","webkitURL","imageLoadListeners","render","oldTargetSrc","imgWidth","imgHeight","optionsKey","optionsValue","renderImageToDataURL","onrender","isImg","isCanvas","determineMimeOfFileName","nameWithPath","pathSegments","isCrossOrigin","targetProtocol","targetHostname","targetPort","targetAnchor","href","protocol","port","hostname","registerThumbnailRenderedListener","registered","registerImgLoadListeners","registerCanvasDrawImageListener","drawOnCanvasOrImgFromUrl","canvasOrImg","draw","tempImg","tempImgRender","crossOrigin","drawOnImgFromUrlWithCssScaling","drawFromUrl","fileBlobOrUrl","drawPreview","Identify","megapixErrorHandler","isPreviewable","dummyExif","exif","Exif","mpImg","Orientation","failureMsg","_testing","TAG_IDS","TAG_INFO","274","parseLittleEndian","hex","getApp1Offset","seekToApp1","theOffset","thePromise","segmentLength","parser","onParseFailure","app1Offset","app1Start","littleEndian","getDirEntryCount","dirEntryCount","dirEntries","getIfd","ifdHex","getDirEntries","tagValues","tagsToFind","vals","tagValHex","tagValLength","idHex","tagsToFindIdx","getTagValues","previewable","isPreviewableSync","PREVIEWABLE_MIME_TYPES","questionableBytes","identifiable","magicBytesEntries","magicBytesArrayEntry","fileMime","isRecognizedImage","limits","sizeDetermination","validationEffort","atLeastOne","hasNonZeroLimits","dimensions","failingLimit","limitName","limitValue","limitMatcher","dimensionPropName","actualValue","getFailingLimit","handleFileItems","fileItems","someItemsIgnored","isJsonResponseValid","refreshEffort","requesterOptions","SessionAjaxRequester","queryServer","responseText","includeOriginal","failedToScaleText","_getSortedSizes","getFileRecords","originalFileUuid","originalFileName","originalBlobOrBlobData","originalBlob","sizeRecord","outputType","_determineOutputType","requestedType","refType","_getName","_generateScaledImage","failedText","api","param","scaledIds","originalId","blobSize","scaledId","qqparentuuid","qqparentsize","scalingEffort","scalingOptions","scaler","referenceType","scaledVersionProperties","startOfExt","versionType","scaledName","scaledExt","nameAppendage","sourceFile","imageGenerator","scaledImageDataUri","signalSuccess","_insertExifHeader","scaledImageDataUriWithExif","originalImage","reader","insertionEffort","originalImageDataUri","readAsDataURL","_dataUriToBlob","_createBlob","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","isNaN","KEY_STR","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","perFileProgress","totalLoaded","totalSize","lastLoadedSent","lastTotalSent","callbackProxy","onNew","updateTotalProgress","newLoaded","newTotal","oldLoaded","oldTotal","retryable","none","failedId","noRetryableFiles","detachPasteHandler","clipboardData","isImage","getAsFile","startUpload","formEl","validateForm","nativeSubmit","checkValidity","_form2Obj","determineNewEndpoint","submit","maybeUploadOnSubmit","determineFormEl","ignoreValue","selectValue","createForm","responseFromMessage","innerHtml","contentWindow","nodeValue","getIframeContentJson","multipart","allChunksDoneRequester","AllChunksDoneAjaxRequester","createReadyStateChangedHandler","onUploadOrChunkComplete","isErrorUploadResponse","parseResponse","sendChunksCompleteRequest","complete","getChunksCompleteParams","setParamsAndGetEntityToSend","entityToSendParams","xhrOverrides","customParams","defaultParams","xhrOverrideParams","setUploadHeaders","headersOptions","headerOverrides","headerName","headerValue","extraHeaders","uploadChunkParams","toSend","addChunkingSpecificParams","promises","endpointHandler","DragAndDrop","dropZones","maybeHideDropZones","uploadDropZones","droppedFiles","traverseFileTree","parseEntryPromise","qqPath","extractDirectoryPath","fileError","dropLog","fullPath","isDirectory","getFilesInDirectory","accumEntries","existingPromise","dirReader","createReader","readEntries","newEntries","entriesLeft","indexOfNameInFullPath","setupDropzone","dropArea","dropZone","UploadDropZone","HIDE_ZONES_EVENT_NAME","onEnter","dropActive","onLeaveNotDescendants","onDrop","uploadDropZone","pendingFolderPromises","handleDataTransferPromise","processingDroppedFiles","dropDisabled","allowMultipleItems","processingDroppedFilesComplete","dropError","filesAsArray","getElement","uploadDroppedFiles","isFileDrag","dragEvent","fileDrag","types","dropZoneElements","leavingDocumentOut","setupExtraDropzone","removeDropzone","dzs","targetEl","errorSpecifics","preventDrop","dropOutsideDisabled","dragoverShouldBeCanceled","isValidFileDrag","effectTest","dt","isSafari","effectAllowed","isOrSetDropDisabled","dropEffect","relatedTarget","elementFromPoint","clientX","clientY","hideZonesEvent","triggerUsingOldApi","createEvent","initEvent","triggerHidezonesEvent","uiPublicApi","_parent","_templating","addCacheToDom","clearFiles","addExtraDropzone","_dnd","removeExtraDropzone","getItemByFileId","isHiddenForever","getFileContainer","_setupDragAndDrop","_totalFilesInBatch","_filesInBatchAddedToUi","_setupClickAndEditEventHandlers","formattedFilename","updateFilename","uploadPaused","continued","uploadContinued","getId","fileContainerOrChildEl","getFileId","getDropTarget","qqDropTarget","uiPrivateApi","_removeFileItem","removeFile","_fileButtonsClickHandler","FileButtonsClickHandler","_bindFileButtonsClickEvent","_focusinEventSupported","_isEditFilenameEnabled","_filenameClickHandler","_bindFilenameClickEvent","_filenameInputFocusInHandler","_bindFilenameInputFocusInEvent","_filenameInputFocusHandler","_bindFilenameInputFocusEvent","dragAndDrop","extraDropzones","templating","defaultDropZone","getDropZone","showDropProcessing","hideDropProcessing","errorData","lvl","onDeleteFile","onRetry","onPause","onContinue","onGetName","isEditFilenamePossible","FilenameClickHandler","FilenameInputFocusHandler","_filenameEditHandler","onGetUploadStatus","onSetName","onEditingStatusChange","isEditing","qqInput","getEditInput","qqFileContainer","hideFilename","hideEditIcon","showFilename","showEditIcon","markFilenameEditable","hideRetry","setStatusText","_classes","retrying","hidePause","FilenameInputFocusInHandler","hideSpinner","resetTotalProgress","reportDirectoryPaths","qqpath","_addToList","addHandler","updateProgress","hideCancel","hideProgress","waitingForResponse","_displayFileSize","parentRetVal","completeUpload","_markFileAsSuccessful","fail","showCancel","isRetryPossible","showRetry","_controlFailureTextDisplay","newResult","showDeleteButton","_maybeUpdateThumbnail","showSpinner","allowPause","retryNumForDisplay","maxAuto","retryNote","_showCancelLink","showAutoRetryNote","autoRetryNote","resetProgress","_onSubmitDeleteSuccess","forceConfirm","_showDeleteConfirm","_sendDeleteRequest","deletingFailedText","hideDeleteButton","deletingStatusText","confirmMessage","deleteRequestArgs","showConfirm","canned","prependData","prependIndex","dontDisplay","hideScaled","prependFiles","disableCancel","_handledProxyGroup","_clearList","addFileToCache","updateThumbnail","generatePreview","fileSizeOnSubmit","loadedSize","sizeForDisplay","_formatProgress","uploadedSize","formatProgress","responseProperty","failureReason","failedUploadTextDisplay","failUpload","enableTooltip","_showTooltip","showMessage","_setupPastePrompt","namePromptMessage","defaultVal","showPrompt","waitUntilResponse","listElement","editable","tooManyFilesError","unsupportedBrowser","promptForName","maxCount","notAvailablePath","waitingPath","timeBetweenThumbs","hasDialog","showDialog","confirm","defaultValue","prompt","Templating","templateIdOrEl","containerEl","fileContainerEl","maxThumbs","waitUntilUpdate","thumbnailNotAvailable","waitingForThumbnail","renderFailure","isEditElementsExist","isRetryElementExist","templateDom","showThumbnails","serverScale","fileBatch","isCancelDisabled","generatedThumbnails","thumbnailQueueMonitorRunning","thumbGenerationQueue","thumbnailMaxSize","selectorClasses","alertDialog","dialogCancelButton","confirmDialog","dialogMessage","dialogOkButton","promptDialog","uploader","drop","progressBarContainer","totalProgressBarContainer","totalProgressBar","spinner","continueButton","deleteButton","statusText","editFilenameInput","editNameIcon","dropText","dropProcessing","dropProcessingSpinner","thumbnail","previewGeneration","cachedThumbnailNotAvailableImg","cachedWaitingForThumbnailImg","displayWaitingImg","waitingImgPlacement","maybeScalePlaceholderViaCss","generateNextQueuedPreview","queuedThumbRequest","processUpdateQueuedPreviewRequest","processNewQueuedPreviewRequest","getCancel","getTemplateEl","getContinue","getDialog","getDelete","getDropProcessing","getEditIcon","getPause","getProgress","getRetry","getSpinner","cssClass","getThumbnail","maybeSetDisplayNotAvailableImg","previewing","notAvailableImgPlacement","optFileOrBlob","relatedThumbnailId","qqThumbnailId","useCachedPreview","generateNewPreview","showWaitingImg","setProgressBarWidth","percent","bar","progressBarSelector","targetThumbnailId","cachedThumbnailId","targetThumbnail","cachedThumbnail","scriptEl","scriptHtml","fileListNode","tempTemplateEl","fileListEl","defaultButton","dropTextEl","uploaderEl","cloneNode","fileTemplate","parseAndGetTemplate","notAvailableUrl","waitingUrl","updatedImg","cacheThumbnailPlaceholders","hideTotalProgress","cantRenderEl","prependInfo","hideForever","batch","thumb","fileEl","fileNameEl","parentEl","beforeEl","prependFile","waitingImg","getFileList","filenameEl","isFileName","icon","isEditIcon","isEditInput","isCancel","allowContinueButton","isPause","isContinueButton","isDeleteButton","isRetry","textEl","dialog","messageEl","inputEl","cancelBtn","okBtn","closeHandler","cancelClickHandler","okClickHandler","showModal","UiEventHandler","protectedApi","attachTo","onHandled","srcElement","getFileIdFromItem","qqFileId","getDisposeSupport","buttonHandlers","buttonType","firstLetterCapButtonType","inheritedInternalApi","handleFilenameEdit","FilenameEditHandler","handleNameUpdate","newFilenameInputEl","origExtension","origName","getOriginalExtension","focusInput","filenameSansExt","registerInputBlurHandler","which","registerInputEnterKeyHandler","iterator","targetModal","triggers","onShow","onClose","openTrigger","u","f","closeTrigger","h","openClass","g","disableScroll","disableFocus","w","awaitCloseAnimation","E","awaitOpenAnimation","M","A","debugMode","C","modal","registerTriggers","onClick","onKeydown","Boolean","scrollBehaviour","setFocusToFirstNode","closeModal","retainFocus","getFocusableNodes","closeModalById","argumentAsArray","argument","Node","eachNode","nodeList","NodeList","isElementList","throwError","arrayAsSelector","nodeListAsArray","nodes","findParentBySelector","$el","$root","elementHasSelector","elementHasOverflowHidden","elementScrollTopOnStart","elementScrollTopOnEnd","elementScrollLeftOnStart","elementScrollLeftOnEnd","elementIsScrollableField","elementIsInputRange","getScrollState","clearQueueScrollLocks","scroll_lock_getTargetScrollBarWidth","scroll_lock_getCurrentTargetScrollBarWidth","getPageScrollBarWidth","getCurrentPageScrollBarWidth","scroll_lock_addScrollableTarget","scroll_lock_removeScrollableTarget","scroll_lock_addScrollableSelector","scroll_lock_removeScrollableSelector","scroll_lock_addLockableTarget","scroll_lock_addLockableSelector","scroll_lock_setFillGapMethod","scroll_lock_addFillGapTarget","scroll_lock_removeFillGapTarget","scroll_lock_addFillGapSelector","scroll_lock_removeFillGapSelector","refillGaps","FILL_GAP_AVAILABLE_METHODS","scrollableSelectors","lockableSelectors","fillGapSelectors","fillGapMethod","startTouchY","startTouchX","scroll_lock_hideLockableOverflow","fillGaps","scroll_lock_showLockableOverflow","unfillGaps","$target","onlyExists","currentOverflowYProperty","documentWidth","borderLeftWidthCurrentProperty","borderLeftWidth","borderRightWidthCurrentProperty","borderRightWidth","_currentWidth","$targets","sSelector","methods","scroll_lock_fillGapTarget","scroll_lock_unfillGapTarget","scroll_lock_fillGapSelector","fSelector","scroll_lock_unfillGapSelector","scroll_lock_hideLockableOverflowSelector","scroll_lock_showLockableOverflowSelector","scroll_lock_hideLockableOverflowTarget","scroll_lock_showLockableOverflowTarget","computedStyle","isLockable","scrollBarWidth","$lockableParent","currentMargin","currentPadding","paddingRight","currentFillGapMethod","currentClientY","currentClientX","up","down","directionWithOffset","handle","skip","parentScrollableEl","prevent","deprecatedMethods","getWidth","getCurrentWidth","setScrollableTargets","setFillGapSelectors","setFillGapTargets","clearQueue","scrollLock","_objectSpread","getTargetScrollBarWidth","getCurrentTargetScrollBarWidth","addScrollableSelector","removeScrollableSelector","addScrollableTarget","removeScrollableTarget","addLockableSelector","addLockableTarget","addFillGapSelector","removeFillGapSelector","addFillGapTarget","removeFillGapTarget","setFillGapMethod","_state","ROUND_ARROW","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","invokeWithArgsOrReturn","ms","timeout","removeProperties","normalizeToArray","pushIfUnique","arrayFrom","removeUndefinedProps","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","setTransitionDuration","els","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","updateTransitionEndListener","box","actualContains","_target$getRootNode","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","onWindowBlur","isVisible","visitedMessages","isIE11","msCrypto","createMemoryLeakWarning","clean","getDevMessage","getFormattedMessage","warnWhen","_console","errorWhen","_console2","pluginProps","animateFill","followCursor","inlinePositioning","sticky","defaultProps","appendTo","aria","expanded","delay","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveBorder","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onDestroy","onHidden","onHide","onMount","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","showOnCreate","touch","trigger","triggerTarget","animation","inertia","role","theme","zIndex","defaultKeys","getExtendedPassedProps","passedProps","plugin","_name","evaluateProps","props","out","valueAsString","getDataAttributeProps","validateProps","partialProps","nonPluginProps","didPassUnknownProp","dangerouslySetInnerHTML","createArrowElement","setContent","getChildren","boxChildren","backdrop","onUpdate","prevProps","nextProps","_getChildren","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentTransitionEndListener","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","debouncedOnMouseMove","onMouseMove","popperInstance","isEnabled","isMounted","isShown","clearDelayTimeouts","cancelAnimationFrame","setProps","invokeHook","removeListeners","addListeners","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","handleStyles","createPopperInstance","getNestedPopperTree","nestedPopper","isAlreadyVisible","isTouchAndTouchDisabled","getCurrentTarget","getIsDefaultRenderFn","visibility","addDocumentPress","transition","_getDefaultTemplateCh2","getDefaultTemplateChildren","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","handleAriaContentAttribute","onTransitionEnd","onTransitionedIn","nextElementSibling","mount","isAlreadyHidden","removeDocumentPress","_getDefaultTemplateCh4","onTransitionedOut","unmount","hideWithInteractivity","getDocument","destroyPopperInstance","_props$render","pluginsHooks","hasAriaExpanded","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","_instance$props$rende","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","nextValue","onDocumentPress","actualTarget","composedPath","onTouchMove","onTouchStart","on","onMouseLeave","onBlurOrFocusOut","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","popperTreeData","popperState","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","_instance$popperInsta","_instance$props2","computedReference","_getNormalizedTouchSe","touchValue","touchDelay","targets","optionalProps","didPassFalsyValue","didPassPlainObject","validateTargets","isSingleContentElement","isMoreThanOneReferenceElement","instances","setDefaultProps","hideAll","_temp","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","createSingleton","tippyInstances","_optionalProps$popper","individualInstances","references","triggerTargets","interceptSetPropsCleanups","shownOnCreate","setTriggerTargets","setReferences","enableInstances","interceptSetProps","singleton","originalSetProps","prepareInstance","overrideProps","_references$index","originalShow","ref","showNext","showPrevious","last","setInstances","nextInstances","BUBBLING_EVENTS_MAP","mouseover","focusin","click","delegate","childTippyInstances","nativeProps","parentProps","childProps","targetNode","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","createBackdropElement","transitionDelay","mouseCoords","activeInstances","storeMouseCoords","isInternalUpdate","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","isCursorOverReference","relativeX","relativeY","addMouseCoordsListener","removeMouseCoordsListener","cursorRectIndex","triedPlacements","currentBasePlacement","boundingRect","clientRects","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","_top","_bottom","getInlineBoundingClientRect","getClientRects","_getReferenceClientRect","addModifier","_props$popperOptions","getProps","cursorRect","shouldCheck","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","rectA","rectB"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./#src/js/script.js\");\n","export function adaptiveSizes() {\r\n    const mainW = document.querySelector('.main-w');\r\n    const headerMenu = document.querySelector('.header__menu');\r\n    const aside = document.querySelector('.aside');\r\n    const modal = document.querySelectorAll('.modal__content');\r\n\r\n    const sizes = {\r\n        desktop: 1250,\r\n        tablet: 768,\r\n        mobile: 320\r\n    };\r\n    \r\n\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n    //media\r\n\r\n    \r\n}","export function addField() {\r\n\r\n    const addEmail = document.querySelector('.addEmail');\r\n    const addTel = document.querySelector('.addTel');\r\n\r\n    const emailInput = document.createElement('input');\r\n    emailInput.setAttribute('type', 'text');\r\n    emailInput.setAttribute('placeholder', ' E-mail');\r\n    emailInput.style.cssText = 'margin-top: 10px';\r\n\r\n\r\n    const telInput = document.createElement('input');\r\n    telInput.setAttribute('type', 'text');\r\n    telInput.setAttribute('placeholder', '  ');\r\n    telInput.style.cssText = 'margin-top: 10px';\r\n\r\n\r\n    const addEmailBtn = document.querySelector('#addEmail');\r\n    const addTelBtn = document.querySelector('#addTel');\r\n\r\n    let counter = 0;\r\n\r\n    if(addEmailBtn) {\r\n        addEmailBtn.addEventListener('click', () => {\r\n            addEmail.append(emailInput);\r\n        });\r\n    }\r\n    \r\n\r\n    if(addTelBtn) {\r\n        addTelBtn.addEventListener('click', (e) => {\r\n            addTel.append(telInput);\r\n        });\r\n    }\r\n}","export function addFieldGroup() {\r\n    const flGrAadd = document.querySelector('#fsd');\r\n    \r\n    const flGr = `\r\n    <div class=\"partner-edit__form_wr\">\r\n    <div class=\"partner-edit__form_wr_del\" id=\"formGroupDel\">\r\n                                \r\n                            </div>\r\n    <div class=\"partner-edit__form_item w-100 input\">\r\n        <div class=\"form__name\">\r\n             \r\n        </div>\r\n        <input type=\"text\" placeholder=\"  \">\r\n    </div>\r\n\r\n    <div class=\"partner-edit__form_item input\">\r\n        <div class=\"form__name\">\r\n            E-mail\r\n        </div>\r\n        <input type=\"email\" placeholder=\"ivanov@mail.ru\">\r\n    </div>\r\n\r\n    <div class=\"partner-edit__form_item input\">\r\n        <div class=\"form__name\">\r\n            \r\n        </div>\r\n        <input type=\"tel\" placeholder=\"+79990000000\">\r\n    </div>\r\n</div>\r\n    `\r\n\r\n    function delField() {\r\n        let delBtn = document.querySelectorAll('#formGroupDel');\r\n\r\n        delBtn.forEach(i => {\r\n            console.log(i.parentElement);\r\n            i.addEventListener('click', () => {\r\n                i.parentElement.remove();\r\n            });\r\n        });\r\n    }\r\n\r\n    delField();\r\n\r\n    if(flGrAadd) {\r\n        flGrAadd.addEventListener('click', () => {\r\n            flGrAadd.insertAdjacentHTML('beforebegin', flGr);\r\n            delField();\r\n            \r\n        });\r\n    }\r\n\r\n    // delBtn.forEach(i => {\r\n    //     console.log(i.parentElement);\r\n    //     i.addEventListener('click', () => {\r\n    //         i.parentElement.remove();\r\n    //     });\r\n    // });\r\n\r\n    \r\n\r\n\r\n}","import { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\n\r\nexport function decMoreInfo() {\r\n    const infoEl = document.querySelector('.dec-new__form_info');\r\n    const infoBtn = document.querySelector('.dec-new__form_more');\r\n    const infoClose = document.querySelector('.dec-new__form_info_close');\r\n\r\n\r\n    if(infoBtn) {\r\n\r\n        infoBtn.addEventListener('click', () => {\r\n            infoEl.classList.add('active');\r\n            disablePageScroll(infoEl);\r\n        });\r\n\r\n        infoClose.addEventListener('click', () => {\r\n            infoEl.classList.remove('active');\r\n            enablePageScroll(infoEl);\r\n\r\n        });\r\n\r\n    }\r\n}","import { FineUploader } from \"fine-uploader\";\r\n\r\nexport function dropFiles() {\r\n    \r\n    const ff = document.querySelectorAll(\"#fine-uploader-gallery\");\r\n    if(ff.length > 0) {\r\n        ff.forEach(i => {\r\n            var galleryUploader = new FineUploader({\r\n                element: i,\r\n                template: 'qq-template-gallery',\r\n                request: {\r\n                    endpoint: '/server/uploads'\r\n                },\r\n                thumbnails: {\r\n                    placeholders: {\r\n                        // waitingPath: '/source/placeholders/waiting-generic.png',\r\n                        // notAvailablePath: '/source/placeholders/not_available-generic.png'\r\n                    }\r\n                },\r\n                validation: {\r\n                    allowedExtensions: ['pdf', 'doc', 'txt']\r\n                }\r\n            });\r\n        })\r\n    }\r\n    \r\n}","import { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\n\r\nexport function mobMenu() {\r\n\r\n    const menu = document.querySelector('.aside');\r\n    const menuContent = document.querySelector('.aside__mob');\r\n    const menuBtn = document.querySelector('.header__menu_burger');\r\n\r\n\r\n    if(menu && menuBtn) {\r\n\r\n        menuBtn.addEventListener('click', () => {\r\n            menu.classList.add('active');\r\n            disablePageScroll(menuContent);\r\n        });\r\n\r\n        menu.addEventListener('click', (e) => {\r\n            if(e.target && e.target.classList.contains('aside')) {\r\n                menu.classList.remove('active');\r\n                enablePageScroll(menuContent);\r\n            }\r\n        })\r\n    }\r\n}","import MicroModal from 'micromodal';\r\n\r\nexport function modals() {\r\n    MicroModal.init();\r\n} ","export function searchResults() {\r\n    const results = document.querySelectorAll('.partner-add__result_item');\r\n    if(results.length > 0) {\r\n        results.forEach(result => {\r\n            result.addEventListener('click', (e) => {\r\n                results.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n    \r\n                result.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n    \r\n}","import Choices from 'choices.js';\r\n\r\nexport function select() {\r\n\r\n    const selectEls = document.querySelectorAll('.choices');\r\n\r\n    if(selectEls) {\r\n        selectEls.forEach(select => {\r\n            const choiceWithSearch = new Choices(select, {\r\n                allowHTML: true,\r\n                itemSelectText: '',\r\n                noResultsText: ' ',\r\n                \r\n            });\r\n        });\r\n    }\r\n}","export function stepChange() {\r\n    const radioBtns = document.querySelectorAll('.legacyType');\r\n    const formNames = document.querySelectorAll('.legacyName');\r\n    radioBtns.forEach((btn, index) => {\r\n        btn.addEventListener('click', (e) => {\r\n            if(index == 0) {\r\n                if(btn.checked) {\r\n\r\n                    formNames.forEach((i, index) =>  {\r\n                        if(index == 0) {\r\n                            i.innerHTML = '';\r\n                        }\r\n\r\n                        if(index == 1) {\r\n                            i.innerHTML = '';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if(index == 1) {\r\n                if(btn.checked) {\r\n\r\n                    formNames.forEach((i, index) =>  {\r\n                        if(index == 0) {\r\n                            i.innerHTML = ' ';\r\n                        }\r\n\r\n                        if(index == 1) {\r\n                            i.innerHTML = ' ';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        \r\n    });\r\n}","export function tableDrop() {\r\n    \r\n    if(window.innerWidth <= 1200) {\r\n        const tableRow = document.querySelectorAll('.table__row_dropdown');\r\n\r\n\r\n        if(tableRow.length > 0) {\r\n\r\n            tableRow.forEach(row => {\r\n                row.addEventListener('click', (e) => {\r\n                    \r\n                    let dropRow = e.currentTarget.querySelectorAll('.table__row_item_mob');\r\n                    let editBtn = e.currentTarget.querySelector('.table__row_item_edit');\r\n\r\n                    let dropSmob = e.currentTarget.querySelector('.table__row_item_smob');\r\n\r\n                    if(e.target && e.target.hasAttribute('data-table-drop')) {\r\n                        console.log('yes');\r\n\r\n                        row.classList.toggle('active');\r\n\r\n                        if(row.classList.contains('active')) {\r\n\r\n                            dropRow.forEach(i => {\r\n                                i.style.cssText = `height: ${i.scrollHeight}px; padding-top: 20px`;\r\n                            });\r\n\r\n                            editBtn.style.cssText = `height: ${editBtn.scrollHeight}px; padding-top: 10px`;\r\n\r\n                            if(window.innerWidth <= 600) {\r\n                                dropSmob.style.cssText = `height: ${dropSmob.scrollHeight}px; padding-top: 20px`;\r\n                            }\r\n                        }\r\n\r\n\r\n                        if(!row.classList.contains('active')) {\r\n\r\n                            dropRow.forEach(i => {\r\n                                i.style.cssText = `height: 0px; padding-top: 0px`;\r\n                            });\r\n\r\n                            editBtn.style.cssText = `height: 0px; padding-top: 0`;\r\n\r\n                            if(window.innerWidth <= 600) {\r\n                                dropSmob.style.cssText = `height: 0px; padding-top: 0px`;\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        console.log('no');\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n}","export function tableHead() {\r\n    const tableHeads = document.querySelectorAll('.table__headrow_item');\r\n\r\n    if(tableHeads.length > 0) {\r\n        tableHeads.forEach(item => {\r\n            item.addEventListener('click', (e) => {\r\n                tableHeads.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n\r\n                item.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n}","export function tabsFunc(wrapper, parent, tabs, content) {\r\n    let tabsWrapper = document.querySelectorAll(wrapper);\r\n    \r\n\r\n    tabsWrapper.forEach(item => {\r\n\r\n        let tabsParent = item.querySelector(parent);\r\n        let tabsEl = item.querySelectorAll(tabs);\r\n        let tabsContent = item.querySelectorAll(content); \r\n\r\n        function hideTabs() {\r\n            tabsEl.forEach(i => {\r\n                i.classList.remove('active');\r\n            });\r\n    \r\n            tabsContent.forEach(i => {\r\n                i.classList.remove('active');\r\n            });\r\n        }\r\n    \r\n    \r\n        function showTabs(index = 0) {\r\n            tabsEl[index].classList.add('active');\r\n            tabsContent[index].classList.add('active');\r\n        }\r\n    \r\n    \r\n        if(tabsContent) {\r\n            hideTabs();\r\n            showTabs();\r\n    \r\n            tabsParent.addEventListener('click', (e) => {\r\n                let tar = e.target;\r\n    \r\n                if(tar && tar.dataset.tab == 'true') {\r\n                    tabsEl.forEach((item, index) => {\r\n                        if(tar == item) {\r\n                            hideTabs();\r\n                            showTabs(index);\r\n                        }\r\n                    });\r\n                    \r\n                }\r\n            });\r\n        }\r\n\r\n    });\r\n    \r\n\r\n    \r\n}","export function thirdPart() {\r\n\r\n    // const hiddenBlock = document.querySelector('.third__part');\r\n    // const toggleRadioBtns = document.querySelectorAll('.hiddenBlockToggler');\r\n\r\n    // toggleRadioBtns.forEach((btn, index) => {\r\n    //     btn.addEventListener('click', (e) => {\r\n    //         if(index == 2) {\r\n    //             hiddenBlock.style.display = 'block';\r\n    //         }\r\n\r\n    //         if(index == 3) {\r\n\r\n    //         }\r\n\r\n    //         if(index == 1) {\r\n\r\n    //         }\r\n\r\n    //         if(index == 0) {\r\n\r\n    //         }\r\n    //     });\r\n    // });\r\n\r\n}","import tippy from 'tippy.js';\r\n\r\n\r\nexport function tooltip() {\r\n\r\n    const wr = document.querySelector('.dec-new__form_body_part_checklist');\r\n\r\n    if(wr) {\r\n        tippy('#tt1', {\r\n            content: document.querySelector('#tt1').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n    \r\n        \r\n        tippy('#tt2', {\r\n            content: document.querySelector('#tt2').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt3', {\r\n            content: document.querySelector('#tt3').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt4', {\r\n            content: document.querySelector('#tt4').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt5', {\r\n            content: document.querySelector('#tt5').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt6', {\r\n            content: document.querySelector('#tt6').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt7', {\r\n            content: document.querySelector('#tt7').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt8', {\r\n            content: document.querySelector('#tt8').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt9', {\r\n            content: document.querySelector('#tt9').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n}","import { select } from './components/select';\r\nimport { adaptiveSizes } from './components/adaptiveSizes';\r\nimport { searchResults } from './components/searchResults';\r\nimport { dropFiles } from './components/dropFiles';\r\nimport { modals } from './components/modals';\r\nimport { tableHead } from './components/tableHead';\r\nimport { tabsFunc } from './components/tabsFunc';\r\nimport { thirdPart } from './components/thirdPart';\r\nimport { stepChange } from './components/stepChange';\r\nimport { addField } from './components/addField';\r\nimport { addFieldGroup } from './components/addFieldGroup';\r\nimport { decMoreInfo } from './components/decMoreInfo';\r\nimport { tableDrop } from './components/tableDrop';\r\nimport { mobMenu } from './components/mobMenu';\r\nimport { tooltip } from './components/tooltip';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    modals();\r\n    select();\r\n    adaptiveSizes();\r\n    searchResults();\r\n    dropFiles();\r\n    tableHead();\r\n    tabsFunc('.tab-main-wrapper', '.dec-new__content_top', '.dec-new__content_top_item', '.dec-new__content_tab');\r\n    tabsFunc('.tab-wrapper', '.radio-tabs', '.radio-tabs__item', '.radio-content__item');\r\n    thirdPart();\r\n    stepChange();\r\n    addField();\r\n    addFieldGroup();\r\n    decMoreInfo();\r\n    tableDrop();\r\n    mobMenu();\r\n    tooltip();\r\n\r\n    tabsFunc('.cp__content', '.cp__content_head_tabs', '.cp__content_head_tab', '.cp__content_body_item');\r\n});\r\n\r\n\r\n\r\n\r\n\r\n","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import { isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nexport default function getBoundingClientRect(element, includeScale) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  var rect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (isHTMLElement(element) && includeScale) {\n    var offsetHeight = element.offsetHeight;\n    var offsetWidth = element.offsetWidth; // Do not attempt to divide by 0, otherwise we get `Infinity` as scale\n    // Fallback to 1 in case both values are `0`\n\n    if (offsetWidth > 0) {\n      scaleX = round(rect.width) / offsetWidth || 1;\n    }\n\n    if (offsetHeight > 0) {\n      scaleY = round(rect.height) / offsetHeight || 1;\n    }\n  }\n\n  return {\n    width: rect.width / scaleX,\n    height: rect.height / scaleY,\n    top: rect.top / scaleY,\n    right: rect.right / scaleX,\n    bottom: rect.bottom / scaleY,\n    left: rect.left / scaleX,\n    x: rect.left / scaleX,\n    y: rect.top / scaleY\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}","import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)`\n    .filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    }).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (modifier.effect != null && typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (modifier.requires != null && !Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","/*! choices.js v10.0.0 |  2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 282:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addChoice = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      groupId = _a.groupId,\n      disabled = _a.disabled,\n      elementId = _a.elementId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addChoice = addChoice;\n\nvar filterChoices = function (results) {\n  return {\n    type: constants_1.ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n\nexports.filterChoices = filterChoices;\n\nvar activateChoices = function (active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: constants_1.ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n\nexports.activateChoices = activateChoices;\n\nvar clearChoices = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n\nexports.clearChoices = clearChoices;\n\n/***/ }),\n\n/***/ 783:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addGroup = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addGroup = function (_a) {\n  var value = _a.value,\n      id = _a.id,\n      active = _a.active,\n      disabled = _a.disabled;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n\nexports.addGroup = addGroup;\n\n/***/ }),\n\n/***/ 464:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.highlightItem = exports.removeItem = exports.addItem = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addItem = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      choiceId = _a.choiceId,\n      groupId = _a.groupId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addItem = addItem;\n\nvar removeItem = function (id, choiceId) {\n  return {\n    type: constants_1.ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n\nexports.removeItem = removeItem;\n\nvar highlightItem = function (id, highlighted) {\n  return {\n    type: constants_1.ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n\nexports.highlightItem = highlightItem;\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setIsLoading = exports.resetTo = exports.clearAll = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar clearAll = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_ALL\n  };\n};\n\nexports.clearAll = clearAll;\n\nvar resetTo = function (state) {\n  return {\n    type: constants_1.ACTION_TYPES.RESET_TO,\n    state: state\n  };\n};\n\nexports.resetTo = resetTo;\n\nvar setIsLoading = function (isLoading) {\n  return {\n    type: constants_1.ACTION_TYPES.SET_IS_LOADING,\n    isLoading: isLoading\n  };\n};\n\nexports.setIsLoading = setIsLoading;\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar deepmerge_1 = __importDefault(__webpack_require__(996));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar fuse_js_1 = __importDefault(__webpack_require__(221));\n\nvar choices_1 = __webpack_require__(282);\n\nvar groups_1 = __webpack_require__(783);\n\nvar items_1 = __webpack_require__(464);\n\nvar misc_1 = __webpack_require__(137);\n\nvar components_1 = __webpack_require__(520);\n\nvar constants_1 = __webpack_require__(883);\n\nvar defaults_1 = __webpack_require__(789);\n\nvar utils_1 = __webpack_require__(799);\n\nvar reducers_1 = __webpack_require__(655);\n\nvar store_1 = __importDefault(__webpack_require__(744));\n\nvar templates_1 = __importDefault(__webpack_require__(686));\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar Choices =\n/** @class */\nfunction () {\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    if (userConfig.allowHTML === undefined) {\n      console.warn('Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message.');\n    }\n\n    this.config = deepmerge_1.default.all([defaults_1.DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function (_, sourceArray) {\n        return __spreadArray([], sourceArray, true);\n      }\n    });\n    var invalidConfigOptions = (0, utils_1.diff)(this.config, defaults_1.DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === constants_1.TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === constants_1.SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === constants_1.SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(\"\".concat(this.config.renderSelectedChoices))) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new components_1.WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new components_1.WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function (data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_1.default();\n    this._initialState = reducers_1.defaultState;\n    this._currentState = reducers_1.defaultState;\n    this._prevState = reducers_1.defaultState;\n    this._currentValue = '';\n    this._canSearch = !!this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = (0, utils_1.generateId)(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var elementDirection = window.getComputedStyle(this.passedElement.element).direction;\n      var documentDirection = window.getComputedStyle(document.documentElement).direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    };\n\n    if (this._isSelectElement) {\n      // Assign preset groups from passed element\n      this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n      this._presetOptions = this.passedElement.options;\n    } // Assign preset choices from passed object\n\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value && this._isTextElement) {\n      var splitValues = this.passedElement.value.split(this.config.delimiter);\n      this._presetItems = this._presetItems.concat(splitValues);\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (option) {\n        _this._presetChoices.push({\n          value: option.value,\n          label: option.innerHTML,\n          selected: !!option.selected,\n          disabled: option.disabled || option.parentNode.disabled,\n          placeholder: option.value === '' || option.hasAttribute('placeholder'),\n          customProperties: option.dataset['custom-properties']\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onSelectKey = this._onSelectKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised', {\n          element: element\n        });\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  Object.defineProperty(Choices, \"defaults\", {\n    get: function () {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return templates_1.default;\n        }\n\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Choices.prototype.init = function () {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure();\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  Choices.prototype.destroy = function () {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = templates_1.default;\n    this.initialised = false;\n  };\n\n  Choices.prototype.enable = function () {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.disable = function () {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.highlightItem = function (item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightItem = function (item) {\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, false));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  Choices.prototype.highlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItemsByValue = function (value) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItems = function (excludedId) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (_a) {\n      var id = _a.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeHighlightedItems = function (runEvent) {\n    var _this = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  Choices.prototype.showDropdown = function (preventInputFocus) {\n    var _this = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.show();\n\n      _this.containerOuter.open(_this.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this._canSearch) {\n        _this.input.focus();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.hideDropdown = function (preventInputBlur) {\n    var _this = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.hide();\n\n      _this.containerOuter.close();\n\n      if (!preventInputBlur && _this._canSearch) {\n        _this.input.removeActiveDescendant();\n\n        _this.input.blur();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.getValue = function (valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  };\n\n  Choices.prototype.setValue = function (items) {\n    var _this = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  Choices.prototype.setChoiceByValue = function (value) {\n    var _this = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  };\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n\n\n  Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher_1 = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line no-promise-executor-return\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this._handleLoadingState(true);\n        }).then(function () {\n          return fetcher_1;\n        }).then(function (data) {\n          return _this.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this._handleLoadingState(false);\n        }).then(function () {\n          return _this;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher_1)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher_1, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this._addGroup({\n          id: groupOrChoice.id ? parseInt(\"\".concat(groupOrChoice.id), 10) : null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        var choice = groupOrChoice;\n\n        _this._addChoice({\n          value: choice[value],\n          label: choice[label],\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: choice.customProperties\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  Choices.prototype.clearChoices = function () {\n    this._store.dispatch((0, choices_1.clearChoices)());\n\n    return this;\n  };\n\n  Choices.prototype.clearStore = function () {\n    this._store.dispatch((0, misc_1.clearAll)());\n\n    return this;\n  };\n\n  Choices.prototype.clearInput = function () {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n\n    return this;\n  };\n\n  Choices.prototype._render = function () {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  Choices.prototype._renderChoices = function () {\n    var _this = this;\n\n    var _a = this._store,\n        activeGroups = _a.activeGroups,\n        activeChoices = _a.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        var notice = this._getTemplate('notice', canAddItem.notice);\n\n        this.choiceList.append(notice);\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem = void 0;\n      var notice = void 0;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  Choices.prototype._renderItems = function () {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  Choices.prototype._createGroupsFragment = function (groups, choices, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function (group) {\n      return choices.filter(function (choice) {\n        if (_this._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  Choices.prototype._createChoicesFragment = function (choices, fragment, withinGroup) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    } // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n\n\n    var _a = this.config,\n        renderSelectedChoices = _a.renderSelectedChoices,\n        searchResultLimit = _a.searchResultLimit,\n        renderChoiceLimit = _a.renderChoiceLimit;\n    var filter = this._isSearching ? utils_1.sortByScore : this.config.sorter;\n\n    var appendChoice = function (choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this._getTemplate('choice', choice, _this.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _b = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _b.placeholderChoices,\n        normalChoices = _b.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? __spreadArray(__spreadArray([], placeholderChoices, true), normalChoices, true) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  Choices.prototype._createItemsFragment = function (items, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    } // Create fragment to add elements to\n\n\n    var _a = this.config,\n        shouldSortItems = _a.shouldSortItems,\n        sorter = _a.sorter,\n        removeItemButton = _a.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items.map(function (_a) {\n        var value = _a.value;\n        return value;\n      }).join(this.config.delimiter);\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function (item) {\n      // Create new list element\n      var listItem = _this._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  Choices.prototype._triggerChange = function (value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.change, {\n      value: value\n    });\n  };\n\n  Choices.prototype._selectPlaceholderChoice = function (placeholderChoice) {\n    this._addItem({\n      value: placeholderChoice.value,\n      label: placeholderChoice.label,\n      choiceId: placeholderChoice.id,\n      groupId: placeholderChoice.groupId,\n      placeholder: placeholderChoice.placeholder\n    });\n\n    this._triggerChange(placeholderChoice.value);\n  };\n\n  Choices.prototype._handleButtonAction = function (activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode && element.parentNode.dataset.id;\n    var itemToRemove = itemId && activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    });\n\n    if (!itemToRemove) {\n      return;\n    } // Remove item associated with button\n\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement && this._store.placeholderChoice) {\n      this._selectPlaceholderChoice(this._store.placeholderChoice);\n    }\n  };\n\n  Choices.prototype._handleItemAction = function (activeItems, element, hasShiftKey) {\n    var _this = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.dataset.id; // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(\"\".concat(passedId), 10) && !item.highlighted) {\n        _this.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  Choices.prototype._handleChoiceAction = function (activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = id && this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : undefined;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(constants_1.EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._handleBackspace = function (activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  Choices.prototype._startLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(true));\n  };\n\n  Choices.prototype._stopLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(false));\n  };\n\n  Choices.prototype._handleLoadingState = function (setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\".concat(this.config.classNames.placeholder));\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n\n          if (placeholderItem) {\n            this.itemList.append(placeholderItem);\n          }\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (placeholderItem) {\n          placeholderItem.innerHTML = this._placeholderValue || '';\n        }\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  Choices.prototype._handleSearch = function (value) {\n    if (!this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _a = this.config,\n        searchFloor = _a.searchFloor,\n        searchChoices = _a.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value !== null && typeof value !== 'undefined' && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(constants_1.EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n  };\n\n  Choices.prototype._canAddItem = function (activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = (0, utils_1.existsInArray)(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  Choices.prototype._searchChoices = function (value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === \"\".concat(currentValue, \" \")) {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: __spreadArray([], this.config.searchFields, true),\n      includeMatches: true\n    });\n    var fuse = new fuse_js_1.default(haystack, options);\n    var results = fuse.search(needle); // see https://github.com/krisk/Fuse/issues/303\n\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch((0, choices_1.filterChoices)(results));\n\n    return results.length;\n  };\n\n  Choices.prototype._addEventListeners = function () {\n    var documentElement = document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  Choices.prototype._removeEventListeners = function () {\n    var documentElement = document.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  };\n\n  Choices.prototype._onKeyDown = function (event) {\n    var keyCode = event.keyCode;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var wasAlphaNumericChar = /[a-zA-Z0-9-_ ]/.test(keyString);\n    var BACK_KEY = constants_1.KEY_CODES.BACK_KEY,\n        DELETE_KEY = constants_1.KEY_CODES.DELETE_KEY,\n        ENTER_KEY = constants_1.KEY_CODES.ENTER_KEY,\n        A_KEY = constants_1.KEY_CODES.A_KEY,\n        ESC_KEY = constants_1.KEY_CODES.ESC_KEY,\n        UP_KEY = constants_1.KEY_CODES.UP_KEY,\n        DOWN_KEY = constants_1.KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = constants_1.KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = constants_1.KEY_CODES.PAGE_DOWN_KEY;\n\n    if (!this._isTextElement && !hasActiveDropdown && wasAlphaNumericChar) {\n      this.showDropdown();\n\n      if (!this.input.isFocussed) {\n        /*\n          We update the input value with the pressed key as\n          the input was not focussed at the time of key press\n          therefore does not have the value of the key.\n        */\n        this.input.value += keyString.toLowerCase();\n      }\n    }\n\n    switch (keyCode) {\n      case A_KEY:\n        return this._onSelectKey(event, hasItems);\n\n      case ENTER_KEY:\n        return this._onEnterKey(event, activeItems, hasActiveDropdown);\n\n      case ESC_KEY:\n        return this._onEscapeKey(hasActiveDropdown);\n\n      case UP_KEY:\n      case PAGE_UP_KEY:\n      case DOWN_KEY:\n      case PAGE_DOWN_KEY:\n        return this._onDirectionKey(event, hasActiveDropdown);\n\n      case DELETE_KEY:\n      case BACK_KEY:\n        return this._onDeleteKey(event, activeItems, hasFocusedInput);\n\n      default:\n    }\n  };\n\n  Choices.prototype._onKeyUp = function (_a) {\n    var target = _a.target,\n        keyCode = _a.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = constants_1.KEY_CODES.BACK_KEY,\n        deleteKey = constants_1.KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var wasRemovalKeyCode = keyCode === backKey || keyCode === deleteKey;\n      var userHasRemovedValue = wasRemovalKeyCode && target && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch((0, choices_1.activateChoices)(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.rawValue);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  Choices.prototype._onSelectKey = function (event, hasItems) {\n    var ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If CTRL + A or CMD + A have been pressed and there are items to select\n\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  Choices.prototype._onEnterKey = function (event, activeItems, hasActiveDropdown) {\n    var target = event.target;\n    var enterKey = constants_1.KEY_CODES.ENTER_KEY;\n    var targetWasButton = target && target.hasAttribute('data-button');\n\n    if (this._isTextElement && target && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\".concat(this.config.classNames.highlightedState));\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onEscapeKey = function (hasActiveDropdown) {\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n    var keyCode = event.keyCode,\n        metaKey = event.metaKey;\n    var downKey = constants_1.KEY_CODES.DOWN_KEY,\n        pageUpKey = constants_1.KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = constants_1.KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl = void 0;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\".concat(this.config.classNames.highlightedState));\n\n        if (currentEl) {\n          nextEl = (0, utils_1.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!(0, utils_1.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onDeleteKey = function (event, activeItems, hasFocusedInput) {\n    var target = event.target; // If backspace or delete key is pressed and the input has no value\n\n    if (!this._isSelectOneElement && !target.value && hasFocusedInput) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onTouchMove = function () {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  Choices.prototype._onTouchEnd = function (event) {\n    var target = (event || event.touches[0]).target;\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  };\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   */\n\n\n  Choices.prototype._onMouseDown = function (event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice = this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  };\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n\n\n  Choices.prototype._onMouseOver = function (_a) {\n    var target = _a.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  Choices.prototype._onClick = function (_a) {\n    var target = _a.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  Choices.prototype._onFocus = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var focusWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.containerOuter.addFocusState();\n      }\n    }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n      _this.containerOuter.addFocusState();\n\n      if (target === _this.input.element) {\n        _this.showDropdown(true);\n      }\n    }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this.containerOuter.addFocusState();\n      }\n    }, _b);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  Choices.prototype._onBlur = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var blurWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems_1 = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n        _this.containerOuter.removeFocusState();\n\n        if (target === _this.input.element || target === _this.containerOuter.element && !_this._canSearch) {\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          _this.hideDropdown(true);\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n        }\n      }, _b);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  Choices.prototype._onFormReset = function () {\n    this._store.dispatch((0, misc_1.resetTo)(this._initialState));\n  };\n\n  Choices.prototype._highlightChoice = function (el) {\n    var _this = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\".concat(this.config.classNames.highlightedState))); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  Choices.prototype._addItem = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.choiceId,\n        choiceId = _c === void 0 ? -1 : _c,\n        _d = _a.groupId,\n        groupId = _d === void 0 ? -1 : _d,\n        _e = _a.customProperties,\n        customProperties = _e === void 0 ? {} : _e,\n        _f = _a.placeholder,\n        placeholder = _f === void 0 ? false : _f,\n        _g = _a.keyCode,\n        keyCode = _g === void 0 ? -1 : _g;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch((0, items_1.addItem)({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null,\n      keyCode: keyCode\n    });\n  };\n\n  Choices.prototype._removeItem = function (item) {\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        customProperties = item.customProperties,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId && groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    if (!id || !choiceId) {\n      return;\n    }\n\n    this._store.dispatch((0, items_1.removeItem)(id, choiceId));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.removeItem, {\n      id: id,\n      value: value,\n      label: label,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null\n    });\n  };\n\n  Choices.prototype._addChoice = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.isSelected,\n        isSelected = _c === void 0 ? false : _c,\n        _d = _a.isDisabled,\n        isDisabled = _d === void 0 ? false : _d,\n        _e = _a.groupId,\n        groupId = _e === void 0 ? -1 : _e,\n        _f = _a.customProperties,\n        customProperties = _f === void 0 ? {} : _f,\n        _g = _a.placeholder,\n        placeholder = _g === void 0 ? false : _g,\n        _h = _a.keyCode,\n        keyCode = _h === void 0 ? -1 : _h;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choiceId);\n\n    this._store.dispatch((0, choices_1.addChoice)({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  Choices.prototype._addGroup = function (_a) {\n    var _this = this;\n\n    var group = _a.group,\n        id = _a.id,\n        _b = _a.valueKey,\n        valueKey = _b === void 0 ? 'value' : _b,\n        _c = _a.labelKey,\n        labelKey = _c === void 0 ? 'label' : _c;\n    var groupChoices = (0, utils_1.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function (choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this._addChoice({\n          value: choice[valueKey],\n          label: (0, utils_1.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  Choices.prototype._getTemplate = function (template) {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return (_a = this._templates[template]).call.apply(_a, __spreadArray([this, this.config], args, false));\n  };\n\n  Choices.prototype._createTemplates = function () {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, utils_1.strToEl);\n    }\n\n    this._templates = (0, deepmerge_1.default)(templates_1.default, userTemplates);\n  };\n\n  Choices.prototype._createElements = function () {\n    this.containerOuter = new components_1.Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new components_1.Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new components_1.Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new components_1.List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new components_1.List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new components_1.Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  Choices.prototype._createStructure = function () {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  Choices.prototype._addPredefinedGroups = function (groups) {\n    var _this = this; // If we have a placeholder option\n\n\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  Choices.prototype._addPredefinedChoices = function (choices) {\n    var _this = this; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var _a = choice.value,\n          value = _a === void 0 ? '' : _a,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this._addChoice({\n            value: value,\n            label: label,\n            isSelected: !!isSelected,\n            isDisabled: !!isDisabled,\n            placeholder: !!placeholder,\n            customProperties: customProperties\n          });\n        }\n      } else {\n        _this._addChoice({\n          value: value,\n          label: label,\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: customProperties\n        });\n      }\n    });\n  };\n\n  Choices.prototype._addPredefinedItems = function (items) {\n    var _this = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  Choices.prototype._setChoiceOrItem = function (item) {\n    var _this = this;\n\n    var itemType = (0, utils_1.getType)(item).toLowerCase();\n    var handleType = {\n      object: function () {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function () {\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  Choices.prototype._findAndSelectChoiceByValue = function (value) {\n    var _this = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this.config.valueComparer(choice.value, value);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  Choices.prototype._generatePlaceholderValue = function () {\n    if (this._isSelectElement && this.passedElement.placeholderOption) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : null;\n    }\n\n    var _a = this.config,\n        placeholder = _a.placeholder,\n        placeholderValue = _a.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return null;\n  };\n\n  return Choices;\n}();\n\nexports[\"default\"] = Choices;\n\n/***/ }),\n\n/***/ 613:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Container =\n/** @class */\nfunction () {\n  function Container(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        position = _a.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Container.prototype.addEventListeners = function () {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  Container.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   */\n\n\n  Container.prototype.shouldFlip = function (dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  };\n\n  Container.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Container.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Container.prototype.open = function (dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  Container.prototype.close = function () {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  Container.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Container.prototype.addFocusState = function () {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  Container.prototype.removeFocusState = function () {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  Container.prototype.enable = function () {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  Container.prototype.disable = function () {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  };\n\n  Container.prototype.wrap = function (element) {\n    (0, utils_1.wrap)(element, this.element);\n  };\n\n  Container.prototype.unwrap = function (element) {\n    if (this.element.parentNode) {\n      // Move passed element outside this element\n      this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n      this.element.parentNode.removeChild(this.element);\n    }\n  };\n\n  Container.prototype.addLoadingState = function () {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  Container.prototype.removeLoadingState = function () {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  Container.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Container.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\nexports[\"default\"] = Container;\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar Dropdown =\n/** @class */\nfunction () {\n  function Dropdown(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n\n  Object.defineProperty(Dropdown.prototype, \"distanceFromTopWindow\", {\n    /**\n     * Bottom position of dropdown in viewport coordinates\n     */\n    get: function () {\n      return this.element.getBoundingClientRect().bottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Dropdown.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n  /**\n   * Show dropdown to user by adding active state class\n   */\n\n\n  Dropdown.prototype.show = function () {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  };\n  /**\n   * Hide dropdown from user\n   */\n\n\n  Dropdown.prototype.hide = function () {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  return Dropdown;\n}();\n\nexports[\"default\"] = Dropdown;\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WrappedSelect = exports.WrappedInput = exports.List = exports.Input = exports.Container = exports.Dropdown = void 0;\n\nvar dropdown_1 = __importDefault(__webpack_require__(217));\n\nexports.Dropdown = dropdown_1.default;\n\nvar container_1 = __importDefault(__webpack_require__(613));\n\nexports.Container = container_1.default;\n\nvar input_1 = __importDefault(__webpack_require__(11));\n\nexports.Input = input_1.default;\n\nvar list_1 = __importDefault(__webpack_require__(624));\n\nexports.List = list_1.default;\n\nvar wrapped_input_1 = __importDefault(__webpack_require__(541));\n\nexports.WrappedInput = wrapped_input_1.default;\n\nvar wrapped_select_1 = __importDefault(__webpack_require__(982));\n\nexports.WrappedSelect = wrapped_select_1.default;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Input =\n/** @class */\nfunction () {\n  function Input(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        preventPaste = _a.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element.isEqualNode(document.activeElement);\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Object.defineProperty(Input.prototype, \"placeholder\", {\n    set: function (placeholder) {\n      this.element.placeholder = placeholder;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"value\", {\n    get: function () {\n      return (0, utils_1.sanitise)(this.element.value);\n    },\n    set: function (value) {\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"rawValue\", {\n    get: function () {\n      return this.element.value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Input.prototype.addEventListeners = function () {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  Input.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('input', this._onInput);\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n\n  Input.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  Input.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  Input.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Input.prototype.blur = function () {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  };\n\n  Input.prototype.clear = function (setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  };\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n\n\n  Input.prototype.setWidth = function () {\n    // Resize input to contents or placeholder\n    var _a = this.element,\n        style = _a.style,\n        value = _a.value,\n        placeholder = _a.placeholder;\n    style.minWidth = \"\".concat(placeholder.length + 1, \"ch\");\n    style.width = \"\".concat(value.length + 1, \"ch\");\n  };\n\n  Input.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Input.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Input.prototype._onInput = function () {\n    if (this.type !== constants_1.SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  };\n\n  Input.prototype._onPaste = function (event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  Input.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Input.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Input;\n}();\n\nexports[\"default\"] = Input;\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar constants_1 = __webpack_require__(883);\n\nvar List =\n/** @class */\nfunction () {\n  function List(_a) {\n    var element = _a.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  List.prototype.clear = function () {\n    this.element.innerHTML = '';\n  };\n\n  List.prototype.append = function (node) {\n    this.element.appendChild(node);\n  };\n\n  List.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n\n  List.prototype.hasChildren = function () {\n    return this.element.hasChildNodes();\n  };\n\n  List.prototype.scrollToTop = function () {\n    this.element.scrollTop = 0;\n  };\n\n  List.prototype.scrollToChildElement = function (element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  };\n\n  List.prototype._scrollDown = function (scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  };\n\n  List.prototype._scrollUp = function (scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  };\n\n  List.prototype._animateScroll = function (destination, direction) {\n    var _this = this;\n\n    var strength = constants_1.SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\nexports[\"default\"] = List;\n\n/***/ }),\n\n/***/ 730:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar WrappedElement =\n/** @class */\nfunction () {\n  function WrappedElement(_a) {\n    var element = _a.element,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n    get: function () {\n      return this.element.dataset.choice === 'active';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"dir\", {\n    get: function () {\n      return this.element.dir;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedElement.prototype.conceal = function () {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  WrappedElement.prototype.reveal = function () {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  WrappedElement.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  WrappedElement.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  WrappedElement.prototype.triggerEvent = function (eventType, data) {\n    (0, utils_1.dispatchEvent)(this.element, eventType, data);\n  };\n\n  return WrappedElement;\n}();\n\nexports[\"default\"] = WrappedElement;\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedInput =\n/** @class */\nfunction (_super) {\n  __extends(WrappedInput, _super);\n\n  function WrappedInput(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        delimiter = _a.delimiter;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.delimiter = delimiter;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedInput.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      this.element.setAttribute('value', value);\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return WrappedInput;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedInput;\n\n/***/ }),\n\n/***/ 982:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedSelect =\n/** @class */\nfunction (_super) {\n  __extends(WrappedSelect, _super);\n\n  function WrappedSelect(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        template = _a.template;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.template = template;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n    get: function () {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"optionGroups\", {\n    get: function () {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"options\", {\n    get: function () {\n      return Array.from(this.element.options);\n    },\n    set: function (options) {\n      var _this = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function (data) {\n        // Create a standard select option\n        var option = _this.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedSelect.prototype.appendDocFragment = function (fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  return WrappedSelect;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedSelect;\n\n/***/ }),\n\n/***/ 883:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SCROLLING_SPEED = exports.SELECT_MULTIPLE_TYPE = exports.SELECT_ONE_TYPE = exports.TEXT_TYPE = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = void 0;\nexports.EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice',\n  unhighlightItem: 'unhighlightItem'\n};\nexports.ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL',\n  RESET_TO: 'RESET_TO',\n  SET_IS_LOADING: 'SET_IS_LOADING'\n};\nexports.KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nexports.TEXT_TYPE = 'text';\nexports.SELECT_ONE_TYPE = 'select-one';\nexports.SELECT_MULTIPLE_TYPE = 'select-multiple';\nexports.SCROLLING_SPEED = 4;\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;\n\nvar utils_1 = __webpack_require__(799);\n\nexports.DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\nexports.DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  allowHTML: true,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: utils_1.sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function (value) {\n    return \"Press Enter to add <b>\\\"\".concat((0, utils_1.sanitise)(value), \"\\\"</b>\");\n  },\n  maxItemText: function (maxItemCount) {\n    return \"Only \".concat(maxItemCount, \" values can be added\");\n  },\n  valueComparer: function (value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: exports.DEFAULT_CLASSNAMES\n};\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 978:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 948:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n__exportStar(__webpack_require__(18), exports);\n\n__exportStar(__webpack_require__(978), exports);\n\n__exportStar(__webpack_require__(948), exports);\n\n__exportStar(__webpack_require__(359), exports);\n\n__exportStar(__webpack_require__(285), exports);\n\n__exportStar(__webpack_require__(533), exports);\n\n__exportStar(__webpack_require__(287), exports);\n\n__exportStar(__webpack_require__(132), exports);\n\n__exportStar(__webpack_require__(837), exports);\n\n__exportStar(__webpack_require__(598), exports);\n\n__exportStar(__webpack_require__(369), exports);\n\n__exportStar(__webpack_require__(37), exports);\n\n__exportStar(__webpack_require__(47), exports);\n\n__exportStar(__webpack_require__(923), exports);\n\n__exportStar(__webpack_require__(876), exports);\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 369:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 923:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.diff = exports.cloneObject = exports.existsInArray = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.wrap = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;\n\nvar getRandomNumber = function (min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexports.getRandomNumber = getRandomNumber;\n\nvar generateChars = function (length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return (0, exports.getRandomNumber)(0, 36).toString(36);\n  }).join('');\n};\n\nexports.generateChars = generateChars;\n\nvar generateId = function (element, prefix) {\n  var id = element.id || element.name && \"\".concat(element.name, \"-\").concat((0, exports.generateChars)(2)) || (0, exports.generateChars)(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = \"\".concat(prefix, \"-\").concat(id);\n  return id;\n};\n\nexports.generateId = generateId;\n\nvar getType = function (obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n\nexports.getType = getType;\n\nvar isType = function (type, obj) {\n  return obj !== undefined && obj !== null && (0, exports.getType)(obj) === type;\n};\n\nexports.isType = isType;\n\nvar wrap = function (element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.parentNode) {\n    if (element.nextSibling) {\n      element.parentNode.insertBefore(wrapper, element.nextSibling);\n    } else {\n      element.parentNode.appendChild(wrapper);\n    }\n  }\n\n  return wrapper.appendChild(element);\n};\n\nexports.wrap = wrap;\n\nvar getAdjacentEl = function (startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n\nexports.getAdjacentEl = getAdjacentEl;\n\nvar isScrolledIntoView = function (element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n\nexports.isScrolledIntoView = isScrolledIntoView;\n\nvar sanitise = function (value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n\nexports.sanitise = sanitise;\n\nexports.strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n\nvar sortByAlpha = function (_a, _b) {\n  var value = _a.value,\n      _c = _a.label,\n      label = _c === void 0 ? value : _c;\n  var value2 = _b.value,\n      _d = _b.label,\n      label2 = _d === void 0 ? value2 : _d;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n\nexports.sortByAlpha = sortByAlpha;\n\nvar sortByScore = function (a, b) {\n  var _a = a.score,\n      scoreA = _a === void 0 ? 0 : _a;\n  var _b = b.score,\n      scoreB = _b === void 0 ? 0 : _b;\n  return scoreA - scoreB;\n};\n\nexports.sortByScore = sortByScore;\n\nvar dispatchEvent = function (element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n\nexports.dispatchEvent = dispatchEvent;\n\nvar existsInArray = function (array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n\nexports.existsInArray = existsInArray;\n\nvar cloneObject = function (obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nexports.cloneObject = cloneObject;\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n\nvar diff = function (a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n\nexports.diff = diff;\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction choices(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        var addChoiceAction = action;\n        var choice = {\n          id: addChoiceAction.id,\n          elementId: addChoiceAction.elementId,\n          groupId: addChoiceAction.groupId,\n          value: addChoiceAction.value,\n          label: addChoiceAction.label || addChoiceAction.value,\n          disabled: addChoiceAction.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: addChoiceAction.customProperties,\n          placeholder: addChoiceAction.placeholder || false\n        };\n        /*\n          A disabled choice appears in the choice dropdown but cannot be selected\n          A selected choice has been added to the passed input's value (added as an item)\n          An active choice appears within the choice dropdown\n        */\n\n        return __spreadArray(__spreadArray([], state, true), [choice], false);\n      }\n\n    case 'ADD_ITEM':\n      {\n        var addItemAction_1 = action; // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n        if (addItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(addItemAction_1.choiceId), 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        var removeItemAction_1 = action; // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n\n        if (removeItemAction_1.choiceId && removeItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(removeItemAction_1.choiceId), 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        var filterChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = filterChoicesAction_1.results.some(function (_a) {\n            var item = _a.item,\n                score = _a.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        var activateChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = activateChoicesAction_1.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return exports.defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = choices;\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        var addGroupAction = action;\n        return __spreadArray(__spreadArray([], state, true), [{\n          id: addGroupAction.id,\n          value: addGroupAction.value,\n          active: addGroupAction.active,\n          disabled: addGroupAction.disabled\n        }], false);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = groups;\n\n/***/ }),\n\n/***/ 655:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\n\nvar redux_1 = __webpack_require__(857);\n\nvar items_1 = __importDefault(__webpack_require__(52));\n\nvar groups_1 = __importDefault(__webpack_require__(871));\n\nvar choices_1 = __importDefault(__webpack_require__(273));\n\nvar loading_1 = __importDefault(__webpack_require__(502));\n\nvar utils_1 = __webpack_require__(799);\n\nexports.defaultState = {\n  groups: [],\n  items: [],\n  choices: [],\n  loading: false\n};\nvar appReducer = (0, redux_1.combineReducers)({\n  items: items_1.default,\n  groups: groups_1.default,\n  choices: choices_1.default,\n  loading: loading_1.default\n});\n\nvar rootReducer = function (passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = exports.defaultState;\n  } else if (action.type === 'RESET_TO') {\n    return (0, utils_1.cloneObject)(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\nexports[\"default\"] = rootReducer;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction items(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        var addItemAction = action; // Add object to items array\n\n        var newState = __spreadArray(__spreadArray([], state, true), [{\n          id: addItemAction.id,\n          choiceId: addItemAction.choiceId,\n          groupId: addItemAction.groupId,\n          value: addItemAction.value,\n          label: addItemAction.label,\n          active: true,\n          highlighted: false,\n          customProperties: addItemAction.customProperties,\n          placeholder: addItemAction.placeholder || false,\n          keyCode: null\n        }], false);\n\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        var highlightItemAction_1 = action;\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === highlightItemAction_1.id) {\n            item.highlighted = highlightItemAction_1.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = items;\n\n/***/ }),\n\n/***/ 502:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = false;\n\nvar general = function (state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return action.isLoading;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexports[\"default\"] = general;\n\n/***/ }),\n\n/***/ 744:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nvar redux_1 = __webpack_require__(857);\n\nvar index_1 = __importDefault(__webpack_require__(655));\n\nvar Store =\n/** @class */\nfunction () {\n  function Store() {\n    this._store = (0, redux_1.createStore)(index_1.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   */\n\n\n  Store.prototype.subscribe = function (onChange) {\n    this._store.subscribe(onChange);\n  };\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   */\n\n\n  Store.prototype.dispatch = function (action) {\n    this._store.dispatch(action);\n  };\n\n  Object.defineProperty(Store.prototype, \"state\", {\n    /**\n     * Get store object (wrapping Redux method)\n     */\n    get: function () {\n      return this._store.getState();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"items\", {\n    /**\n     * Get items from store\n     */\n    get: function () {\n      return this.state.items;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeItems\", {\n    /**\n     * Get active items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n    /**\n     * Get highlighted items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"choices\", {\n    /**\n     * Get choices from store\n     */\n    get: function () {\n      return this.state.choices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeChoices\", {\n    /**\n     * Get active choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"selectableChoices\", {\n    /**\n     * Get selectable choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"searchableChoices\", {\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     */\n    get: function () {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"placeholderChoice\", {\n    /**\n     * Get placeholder choice from store\n     */\n    get: function () {\n      return __spreadArray([], this.choices, true).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"groups\", {\n    /**\n     * Get groups from store\n     */\n    get: function () {\n      return this.state.groups;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeGroups\", {\n    /**\n     * Get active groups from store\n     */\n    get: function () {\n      var _a = this,\n          groups = _a.groups,\n          choices = _a.choices;\n\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Get loading state from store\n   */\n\n  Store.prototype.isLoading = function () {\n    return this.state.loading;\n  };\n  /**\n   * Get single choice by it's ID\n   */\n\n\n  Store.prototype.getChoiceById = function (id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  };\n  /**\n   * Get group by group id\n   */\n\n\n  Store.prototype.getGroupById = function (id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  return Store;\n}();\n\nexports[\"default\"] = Store;\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar templates = {\n  containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n    var containerOuter = _a.classNames.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  containerInner: function (_a) {\n    var containerInner = _a.classNames.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: containerInner\n    });\n  },\n  itemList: function (_a, isSelectOneElement) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listSingle = _b.listSingle,\n        listItems = _b.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: \"\".concat(list, \" \").concat(isSelectOneElement ? listSingle : listItems)\n    });\n  },\n  placeholder: function (_a, value) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        placeholder = _a.classNames.placeholder;\n    return Object.assign(document.createElement('div'), (_b = {\n      className: placeholder\n    }, _b[allowHTML ? 'innerHTML' : 'innerText'] = value, _b));\n  },\n  item: function (_a, _b, removeItemButton) {\n    var _c, _d;\n\n    var allowHTML = _a.allowHTML,\n        _e = _a.classNames,\n        item = _e.item,\n        button = _e.button,\n        highlightedState = _e.highlightedState,\n        itemSelectable = _e.itemSelectable,\n        placeholder = _e.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        customProperties = _b.customProperties,\n        active = _b.active,\n        disabled = _b.disabled,\n        highlighted = _b.highlighted,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      className: item\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c));\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), (_d = {\n        type: 'button',\n        className: button\n      }, _d[allowHTML ? 'innerHTML' : 'innerText'] = REMOVE_ITEM_TEXT, _d));\n      removeButton.setAttribute('aria-label', \"\".concat(REMOVE_ITEM_TEXT, \": '\").concat(value, \"'\"));\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n  choiceList: function (_a, isSelectOneElement) {\n    var list = _a.classNames.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n  choiceGroup: function (_a, _b) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        group = _d.group,\n        groupHeading = _d.groupHeading,\n        itemDisabled = _d.itemDisabled;\n    var id = _b.id,\n        value = _b.value,\n        disabled = _b.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: \"\".concat(group, \" \").concat(disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), (_c = {\n      className: groupHeading\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = value, _c)));\n    return div;\n  },\n  choice: function (_a, _b, selectText) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        item = _d.item,\n        itemChoice = _d.itemChoice,\n        itemSelectable = _d.itemSelectable,\n        selectedState = _d.selectedState,\n        itemDisabled = _d.itemDisabled,\n        placeholder = _d.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        groupId = _b.groupId,\n        elementId = _b.elementId,\n        isDisabled = _b.disabled,\n        isSelected = _b.selected,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      id: elementId\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c.className = \"\".concat(item, \" \").concat(itemChoice), _c));\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId && groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n  input: function (_a, placeholderValue) {\n    var _b = _a.classNames,\n        input = _b.input,\n        inputCloned = _b.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'search',\n      name: 'search_terms',\n      className: \"\".concat(input, \" \").concat(inputCloned),\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n  dropdown: function (_a) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listDropdown = _b.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  notice: function (_a, innerText, type) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        _c = _a.classNames,\n        item = _c.item,\n        itemChoice = _c.itemChoice,\n        noResults = _c.noResults,\n        noChoices = _c.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), (_b = {}, _b[allowHTML ? 'innerHTML' : 'innerText'] = innerText, _b.className = classes.join(' '), _b));\n  },\n  option: function (_a) {\n    var label = _a.label,\n        value = _a.value,\n        customProperties = _a.customProperties,\n        active = _a.active,\n        disabled = _a.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = \"\".concat(customProperties);\n    }\n\n    opt.disabled = !!disabled;\n    return opt;\n  }\n};\nexports[\"default\"] = templates;\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module) {\n\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Fuse; }\n/* harmony export */ });\n/**\n * Fuse.js v6.5.3 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      totalWeight += obj.weight;\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return { path, id, weight, src }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      // console.log(key)\n      let value = this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (!isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {}\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '6.5.3';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\n\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"__DO_NOT_USE__ActionTypes\": function() { return /* binding */ ActionTypes; },\n  \"applyMiddleware\": function() { return /* binding */ applyMiddleware; },\n  \"bindActionCreators\": function() { return /* binding */ bindActionCreators; },\n  \"combineReducers\": function() { return /* binding */ combineReducers; },\n  \"compose\": function() { return /* binding */ compose; },\n  \"createStore\": function() { return /* binding */ createStore; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n;// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (false) {}\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( true ? formatProdErrorMessage(0) : 0);\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(1) : 0);\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( true ? formatProdErrorMessage(2) : 0);\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(3) : 0);\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(4) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(5) : 0);\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( true ? formatProdErrorMessage(6) : 0);\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( true ? formatProdErrorMessage(7) : 0);\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(8) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(9) : 0);\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(10) : 0);\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( true ? formatProdErrorMessage(11) : 0);\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(12) : 0);\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(13) : 0);\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( true ? formatProdErrorMessage(14) : 0);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( true ? formatProdErrorMessage(16) : 0);\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( true ? formatProdErrorMessage(15) : 0);\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2(_objectSpread2({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(373);\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scripts_choices__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(187);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(883);\n/* harmony import */ var _scripts_defaults__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(789);\n/* harmony import */ var _scripts_templates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(686);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default()));\n\n}();\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    (function() {\n        \"use strict\";\n        qq.Error = function(message) {\n            this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n        };\n        qq.Error.prototype = new Error();\n    })();\n    qq.version = \"5.16.2\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.BlobProxy = function(referenceBlob, onCreate) {\n        \"use strict\";\n        qq.extend(this, {\n            referenceBlob: referenceBlob,\n            create: function() {\n                return onCreate(referenceBlob);\n            }\n        });\n    };\n    qq.UploadButton = function(o) {\n        \"use strict\";\n        var self = this, disposeSupport = new qq.DisposeSupport(), options = {\n            acceptFiles: null,\n            element: null,\n            focusClass: \"qq-upload-button-focus\",\n            folders: false,\n            hoverClass: \"qq-upload-button-hover\",\n            ios8BrowserCrashWorkaround: false,\n            multiple: false,\n            name: \"qqfile\",\n            onChange: function(input) {},\n            title: null\n        }, input, buttonId;\n        qq.extend(options, o);\n        buttonId = qq.getUniqueId();\n        function createInput() {\n            var input = document.createElement(\"input\");\n            input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n            input.setAttribute(\"title\", options.title);\n            self.setMultiple(options.multiple, input);\n            if (options.folders && qq.supportedFeatures.folderSelection) {\n                input.setAttribute(\"webkitdirectory\", \"\");\n            }\n            if (options.acceptFiles) {\n                input.setAttribute(\"accept\", options.acceptFiles);\n            }\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"name\", options.name);\n            qq(input).css({\n                position: \"absolute\",\n                right: 0,\n                top: 0,\n                fontFamily: \"Arial\",\n                fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n                margin: 0,\n                padding: 0,\n                cursor: \"pointer\",\n                opacity: 0\n            });\n            !qq.ie7() && qq(input).css({\n                height: \"100%\"\n            });\n            options.element.appendChild(input);\n            disposeSupport.attach(input, \"change\", function() {\n                options.onChange(input);\n            });\n            disposeSupport.attach(input, \"mouseover\", function() {\n                qq(options.element).addClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"mouseout\", function() {\n                qq(options.element).removeClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"focus\", function() {\n                qq(options.element).addClass(options.focusClass);\n            });\n            disposeSupport.attach(input, \"blur\", function() {\n                qq(options.element).removeClass(options.focusClass);\n            });\n            return input;\n        }\n        qq(options.element).css({\n            position: \"relative\",\n            overflow: \"hidden\",\n            direction: \"ltr\"\n        });\n        qq.extend(this, {\n            getInput: function() {\n                return input;\n            },\n            getButtonId: function() {\n                return buttonId;\n            },\n            setMultiple: function(isMultiple, optInput) {\n                var input = optInput || this.getInput();\n                if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n                    input.setAttribute(\"multiple\", \"\");\n                } else {\n                    if (isMultiple) {\n                        input.setAttribute(\"multiple\", \"\");\n                    } else {\n                        input.removeAttribute(\"multiple\");\n                    }\n                }\n            },\n            setAcceptFiles: function(acceptFiles) {\n                if (acceptFiles !== options.acceptFiles) {\n                    input.setAttribute(\"accept\", acceptFiles);\n                }\n            },\n            reset: function() {\n                if (input.parentNode) {\n                    qq(input).remove();\n                }\n                qq(options.element).removeClass(options.focusClass);\n                input = null;\n                input = createInput();\n            }\n        });\n        input = createInput();\n    };\n    qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n    qq.UploadData = function(uploaderProxy) {\n        \"use strict\";\n        var data = [], byUuid = {}, byStatus = {}, byProxyGroupId = {}, byBatchId = {};\n        function getDataByIds(idOrIds) {\n            if (qq.isArray(idOrIds)) {\n                var entries = [];\n                qq.each(idOrIds, function(idx, id) {\n                    entries.push(data[id]);\n                });\n                return entries;\n            }\n            return data[idOrIds];\n        }\n        function getDataByUuids(uuids) {\n            if (qq.isArray(uuids)) {\n                var entries = [];\n                qq.each(uuids, function(idx, uuid) {\n                    entries.push(data[byUuid[uuid]]);\n                });\n                return entries;\n            }\n            return data[byUuid[uuids]];\n        }\n        function getDataByStatus(status) {\n            var statusResults = [], statuses = [].concat(status);\n            qq.each(statuses, function(index, statusEnum) {\n                var statusResultIndexes = byStatus[statusEnum];\n                if (statusResultIndexes !== undefined) {\n                    qq.each(statusResultIndexes, function(i, dataIndex) {\n                        statusResults.push(data[dataIndex]);\n                    });\n                }\n            });\n            return statusResults;\n        }\n        qq.extend(this, {\n            addFile: function(spec) {\n                var status = spec.status || qq.status.SUBMITTING, id = data.push({\n                    name: spec.name,\n                    originalName: spec.name,\n                    uuid: spec.uuid,\n                    size: spec.size == null ? -1 : spec.size,\n                    status: status,\n                    file: spec.file\n                }) - 1;\n                if (spec.batchId) {\n                    data[id].batchId = spec.batchId;\n                    if (byBatchId[spec.batchId] === undefined) {\n                        byBatchId[spec.batchId] = [];\n                    }\n                    byBatchId[spec.batchId].push(id);\n                }\n                if (spec.proxyGroupId) {\n                    data[id].proxyGroupId = spec.proxyGroupId;\n                    if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n                        byProxyGroupId[spec.proxyGroupId] = [];\n                    }\n                    byProxyGroupId[spec.proxyGroupId].push(id);\n                }\n                data[id].id = id;\n                byUuid[spec.uuid] = id;\n                if (byStatus[status] === undefined) {\n                    byStatus[status] = [];\n                }\n                byStatus[status].push(id);\n                spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n                uploaderProxy.onStatusChange(id, null, status);\n                return id;\n            },\n            retrieve: function(optionalFilter) {\n                if (qq.isObject(optionalFilter) && data.length) {\n                    if (optionalFilter.id !== undefined) {\n                        return getDataByIds(optionalFilter.id);\n                    } else if (optionalFilter.uuid !== undefined) {\n                        return getDataByUuids(optionalFilter.uuid);\n                    } else if (optionalFilter.status) {\n                        return getDataByStatus(optionalFilter.status);\n                    }\n                } else {\n                    return qq.extend([], data, true);\n                }\n            },\n            removeFileRef: function(id) {\n                var record = getDataByIds(id);\n                if (record) {\n                    delete record.file;\n                }\n            },\n            reset: function() {\n                data = [];\n                byUuid = {};\n                byStatus = {};\n                byBatchId = {};\n            },\n            setStatus: function(id, newStatus) {\n                var oldStatus = data[id].status, byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n                byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n                data[id].status = newStatus;\n                if (byStatus[newStatus] === undefined) {\n                    byStatus[newStatus] = [];\n                }\n                byStatus[newStatus].push(id);\n                uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n            },\n            uuidChanged: function(id, newUuid) {\n                var oldUuid = data[id].uuid;\n                data[id].uuid = newUuid;\n                byUuid[newUuid] = id;\n                delete byUuid[oldUuid];\n            },\n            updateName: function(id, newName) {\n                data[id].name = newName;\n            },\n            updateSize: function(id, newSize) {\n                data[id].size = newSize;\n            },\n            setParentId: function(targetId, parentId) {\n                data[targetId].parentId = parentId;\n            },\n            getIdsInProxyGroup: function(id) {\n                var proxyGroupId = data[id].proxyGroupId;\n                if (proxyGroupId) {\n                    return byProxyGroupId[proxyGroupId];\n                }\n                return [];\n            },\n            getIdsInBatch: function(id) {\n                var batchId = data[id].batchId;\n                return byBatchId[batchId];\n            }\n        });\n    };\n    qq.status = {\n        SUBMITTING: \"submitting\",\n        SUBMITTED: \"submitted\",\n        REJECTED: \"rejected\",\n        QUEUED: \"queued\",\n        CANCELED: \"canceled\",\n        PAUSED: \"paused\",\n        UPLOADING: \"uploading\",\n        UPLOAD_FINALIZING: \"upload finalizing\",\n        UPLOAD_RETRYING: \"retrying upload\",\n        UPLOAD_SUCCESSFUL: \"upload successful\",\n        UPLOAD_FAILED: \"upload failed\",\n        DELETE_FAILED: \"delete failed\",\n        DELETING: \"deleting\",\n        DELETED: \"deleted\"\n    };\n    (function() {\n        \"use strict\";\n        qq.basePublicApi = {\n            addBlobs: function(blobDataOrArray, params, endpoint) {\n                this.addFiles(blobDataOrArray, params, endpoint);\n            },\n            addInitialFiles: function(cannedFileList) {\n                var self = this;\n                qq.each(cannedFileList, function(index, cannedFile) {\n                    self._addCannedFile(cannedFile);\n                });\n            },\n            addFiles: function(data, params, endpoint) {\n                this._maybeHandleIos8SafariWorkaround();\n                var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId, processBlob = qq.bind(function(blob) {\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName\n                    }, batchId, verifiedFiles);\n                }, this), processBlobData = qq.bind(function(blobData) {\n                    this._handleNewFile(blobData, batchId, verifiedFiles);\n                }, this), processCanvas = qq.bind(function(canvas) {\n                    var blob = qq.canvasToBlob(canvas);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName + \".png\"\n                    }, batchId, verifiedFiles);\n                }, this), processCanvasData = qq.bind(function(canvasData) {\n                    var normalizedQuality = canvasData.quality && canvasData.quality / 100, blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: canvasData.name\n                    }, batchId, verifiedFiles);\n                }, this), processFileOrInput = qq.bind(function(fileOrInput) {\n                    if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n                        var files = Array.prototype.slice.call(fileOrInput.files), self = this;\n                        qq.each(files, function(idx, file) {\n                            self._handleNewFile(file, batchId, verifiedFiles);\n                        });\n                    } else {\n                        this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n                    }\n                }, this), normalizeData = function() {\n                    if (qq.isFileList(data)) {\n                        data = Array.prototype.slice.call(data);\n                    }\n                    data = [].concat(data);\n                }, self = this, verifiedFiles = [];\n                this._currentBatchId = batchId;\n                if (data) {\n                    normalizeData();\n                    qq.each(data, function(idx, fileContainer) {\n                        if (qq.isFileOrInput(fileContainer)) {\n                            processFileOrInput(fileContainer);\n                        } else if (qq.isBlob(fileContainer)) {\n                            processBlob(fileContainer);\n                        } else if (qq.isObject(fileContainer)) {\n                            if (fileContainer.blob && fileContainer.name) {\n                                processBlobData(fileContainer);\n                            } else if (fileContainer.canvas && fileContainer.name) {\n                                processCanvasData(fileContainer);\n                            }\n                        } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n                            processCanvas(fileContainer);\n                        } else {\n                            self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n                        }\n                    });\n                    this.log(\"Received \" + verifiedFiles.length + \" files.\");\n                    this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n                }\n            },\n            cancel: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n                    this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n                } else {\n                    this._handler.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var storedIdsCopy = [], self = this;\n                qq.extend(storedIdsCopy, this._storedIds);\n                qq.each(storedIdsCopy, function(idx, storedFileId) {\n                    self.cancel(storedFileId);\n                });\n                this._handler.cancelAll();\n            },\n            clearStoredFiles: function() {\n                this._storedIds = [];\n            },\n            continueUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (uploadData.status === qq.status.PAUSED) {\n                    this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n                    this._uploadFile(id);\n                    return true;\n                } else {\n                    this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            deleteFile: function(id) {\n                return this._onSubmitDelete(id);\n            },\n            doesExist: function(fileOrBlobId) {\n                return this._handler.isValid(fileOrBlobId);\n            },\n            drawThumbnail: function(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n                var promiseToReturn = new qq.Promise(), fileOrUrl, options;\n                if (this._imageGenerator) {\n                    fileOrUrl = this._thumbnailUrls[fileId];\n                    options = {\n                        customResizeFunction: customResizeFunction,\n                        maxSize: maxSize > 0 ? maxSize : null,\n                        scale: maxSize > 0\n                    };\n                    if (!fromServer && qq.supportedFeatures.imagePreviews) {\n                        fileOrUrl = this.getFile(fileId);\n                    }\n                    if (fileOrUrl == null) {\n                        promiseToReturn.failure({\n                            container: imgOrCanvas,\n                            error: \"File or URL not found.\"\n                        });\n                    } else {\n                        this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n                            promiseToReturn.success(modifiedContainer);\n                        }, function failure(container, reason) {\n                            promiseToReturn.failure({\n                                container: container,\n                                error: reason || \"Problem generating thumbnail\"\n                            });\n                        });\n                    }\n                } else {\n                    promiseToReturn.failure({\n                        container: imgOrCanvas,\n                        error: \"Missing image generator module\"\n                    });\n                }\n                return promiseToReturn;\n            },\n            getButton: function(fileId) {\n                return this._getButton(this._buttonIdsForFileIds[fileId]);\n            },\n            getEndpoint: function(fileId) {\n                return this._endpointStore.get(fileId);\n            },\n            getFile: function(fileOrBlobId) {\n                var file = this._handler.getFile(fileOrBlobId);\n                var uploadDataRecord;\n                if (!file) {\n                    uploadDataRecord = this._uploadData.retrieve({\n                        id: fileOrBlobId\n                    });\n                    if (uploadDataRecord) {\n                        file = uploadDataRecord.file;\n                    }\n                }\n                return file || null;\n            },\n            getInProgress: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED ]\n                }).length;\n            },\n            getName: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).name;\n            },\n            getParentId: function(id) {\n                var uploadDataEntry = this.getUploads({\n                    id: id\n                }), parentId = null;\n                if (uploadDataEntry) {\n                    if (uploadDataEntry.parentId !== undefined) {\n                        parentId = uploadDataEntry.parentId;\n                    }\n                }\n                return parentId;\n            },\n            getResumableFilesData: function() {\n                return this._handler.getResumableFilesData();\n            },\n            getSize: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).size;\n            },\n            getNetUploads: function() {\n                return this._netUploaded;\n            },\n            getRemainingAllowedItems: function() {\n                var allowedItems = this._currentItemLimit;\n                if (allowedItems > 0) {\n                    return allowedItems - this._netUploadedOrQueued;\n                }\n                return null;\n            },\n            getUploads: function(optionalFilter) {\n                return this._uploadData.retrieve(optionalFilter);\n            },\n            getUuid: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).uuid;\n            },\n            isResumable: function(id) {\n                return this._handler.hasResumeRecord(id);\n            },\n            log: function(str, level) {\n                if (this._options.debug && (!level || level === \"info\")) {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n                } else if (level && level !== \"info\") {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n                }\n            },\n            pauseUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (qq.indexOf([ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING ], uploadData.status) >= 0) {\n                    if (this._handler.pause(id)) {\n                        this._uploadData.setStatus(id, qq.status.PAUSED);\n                        return true;\n                    } else {\n                        this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n                    }\n                } else {\n                    this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            removeFileRef: function(id) {\n                this._handler.expunge(id);\n                this._uploadData.removeFileRef(id);\n            },\n            reset: function() {\n                this.log(\"Resetting uploader...\");\n                this._handler.reset();\n                this._storedIds = [];\n                this._autoRetries = [];\n                this._retryTimeouts = [];\n                this._preventRetries = [];\n                this._thumbnailUrls = [];\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n                this._paramsStore.reset();\n                this._endpointStore.reset();\n                this._netUploadedOrQueued = 0;\n                this._netUploaded = 0;\n                this._uploadData.reset();\n                this._buttonIdsForFileIds = [];\n                this._pasteHandler && this._pasteHandler.reset();\n                this._options.session.refreshOnReset && this._refreshSessionData();\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n                this._totalProgress && this._totalProgress.reset();\n                this._customResumeDataStore.reset();\n            },\n            retry: function(id) {\n                return this._manualRetry(id);\n            },\n            scaleImage: function(id, specs) {\n                var self = this;\n                return qq.Scaler.prototype.scaleImage(id, specs, {\n                    log: qq.bind(self.log, self),\n                    getFile: qq.bind(self.getFile, self),\n                    uploadData: self._uploadData\n                });\n            },\n            setCustomHeaders: function(headers, id) {\n                this._customHeadersStore.set(headers, id);\n            },\n            setCustomResumeData: function(id, data) {\n                this._customResumeDataStore.set(data, id);\n            },\n            setDeleteFileCustomHeaders: function(headers, id) {\n                this._deleteFileCustomHeadersStore.set(headers, id);\n            },\n            setDeleteFileEndpoint: function(endpoint, id) {\n                this._deleteFileEndpointStore.set(endpoint, id);\n            },\n            setDeleteFileParams: function(params, id) {\n                this._deleteFileParamsStore.set(params, id);\n            },\n            setEndpoint: function(endpoint, id) {\n                this._endpointStore.set(endpoint, id);\n            },\n            setForm: function(elementOrId) {\n                this._updateFormSupportAndParams(elementOrId);\n            },\n            setItemLimit: function(newItemLimit) {\n                this._currentItemLimit = newItemLimit;\n            },\n            setName: function(id, newName) {\n                this._uploadData.updateName(id, newName);\n            },\n            setParams: function(params, id) {\n                this._paramsStore.set(params, id);\n            },\n            setUuid: function(id, newUuid) {\n                return this._uploadData.uuidChanged(id, newUuid);\n            },\n            setStatus: function(id, newStatus) {\n                var fileRecord = this.getUploads({\n                    id: id\n                });\n                if (!fileRecord) {\n                    throw new qq.Error(id + \" is not a valid file ID.\");\n                }\n                switch (newStatus) {\n                  case qq.status.DELETED:\n                    this._onDeleteComplete(id, null, false);\n                    break;\n\n                  case qq.status.DELETE_FAILED:\n                    this._onDeleteComplete(id, null, true);\n                    break;\n\n                  default:\n                    var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n                    this.log(errorMessage);\n                    throw new qq.Error(errorMessage);\n                }\n            },\n            uploadStoredFiles: function() {\n                if (this._storedIds.length === 0) {\n                    this._itemError(\"noFilesError\");\n                } else {\n                    this._uploadStoredFiles();\n                }\n            }\n        };\n        qq.basePrivateApi = {\n            _addCannedFile: function(sessionData) {\n                var self = this;\n                return this._uploadData.addFile({\n                    uuid: sessionData.uuid,\n                    name: sessionData.name,\n                    size: sessionData.size,\n                    status: qq.status.UPLOAD_SUCCESSFUL,\n                    onBeforeStatusChange: function(id) {\n                        sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n                        sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n                        if (sessionData.thumbnailUrl) {\n                            self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n                        }\n                        self._netUploaded++;\n                        self._netUploadedOrQueued++;\n                    }\n                });\n            },\n            _annotateWithButtonId: function(file, associatedInput) {\n                if (qq.isFile(file)) {\n                    file.qqButtonId = this._getButtonId(associatedInput);\n                }\n            },\n            _batchError: function(message) {\n                this._options.callbacks.onError(null, null, message, undefined);\n            },\n            _createDeleteHandler: function() {\n                var self = this;\n                return new qq.DeleteFileAjaxRequester({\n                    method: this._options.deleteFile.method.toUpperCase(),\n                    maxConnections: this._options.maxConnections,\n                    uuidParamName: this._options.request.uuidName,\n                    customHeaders: this._deleteFileCustomHeadersStore,\n                    paramsStore: this._deleteFileParamsStore,\n                    endpointStore: this._deleteFileEndpointStore,\n                    cors: this._options.cors,\n                    log: qq.bind(self.log, self),\n                    onDelete: function(id) {\n                        self._onDelete(id);\n                        self._options.callbacks.onDelete(id);\n                    },\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {\n                        self._onDeleteComplete(id, xhrOrXdr, isError);\n                        self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n                    }\n                });\n            },\n            _createPasteHandler: function() {\n                var self = this;\n                return new qq.PasteSupport({\n                    targetElement: this._options.paste.targetElement,\n                    callbacks: {\n                        log: qq.bind(self.log, self),\n                        pasteReceived: function(blob) {\n                            self._handleCheckedCallback({\n                                name: \"onPasteReceived\",\n                                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                                identifier: \"pasted image\"\n                            });\n                        }\n                    }\n                });\n            },\n            _createStore: function(initialValue, _readOnlyValues_) {\n                var store = {}, catchall = initialValue, perIdReadOnlyValues = {}, readOnlyValues = _readOnlyValues_, copy = function(orig) {\n                    if (qq.isObject(orig)) {\n                        return qq.extend({}, orig);\n                    }\n                    return orig;\n                }, getReadOnlyValues = function() {\n                    if (qq.isFunction(readOnlyValues)) {\n                        return readOnlyValues();\n                    }\n                    return readOnlyValues;\n                }, includeReadOnlyValues = function(id, existing) {\n                    if (readOnlyValues && qq.isObject(existing)) {\n                        qq.extend(existing, getReadOnlyValues());\n                    }\n                    if (perIdReadOnlyValues[id]) {\n                        qq.extend(existing, perIdReadOnlyValues[id]);\n                    }\n                };\n                return {\n                    set: function(val, id) {\n                        if (id == null) {\n                            store = {};\n                            catchall = copy(val);\n                        } else {\n                            store[id] = copy(val);\n                        }\n                    },\n                    get: function(id) {\n                        var values;\n                        if (id != null && store[id]) {\n                            values = store[id];\n                        } else {\n                            values = copy(catchall);\n                        }\n                        includeReadOnlyValues(id, values);\n                        return copy(values);\n                    },\n                    addReadOnly: function(id, values) {\n                        if (qq.isObject(store)) {\n                            if (id === null) {\n                                if (qq.isFunction(values)) {\n                                    readOnlyValues = values;\n                                } else {\n                                    readOnlyValues = readOnlyValues || {};\n                                    qq.extend(readOnlyValues, values);\n                                }\n                            } else {\n                                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                                qq.extend(perIdReadOnlyValues[id], values);\n                            }\n                        }\n                    },\n                    remove: function(fileId) {\n                        return delete store[fileId];\n                    },\n                    reset: function() {\n                        store = {};\n                        perIdReadOnlyValues = {};\n                        catchall = initialValue;\n                    }\n                };\n            },\n            _createUploadDataTracker: function() {\n                var self = this;\n                return new qq.UploadData({\n                    getName: function(id) {\n                        return self.getName(id);\n                    },\n                    getUuid: function(id) {\n                        return self.getUuid(id);\n                    },\n                    getSize: function(id) {\n                        return self.getSize(id);\n                    },\n                    onStatusChange: function(id, oldStatus, newStatus) {\n                        self._onUploadStatusChange(id, oldStatus, newStatus);\n                        self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n                        self._maybeAllComplete(id, newStatus);\n                        if (self._totalProgress) {\n                            setTimeout(function() {\n                                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n                            }, 0);\n                        }\n                    }\n                });\n            },\n            _createUploadButton: function(spec) {\n                var self = this, acceptFiles = spec.accept || this._options.validation.acceptFiles, allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions, button;\n                function allowMultiple() {\n                    if (qq.supportedFeatures.ajaxUploading) {\n                        if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n                            return false;\n                        }\n                        if (spec.multiple === undefined) {\n                            return self._options.multiple;\n                        }\n                        return spec.multiple;\n                    }\n                    return false;\n                }\n                button = new qq.UploadButton({\n                    acceptFiles: acceptFiles,\n                    element: spec.element,\n                    focusClass: this._options.classes.buttonFocus,\n                    folders: spec.folders,\n                    hoverClass: this._options.classes.buttonHover,\n                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n                    multiple: allowMultiple(),\n                    name: this._options.request.inputName,\n                    onChange: function(input) {\n                        self._onInputChange(input);\n                    },\n                    title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n                });\n                this._disposeSupport.addDisposer(function() {\n                    button.dispose();\n                });\n                self._buttons.push(button);\n                return button;\n            },\n            _createUploadHandler: function(additionalOptions, namespace) {\n                var self = this, lastOnProgress = {}, options = {\n                    debug: this._options.debug,\n                    maxConnections: this._options.maxConnections,\n                    cors: this._options.cors,\n                    paramsStore: this._paramsStore,\n                    endpointStore: this._endpointStore,\n                    chunking: this._options.chunking,\n                    resume: this._options.resume,\n                    blobs: this._options.blobs,\n                    log: qq.bind(self.log, self),\n                    preventRetryParam: this._options.retry.preventRetryResponseProperty,\n                    onProgress: function(id, name, loaded, total) {\n                        if (loaded < 0 || total < 0) {\n                            return;\n                        }\n                        if (lastOnProgress[id]) {\n                            if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                                self._onProgress(id, name, loaded, total);\n                                self._options.callbacks.onProgress(id, name, loaded, total);\n                            }\n                        } else {\n                            self._onProgress(id, name, loaded, total);\n                            self._options.callbacks.onProgress(id, name, loaded, total);\n                        }\n                        lastOnProgress[id] = {\n                            loaded: loaded,\n                            total: total\n                        };\n                    },\n                    onComplete: function(id, name, result, xhr) {\n                        delete lastOnProgress[id];\n                        var status = self.getUploads({\n                            id: id\n                        }).status, retVal;\n                        if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                            return;\n                        }\n                        retVal = self._onComplete(id, name, result, xhr);\n                        if (retVal instanceof qq.Promise) {\n                            retVal.done(function() {\n                                self._options.callbacks.onComplete(id, name, result, xhr);\n                            });\n                        } else {\n                            self._options.callbacks.onComplete(id, name, result, xhr);\n                        }\n                    },\n                    onCancel: function(id, name, cancelFinalizationEffort) {\n                        var promise = new qq.Promise();\n                        self._handleCheckedCallback({\n                            name: \"onCancel\",\n                            callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                            onFailure: promise.failure,\n                            onSuccess: function() {\n                                cancelFinalizationEffort.then(function() {\n                                    self._onCancel(id, name);\n                                });\n                                promise.success();\n                            },\n                            identifier: id\n                        });\n                        return promise;\n                    },\n                    onUploadPrep: qq.bind(this._onUploadPrep, this),\n                    onUpload: function(id, name) {\n                        self._onUpload(id, name);\n                        var onUploadResult = self._options.callbacks.onUpload(id, name);\n                        if (qq.isGenericPromise(onUploadResult)) {\n                            self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                            return onUploadResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunk: function(id, name, chunkData) {\n                        self._onUploadChunk(id, chunkData);\n                        var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n                        if (qq.isGenericPromise(onUploadChunkResult)) {\n                            self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                            return onUploadChunkResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunkSuccess: function(id, chunkData, result, xhr) {\n                        self._onUploadChunkSuccess(id, chunkData);\n                        self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n                    },\n                    onResume: function(id, name, chunkData, customResumeData) {\n                        return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n                    },\n                    onAutoRetry: function(id, name, responseJSON, xhr) {\n                        return self._onAutoRetry.apply(self, arguments);\n                    },\n                    onUuidChanged: function(id, newUuid) {\n                        self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n                        self.setUuid(id, newUuid);\n                    },\n                    getName: qq.bind(self.getName, self),\n                    getUuid: qq.bind(self.getUuid, self),\n                    getSize: qq.bind(self.getSize, self),\n                    setSize: qq.bind(self._setSize, self),\n                    getDataByUuid: function(uuid) {\n                        return self.getUploads({\n                            uuid: uuid\n                        });\n                    },\n                    isQueued: function(id) {\n                        var status = self.getUploads({\n                            id: id\n                        }).status;\n                        return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n                    },\n                    getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n                    getIdsInBatch: self._uploadData.getIdsInBatch,\n                    isInProgress: function(id) {\n                        return self.getUploads({\n                            id: id\n                        }).status === qq.status.UPLOADING;\n                    },\n                    getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n                    setStatus: function(id, status) {\n                        self._uploadData.setStatus(id, status);\n                    }\n                };\n                qq.each(this._options.request, function(prop, val) {\n                    options[prop] = val;\n                });\n                options.customHeaders = this._customHeadersStore;\n                if (additionalOptions) {\n                    qq.each(additionalOptions, function(key, val) {\n                        options[key] = val;\n                    });\n                }\n                return new qq.UploadHandlerController(options, namespace);\n            },\n            _fileOrBlobRejected: function(id) {\n                this._netUploadedOrQueued--;\n                this._uploadData.setStatus(id, qq.status.REJECTED);\n            },\n            _formatSize: function(bytes) {\n                if (bytes === 0) {\n                    return bytes + this._options.text.sizeSymbols[0];\n                }\n                var i = -1;\n                do {\n                    bytes = bytes / 1e3;\n                    i++;\n                } while (bytes > 999);\n                return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n            },\n            _generateExtraButtonSpecs: function() {\n                var self = this;\n                this._extraButtonSpecs = {};\n                qq.each(this._options.extraButtons, function(idx, extraButtonOptionEntry) {\n                    var multiple = extraButtonOptionEntry.multiple, validation = qq.extend({}, self._options.validation, true), extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n                    if (multiple === undefined) {\n                        multiple = self._options.multiple;\n                    }\n                    if (extraButtonSpec.validation) {\n                        qq.extend(validation, extraButtonOptionEntry.validation, true);\n                    }\n                    qq.extend(extraButtonSpec, {\n                        multiple: multiple,\n                        validation: validation\n                    }, true);\n                    self._initExtraButton(extraButtonSpec);\n                });\n            },\n            _getButton: function(buttonId) {\n                var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n                if (extraButtonsSpec) {\n                    return extraButtonsSpec.element;\n                } else if (buttonId === this._defaultButtonId) {\n                    return this._options.button;\n                }\n            },\n            _getButtonId: function(buttonOrFileInputOrFile) {\n                var inputs, fileInput, fileBlobOrInput = buttonOrFileInputOrFile;\n                if (fileBlobOrInput instanceof qq.BlobProxy) {\n                    fileBlobOrInput = fileBlobOrInput.referenceBlob;\n                }\n                if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n                    if (qq.isFile(fileBlobOrInput)) {\n                        return fileBlobOrInput.qqButtonId;\n                    } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n                        return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                    inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n                    qq.each(inputs, function(idx, input) {\n                        if (input.getAttribute(\"type\") === \"file\") {\n                            fileInput = input;\n                            return false;\n                        }\n                    });\n                    if (fileInput) {\n                        return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                }\n            },\n            _getCustomResumeData: function(fileId) {\n                return this._customResumeDataStore.get(fileId);\n            },\n            _getNotFinished: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED ]\n                }).length;\n            },\n            _getValidationBase: function(buttonId) {\n                var extraButtonSpec = this._extraButtonSpecs[buttonId];\n                return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n            },\n            _getValidationDescriptor: function(fileWrapper) {\n                if (fileWrapper.file instanceof qq.BlobProxy) {\n                    return {\n                        name: qq.getFilename(fileWrapper.file.referenceBlob),\n                        size: fileWrapper.file.referenceBlob.size\n                    };\n                }\n                return {\n                    name: this.getUploads({\n                        id: fileWrapper.id\n                    }).name,\n                    size: this.getUploads({\n                        id: fileWrapper.id\n                    }).size\n                };\n            },\n            _getValidationDescriptors: function(fileWrappers) {\n                var self = this, fileDescriptors = [];\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n                });\n                return fileDescriptors;\n            },\n            _handleCameraAccess: function() {\n                if (this._options.camera.ios && qq.ios()) {\n                    var acceptIosCamera = \"image/*;capture=camera\", button = this._options.camera.button, buttonId = button ? this._getButtonId(button) : this._defaultButtonId, optionRoot = this._options;\n                    if (buttonId && buttonId !== this._defaultButtonId) {\n                        optionRoot = this._extraButtonSpecs[buttonId];\n                    }\n                    optionRoot.multiple = false;\n                    if (optionRoot.validation.acceptFiles === null) {\n                        optionRoot.validation.acceptFiles = acceptIosCamera;\n                    } else {\n                        optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n                    }\n                    qq.each(this._buttons, function(idx, button) {\n                        if (button.getButtonId() === buttonId) {\n                            button.setMultiple(optionRoot.multiple);\n                            button.setAcceptFiles(optionRoot.acceptFiles);\n                            return false;\n                        }\n                    });\n                }\n            },\n            _handleCheckedCallback: function(details) {\n                var self = this, callbackRetVal = details.callback();\n                if (qq.isGenericPromise(callbackRetVal)) {\n                    this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n                    return callbackRetVal.then(function(successParam) {\n                        self.log(details.name + \" promise success for \" + details.identifier);\n                        details.onSuccess(successParam);\n                    }, function() {\n                        if (details.onFailure) {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                            details.onFailure();\n                        } else {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                        }\n                    });\n                }\n                if (callbackRetVal !== false) {\n                    details.onSuccess(callbackRetVal);\n                } else {\n                    if (details.onFailure) {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n                        details.onFailure();\n                    } else {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n                    }\n                }\n                return callbackRetVal;\n            },\n            _handleNewFile: function(file, batchId, newFileWrapperList) {\n                var self = this, uuid = qq.getUniqueId(), size = -1, name = qq.getFilename(file), actualFile = file.blob || file, handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n                if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n                    size = actualFile.size;\n                }\n                handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n                    uploadData: self._uploadData,\n                    paramsStore: self._paramsStore,\n                    addFileToHandler: function(id, file) {\n                        self._handler.add(id, file);\n                        self._netUploadedOrQueued++;\n                        self._trackButton(id);\n                    }\n                });\n            },\n            _handleNewFileGeneric: function(file, name, uuid, size, fileList, batchId) {\n                var id = this._uploadData.addFile({\n                    uuid: uuid,\n                    name: name,\n                    size: size,\n                    batchId: batchId,\n                    file: file\n                });\n                this._handler.add(id, file);\n                this._trackButton(id);\n                this._netUploadedOrQueued++;\n                fileList.push({\n                    id: id,\n                    file: file\n                });\n            },\n            _handlePasteSuccess: function(blob, extSuppliedName) {\n                var extension = blob.type.split(\"/\")[1], name = extSuppliedName;\n                if (name == null) {\n                    name = this._options.paste.defaultName;\n                }\n                name += \".\" + extension;\n                this.addFiles({\n                    name: name,\n                    blob: blob\n                });\n            },\n            _handleDeleteSuccess: function(id) {\n                if (this.getUploads({\n                    id: id\n                }).status !== qq.status.DELETED) {\n                    var name = this.getName(id);\n                    this._netUploadedOrQueued--;\n                    this._netUploaded--;\n                    this._handler.expunge(id);\n                    this._uploadData.setStatus(id, qq.status.DELETED);\n                    this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n                }\n            },\n            _handleDeleteFailed: function(id, xhrOrXdr) {\n                var name = this.getName(id);\n                this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n                this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n                if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n                    this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n                } else {\n                    this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n                }\n            },\n            _initExtraButton: function(spec) {\n                var button = this._createUploadButton({\n                    accept: spec.validation.acceptFiles,\n                    allowedExtensions: spec.validation.allowedExtensions,\n                    element: spec.element,\n                    folders: spec.folders,\n                    multiple: spec.multiple,\n                    title: spec.fileInputTitle\n                });\n                this._extraButtonSpecs[button.getButtonId()] = spec;\n            },\n            _initFormSupportAndParams: function() {\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this._options.request.endpoint = this._formSupport.newEndpoint;\n                    }\n                } else {\n                    this._paramsStore = this._createStore(this._options.request.params);\n                }\n            },\n            _isDeletePossible: function() {\n                if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n                    return false;\n                }\n                if (this._options.cors.expected) {\n                    if (qq.supportedFeatures.deleteFileCorsXhr) {\n                        return true;\n                    }\n                    if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n                        return true;\n                    }\n                    return false;\n                }\n                return true;\n            },\n            _isAllowedExtension: function(allowed, fileName) {\n                var valid = false;\n                if (!allowed.length) {\n                    return true;\n                }\n                qq.each(allowed, function(idx, allowedExt) {\n                    if (qq.isString(allowedExt)) {\n                        var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n                        if (fileName.match(extRegex) != null) {\n                            valid = true;\n                            return false;\n                        }\n                    }\n                });\n                return valid;\n            },\n            _itemError: function(code, maybeNameOrNames, item) {\n                var message = this._options.messages[code], allowedExtensions = [], names = [].concat(maybeNameOrNames), name = names[0], buttonId = this._getButtonId(item), validationBase = this._getValidationBase(buttonId), extensionsForMessage, placeholderMatch;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                qq.each(validationBase.allowedExtensions, function(idx, allowedExtension) {\n                    if (qq.isString(allowedExtension)) {\n                        allowedExtensions.push(allowedExtension);\n                    }\n                });\n                extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n                r(\"{file}\", this._options.formatFileName(name));\n                r(\"{extensions}\", extensionsForMessage);\n                r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n                r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n                placeholderMatch = message.match(/(\\{\\w+\\})/g);\n                if (placeholderMatch !== null) {\n                    qq.each(placeholderMatch, function(idx, placeholder) {\n                        r(placeholder, names[idx]);\n                    });\n                }\n                this._options.callbacks.onError(null, name, message, undefined);\n                return message;\n            },\n            _manualRetry: function(id, callback) {\n                if (this._onBeforeManualRetry(id)) {\n                    this._netUploadedOrQueued++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    if (callback) {\n                        callback(id);\n                    } else {\n                        this._handler.retry(id);\n                    }\n                    return true;\n                }\n            },\n            _maybeAllComplete: function(id, status) {\n                var self = this, notFinished = this._getNotFinished();\n                if (status === qq.status.UPLOAD_SUCCESSFUL) {\n                    this._succeededSinceLastAllComplete.push(id);\n                } else if (status === qq.status.UPLOAD_FAILED) {\n                    this._failedSinceLastAllComplete.push(id);\n                }\n                if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n                    setTimeout(function() {\n                        self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n                    }, 0);\n                }\n            },\n            _maybeHandleIos8SafariWorkaround: function() {\n                var self = this;\n                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n                    setTimeout(function() {\n                        window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n                    }, 0);\n                    throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n                }\n            },\n            _maybeParseAndSendUploadError: function(id, name, response, xhr) {\n                if (!response.success) {\n                    if (xhr && xhr.status !== 200 && !response.error) {\n                        this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n                    } else {\n                        var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n                        this._options.callbacks.onError(id, name, errorReason, xhr);\n                    }\n                }\n            },\n            _maybeProcessNextItemAfterOnValidateCallback: function(validItem, items, index, params, endpoint) {\n                var self = this;\n                if (items.length > index) {\n                    if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n                        setTimeout(function() {\n                            var validationDescriptor = self._getValidationDescriptor(items[index]), buttonId = self._getButtonId(items[index].file), button = self._getButton(buttonId);\n                            self._handleCheckedCallback({\n                                name: \"onValidate\",\n                                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n                            });\n                        }, 0);\n                    } else if (!validItem) {\n                        for (;index < items.length; index++) {\n                            self._fileOrBlobRejected(items[index].id);\n                        }\n                    }\n                }\n            },\n            _onAllComplete: function(successful, failed) {\n                this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n                this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n            },\n            _onAutoRetry: function(id, name, responseJSON, xhr, callback) {\n                var self = this;\n                self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n                if (self._shouldAutoRetry(id)) {\n                    var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n                    self._maybeParseAndSendUploadError.apply(self, arguments);\n                    self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n                    self._onBeforeAutoRetry(id, name);\n                    self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    self._retryTimeouts[id] = setTimeout(function() {\n                        self.log(\"Starting retry for \" + name + \"...\");\n                        if (callback) {\n                            callback(id);\n                        } else {\n                            self._handler.retry(id);\n                        }\n                    }, retryWaitPeriod);\n                    return true;\n                }\n            },\n            _onBeforeAutoRetry: function(id, name) {\n                this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n            },\n            _onBeforeManualRetry: function(id) {\n                var itemLimit = this._currentItemLimit, fileName;\n                if (this._preventRetries[id]) {\n                    this.log(\"Retries are forbidden for id \" + id, \"warn\");\n                    return false;\n                } else if (this._handler.isValid(id)) {\n                    fileName = this.getName(id);\n                    if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n                        return false;\n                    }\n                    if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n                        this._itemError(\"retryFailTooManyItems\");\n                        return false;\n                    }\n                    this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n                    return true;\n                } else {\n                    this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n                    return false;\n                }\n            },\n            _onCancel: function(id, name) {\n                this._netUploadedOrQueued--;\n                clearTimeout(this._retryTimeouts[id]);\n                var storedItemIndex = qq.indexOf(this._storedIds, id);\n                if (!this._options.autoUpload && storedItemIndex >= 0) {\n                    this._storedIds.splice(storedItemIndex, 1);\n                }\n                this._uploadData.setStatus(id, qq.status.CANCELED);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                if (!result.success) {\n                    this._netUploadedOrQueued--;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n                    if (result[this._options.retry.preventRetryResponseProperty] === true) {\n                        this._preventRetries[id] = true;\n                    }\n                } else {\n                    if (result.thumbnailUrl) {\n                        this._thumbnailUrls[id] = result.thumbnailUrl;\n                    }\n                    this._netUploaded++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n                }\n                this._maybeParseAndSendUploadError(id, name, result, xhr);\n                return result.success ? true : false;\n            },\n            _onDelete: function(id) {\n                this._uploadData.setStatus(id, qq.status.DELETING);\n            },\n            _onDeleteComplete: function(id, xhrOrXdr, isError) {\n                var name = this.getName(id);\n                if (isError) {\n                    this._handleDeleteFailed(id, xhrOrXdr);\n                } else {\n                    this._handleDeleteSuccess(id);\n                }\n            },\n            _onInputChange: function(input) {\n                var fileIndex;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n                        this._annotateWithButtonId(input.files[fileIndex], input);\n                    }\n                    this.addFiles(input.files);\n                } else if (input.value.length > 0) {\n                    this.addFiles(input);\n                }\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n            },\n            _onSubmit: function(id, name) {},\n            _onSubmitCallbackSuccess: function(id, name) {\n                this._onSubmit.apply(this, arguments);\n                this._uploadData.setStatus(id, qq.status.SUBMITTED);\n                this._onSubmitted.apply(this, arguments);\n                if (this._options.autoUpload) {\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                    this._uploadFile(id);\n                } else {\n                    this._storeForLater(id);\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                }\n            },\n            _onSubmitDelete: function(id, onSuccessCallback, additionalMandatedParams) {\n                var uuid = this.getUuid(id), adjustedOnSuccessCallback;\n                if (onSuccessCallback) {\n                    adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n                }\n                if (this._isDeletePossible()) {\n                    this._handleCheckedCallback({\n                        name: \"onSubmitDelete\",\n                        callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n                        onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n                        identifier: id\n                    });\n                    return true;\n                } else {\n                    this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n                    return false;\n                }\n            },\n            _onSubmitted: function(id) {},\n            _onTotalProgress: function(loaded, total) {\n                this._options.callbacks.onTotalProgress(loaded, total);\n            },\n            _onUploadPrep: function(id) {},\n            _onUpload: function(id, name) {\n                this._uploadData.setStatus(id, qq.status.UPLOADING);\n            },\n            _onUploadChunk: function(id, chunkData) {},\n            _onUploadChunkSuccess: function(id, chunkData) {\n                if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n                    this._autoRetries[id] = 0;\n                }\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.PAUSED) {\n                    clearTimeout(this._retryTimeouts[id]);\n                }\n            },\n            _onValidateBatchCallbackFailure: function(fileWrappers) {\n                var self = this;\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    self._fileOrBlobRejected(fileWrapper.id);\n                });\n            },\n            _onValidateBatchCallbackSuccess: function(validationDescriptors, items, params, endpoint, button) {\n                var errorMessage, itemLimit = this._currentItemLimit, proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n                if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n                    if (items.length > 0) {\n                        this._handleCheckedCallback({\n                            name: \"onValidate\",\n                            callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n                            onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n                            onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n                            identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n                        });\n                    } else {\n                        this._itemError(\"noFilesError\");\n                    }\n                } else {\n                    this._onValidateBatchCallbackFailure(items);\n                    errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n                    this._batchError(errorMessage);\n                }\n            },\n            _onValidateCallbackFailure: function(items, index, params, endpoint) {\n                var nextIndex = index + 1;\n                this._fileOrBlobRejected(items[index].id, items[index].file.name);\n                this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n            },\n            _onValidateCallbackSuccess: function(items, index, params, endpoint) {\n                var self = this, nextIndex = index + 1, validationDescriptor = this._getValidationDescriptor(items[index]);\n                this._validateFileOrBlobData(items[index], validationDescriptor).then(function() {\n                    self._upload(items[index].id, params, endpoint);\n                    self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n                }, function() {\n                    self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n                });\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                if (items.length === 0) {\n                    this._itemError(\"noFilesError\");\n                    return;\n                }\n                var validationDescriptors = this._getValidationDescriptors(items), buttonId = this._getButtonId(items[0].file), button = this._getButton(buttonId);\n                this._handleCheckedCallback({\n                    name: \"onValidateBatch\",\n                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n                    identifier: \"batch validation\"\n                });\n            },\n            _preventLeaveInProgress: function() {\n                var self = this;\n                this._disposeSupport.attach(window, \"beforeunload\", function(e) {\n                    if (self.getInProgress()) {\n                        e = e || window.event;\n                        e.returnValue = self._options.messages.onLeave;\n                        return self._options.messages.onLeave;\n                    }\n                });\n            },\n            _refreshSessionData: function() {\n                var self = this, options = this._options.session;\n                if (qq.Session && this._options.session.endpoint != null) {\n                    if (!this._session) {\n                        qq.extend(options, {\n                            cors: this._options.cors\n                        });\n                        options.log = qq.bind(this.log, this);\n                        options.addFileRecord = qq.bind(this._addCannedFile, this);\n                        this._session = new qq.Session(options);\n                    }\n                    setTimeout(function() {\n                        self._session.refresh().then(function(response, xhrOrXdr) {\n                            self._sessionRequestComplete();\n                            self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n                        }, function(response, xhrOrXdr) {\n                            self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n                        });\n                    }, 0);\n                }\n            },\n            _sessionRequestComplete: function() {},\n            _setSize: function(id, newSize) {\n                this._uploadData.updateSize(id, newSize);\n                this._totalProgress && this._totalProgress.onNewSize(id);\n            },\n            _shouldAutoRetry: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n                    if (this._autoRetries[id] === undefined) {\n                        this._autoRetries[id] = 0;\n                    }\n                    if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n                        this._autoRetries[id] += 1;\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _storeForLater: function(id) {\n                this._storedIds.push(id);\n            },\n            _trackButton: function(id) {\n                var buttonId;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    buttonId = this._handler.getFile(id).qqButtonId;\n                } else {\n                    buttonId = this._getButtonId(this._handler.getInput(id));\n                }\n                if (buttonId) {\n                    this._buttonIdsForFileIds[id] = buttonId;\n                }\n            },\n            _updateFormSupportAndParams: function(formElementOrId) {\n                this._options.form.element = formElementOrId;\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this.setEndpoint(this._formSupport.newEndpoint);\n                    }\n                }\n            },\n            _upload: function(id, params, endpoint) {\n                var name = this.getName(id);\n                if (params) {\n                    this.setParams(params, id);\n                }\n                if (endpoint) {\n                    this.setEndpoint(endpoint, id);\n                }\n                this._handleCheckedCallback({\n                    name: \"onSubmit\",\n                    callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n                    onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n                    identifier: id\n                });\n            },\n            _uploadFile: function(id) {\n                if (!this._handler.upload(id)) {\n                    this._uploadData.setStatus(id, qq.status.QUEUED);\n                }\n            },\n            _uploadStoredFiles: function() {\n                var idToUpload, stillSubmitting, self = this;\n                while (this._storedIds.length) {\n                    idToUpload = this._storedIds.shift();\n                    this._uploadFile(idToUpload);\n                }\n                stillSubmitting = this.getUploads({\n                    status: qq.status.SUBMITTING\n                }).length;\n                if (stillSubmitting) {\n                    qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n                    setTimeout(function() {\n                        self._uploadStoredFiles();\n                    }, 1e3);\n                }\n            },\n            _validateFileOrBlobData: function(fileWrapper, validationDescriptor) {\n                var self = this, file = function() {\n                    if (fileWrapper.file instanceof qq.BlobProxy) {\n                        return fileWrapper.file.referenceBlob;\n                    }\n                    return fileWrapper.file;\n                }(), name = validationDescriptor.name, size = validationDescriptor.size, buttonId = this._getButtonId(fileWrapper.file), validationBase = this._getValidationBase(buttonId), validityChecker = new qq.Promise();\n                validityChecker.then(function() {}, function() {\n                    self._fileOrBlobRejected(fileWrapper.id, name);\n                });\n                if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n                    this._itemError(\"typeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (!this._options.validation.allowEmpty && size === 0) {\n                    this._itemError(\"emptyError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n                    this._itemError(\"sizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && size < validationBase.minSizeLimit) {\n                    this._itemError(\"minSizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n                    new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function(errorCode) {\n                        self._itemError(errorCode + \"ImageError\", name, file);\n                        validityChecker.failure();\n                    });\n                } else {\n                    validityChecker.success();\n                }\n                return validityChecker;\n            },\n            _wrapCallbacks: function() {\n                var self, safeCallback, prop;\n                self = this;\n                safeCallback = function(name, callback, args) {\n                    var errorMsg;\n                    try {\n                        return callback.apply(self, args);\n                    } catch (exception) {\n                        errorMsg = exception.message || exception.toString();\n                        self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n                    }\n                };\n                for (prop in this._options.callbacks) {\n                    (function() {\n                        var callbackName, callbackFunc;\n                        callbackName = prop;\n                        callbackFunc = self._options.callbacks[callbackName];\n                        self._options.callbacks[callbackName] = function() {\n                            return safeCallback(callbackName, callbackFunc, arguments);\n                        };\n                    })();\n                }\n            }\n        };\n    })();\n    (function() {\n        \"use strict\";\n        qq.FineUploaderBasic = function(o) {\n            var self = this;\n            this._options = {\n                debug: false,\n                button: null,\n                multiple: true,\n                maxConnections: 3,\n                disableCancelForFormUploads: false,\n                autoUpload: true,\n                warnBeforeUnload: true,\n                request: {\n                    customHeaders: {},\n                    endpoint: \"/server/upload\",\n                    filenameParam: \"qqfilename\",\n                    forceMultipart: true,\n                    inputName: \"qqfile\",\n                    method: \"POST\",\n                    omitDefaultParams: false,\n                    params: {},\n                    paramsInBody: true,\n                    requireSuccessJson: true,\n                    totalFileSizeName: \"qqtotalfilesize\",\n                    uuidName: \"qquuid\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    sizeLimit: 0,\n                    minSizeLimit: 0,\n                    itemLimit: 0,\n                    stopOnFirstInvalidFile: true,\n                    acceptFiles: null,\n                    image: {\n                        maxHeight: 0,\n                        maxWidth: 0,\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    allowEmpty: false\n                },\n                callbacks: {\n                    onSubmit: function(id, name) {},\n                    onSubmitted: function(id, name) {},\n                    onComplete: function(id, name, responseJSON, maybeXhr) {},\n                    onAllComplete: function(successful, failed) {},\n                    onCancel: function(id, name) {},\n                    onUpload: function(id, name) {},\n                    onUploadChunk: function(id, name, chunkData) {},\n                    onUploadChunkSuccess: function(id, chunkData, responseJSON, xhr) {},\n                    onResume: function(id, fileName, chunkData, customResumeData) {},\n                    onProgress: function(id, name, loaded, total) {},\n                    onTotalProgress: function(loaded, total) {},\n                    onError: function(id, name, reason, maybeXhrOrXdr) {},\n                    onAutoRetry: function(id, name, attemptNumber) {},\n                    onManualRetry: function(id, name) {},\n                    onValidateBatch: function(fileOrBlobData) {},\n                    onValidate: function(fileOrBlobData) {},\n                    onSubmitDelete: function(id) {},\n                    onDelete: function(id) {},\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {},\n                    onPasteReceived: function(blob) {},\n                    onStatusChange: function(id, oldStatus, newStatus) {},\n                    onSessionRequestComplete: function(response, success, xhrOrXdr) {}\n                },\n                messages: {\n                    typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n                    sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n                    minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n                    emptyError: \"{file} is empty, please select files again without it.\",\n                    noFilesError: \"No files to upload.\",\n                    tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n                    maxHeightImageError: \"Image is too tall.\",\n                    maxWidthImageError: \"Image is too wide.\",\n                    minHeightImageError: \"Image is not tall enough.\",\n                    minWidthImageError: \"Image is not wide enough.\",\n                    retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n                    onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n                    unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n                },\n                retry: {\n                    enableAuto: false,\n                    maxAutoAttempts: 3,\n                    autoAttemptDelay: 5,\n                    preventRetryResponseProperty: \"preventRetry\"\n                },\n                classes: {\n                    buttonHover: \"qq-upload-button-hover\",\n                    buttonFocus: \"qq-upload-button-focus\"\n                },\n                chunking: {\n                    enabled: false,\n                    concurrent: {\n                        enabled: false\n                    },\n                    mandatory: false,\n                    paramNames: {\n                        partIndex: \"qqpartindex\",\n                        partByteOffset: \"qqpartbyteoffset\",\n                        chunkSize: \"qqchunksize\",\n                        totalFileSize: \"qqtotalfilesize\",\n                        totalParts: \"qqtotalparts\"\n                    },\n                    partSize: function(id) {\n                        return 2e6;\n                    },\n                    success: {\n                        endpoint: null,\n                        headers: function(id) {\n                            return null;\n                        },\n                        jsonPayload: false,\n                        method: \"POST\",\n                        params: function(id) {\n                            return null;\n                        },\n                        resetOnStatus: []\n                    }\n                },\n                resume: {\n                    enabled: false,\n                    recordsExpireIn: 7,\n                    paramNames: {\n                        resuming: \"qqresume\"\n                    },\n                    customKeys: function(fileId) {\n                        return [];\n                    }\n                },\n                formatFileName: function(fileOrBlobName) {\n                    return fileOrBlobName;\n                },\n                text: {\n                    defaultResponseError: \"Upload failure reason unknown\",\n                    fileInputTitle: \"file input\",\n                    sizeSymbols: [ \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" ]\n                },\n                deleteFile: {\n                    enabled: false,\n                    method: \"DELETE\",\n                    endpoint: \"/server/upload\",\n                    customHeaders: {},\n                    params: {}\n                },\n                cors: {\n                    expected: false,\n                    sendCredentials: false,\n                    allowXdr: false\n                },\n                blobs: {\n                    defaultName: \"misc_data\"\n                },\n                paste: {\n                    targetElement: null,\n                    defaultName: \"pasted_image\"\n                },\n                camera: {\n                    ios: false,\n                    button: null\n                },\n                extraButtons: [],\n                session: {\n                    endpoint: null,\n                    params: {},\n                    customHeaders: {},\n                    refreshOnReset: true\n                },\n                form: {\n                    element: \"qq-form\",\n                    autoUpload: false,\n                    interceptSubmit: true\n                },\n                scaling: {\n                    customResizer: null,\n                    sendOriginal: true,\n                    orient: true,\n                    defaultType: null,\n                    defaultQuality: 80,\n                    failureText: \"Failed to scale\",\n                    includeExif: false,\n                    sizes: []\n                },\n                workarounds: {\n                    iosEmptyVideos: true,\n                    ios8SafariUploads: true,\n                    ios8BrowserCrash: false\n                }\n            };\n            qq.extend(this._options, o, true);\n            this._buttons = [];\n            this._extraButtonSpecs = {};\n            this._buttonIdsForFileIds = [];\n            this._wrapCallbacks();\n            this._disposeSupport = new qq.DisposeSupport();\n            this._storedIds = [];\n            this._autoRetries = [];\n            this._retryTimeouts = [];\n            this._preventRetries = [];\n            this._thumbnailUrls = [];\n            this._netUploadedOrQueued = 0;\n            this._netUploaded = 0;\n            this._uploadData = this._createUploadDataTracker();\n            this._initFormSupportAndParams();\n            this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n            this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n            this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n            this._endpointStore = this._createStore(this._options.request.endpoint);\n            this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n            this._handler = this._createUploadHandler();\n            this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n            if (this._options.button) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._options.button,\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._generateExtraButtonSpecs();\n            this._handleCameraAccess();\n            if (this._options.paste.targetElement) {\n                if (qq.PasteSupport) {\n                    this._pasteHandler = this._createPasteHandler();\n                } else {\n                    this.log(\"Paste support module not found\", \"error\");\n                }\n            }\n            this._options.warnBeforeUnload && this._preventLeaveInProgress();\n            this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n            this._refreshSessionData();\n            this._succeededSinceLastAllComplete = [];\n            this._failedSinceLastAllComplete = [];\n            this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n            if (this._scaler.enabled) {\n                this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n            }\n            if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n                this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(id) {\n                    var entry = self._uploadData.retrieve({\n                        id: id\n                    });\n                    return entry && entry.size || 0;\n                });\n            }\n            this._currentItemLimit = this._options.validation.itemLimit;\n            this._customResumeDataStore = this._createStore();\n        };\n        qq.FineUploaderBasic.prototype = qq.basePublicApi;\n        qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi);\n    })();\n    qq.AjaxRequester = function(o) {\n        \"use strict\";\n        var log, shouldParamsBeInQueryString, queue = [], requestData = {}, options = {\n            acceptHeader: null,\n            validMethods: [ \"PATCH\", \"POST\", \"PUT\" ],\n            method: \"POST\",\n            contentType: \"application/x-www-form-urlencoded\",\n            maxConnections: 3,\n            customHeaders: {},\n            endpointStore: {},\n            paramsStore: {},\n            mandatedParams: {},\n            allowXRequestedWithAndCacheControl: true,\n            successfulResponseCodes: {\n                DELETE: [ 200, 202, 204 ],\n                PATCH: [ 200, 201, 202, 203, 204 ],\n                POST: [ 200, 201, 202, 203, 204 ],\n                PUT: [ 200, 201, 202, 203, 204 ],\n                GET: [ 200 ]\n            },\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onSend: function(id) {},\n            onComplete: function(id, xhrOrXdr, isError) {},\n            onProgress: null\n        };\n        qq.extend(options, o);\n        log = options.log;\n        if (qq.indexOf(options.validMethods, options.method) < 0) {\n            throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n        }\n        function isSimpleMethod() {\n            return qq.indexOf([ \"GET\", \"POST\", \"HEAD\" ], options.method) >= 0;\n        }\n        function containsNonSimpleHeaders(headers) {\n            var containsNonSimple = false;\n            qq.each(containsNonSimple, function(idx, header) {\n                if (qq.indexOf([ \"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\" ], header) < 0) {\n                    containsNonSimple = true;\n                    return false;\n                }\n            });\n            return containsNonSimple;\n        }\n        function isXdr(xhr) {\n            return options.cors.expected && xhr.withCredentials === undefined;\n        }\n        function getCorsAjaxTransport() {\n            var xhrOrXdr;\n            if (window.XMLHttpRequest || window.ActiveXObject) {\n                xhrOrXdr = qq.createXhrInstance();\n                if (xhrOrXdr.withCredentials === undefined) {\n                    xhrOrXdr = new XDomainRequest();\n                    xhrOrXdr.onload = function() {};\n                    xhrOrXdr.onerror = function() {};\n                    xhrOrXdr.ontimeout = function() {};\n                    xhrOrXdr.onprogress = function() {};\n                }\n            }\n            return xhrOrXdr;\n        }\n        function getXhrOrXdr(id, suppliedXhr) {\n            var xhrOrXdr = requestData[id] && requestData[id].xhr;\n            if (!xhrOrXdr) {\n                if (suppliedXhr) {\n                    xhrOrXdr = suppliedXhr;\n                } else {\n                    if (options.cors.expected) {\n                        xhrOrXdr = getCorsAjaxTransport();\n                    } else {\n                        xhrOrXdr = qq.createXhrInstance();\n                    }\n                }\n                requestData[id].xhr = xhrOrXdr;\n            }\n            return xhrOrXdr;\n        }\n        function dequeue(id) {\n            var i = qq.indexOf(queue, id), max = options.maxConnections, nextId;\n            delete requestData[id];\n            queue.splice(i, 1);\n            if (queue.length >= max && i < max) {\n                nextId = queue[max - 1];\n                sendRequest(nextId);\n            }\n        }\n        function onComplete(id, xdrError) {\n            var xhr = getXhrOrXdr(id), method = options.method, isError = xdrError === true;\n            dequeue(id);\n            if (isError) {\n                log(method + \" request for \" + id + \" has failed\", \"error\");\n            } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n                isError = true;\n                log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n            }\n            options.onComplete(id, xhr, isError);\n        }\n        function getParams(id) {\n            var onDemandParams = requestData[id].additionalParams, mandatedParams = options.mandatedParams, params;\n            if (options.paramsStore.get) {\n                params = options.paramsStore.get(id);\n            }\n            if (onDemandParams) {\n                qq.each(onDemandParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            if (mandatedParams) {\n                qq.each(mandatedParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            return params;\n        }\n        function sendRequest(id, optXhr) {\n            var xhr = getXhrOrXdr(id, optXhr), method = options.method, params = getParams(id), payload = requestData[id].payload, url;\n            options.onSend(id);\n            url = createUrl(id, params, requestData[id].additionalQueryParams);\n            if (isXdr(xhr)) {\n                xhr.onload = getXdrLoadHandler(id);\n                xhr.onerror = getXdrErrorHandler(id);\n            } else {\n                xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n            }\n            registerForUploadProgress(id);\n            xhr.open(method, url, true);\n            if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n                xhr.withCredentials = true;\n            }\n            setHeaders(id);\n            log(\"Sending \" + method + \" request for \" + id);\n            if (payload) {\n                xhr.send(payload);\n            } else if (shouldParamsBeInQueryString || !params) {\n                xhr.send();\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n                xhr.send(qq.obj2url(params, \"\"));\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n                xhr.send(JSON.stringify(params));\n            } else {\n                xhr.send(params);\n            }\n            return xhr;\n        }\n        function createUrl(id, params, additionalQueryParams) {\n            var endpoint = options.endpointStore.get(id), addToPath = requestData[id].addToPath;\n            if (addToPath != undefined) {\n                endpoint += \"/\" + addToPath;\n            }\n            if (shouldParamsBeInQueryString && params) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            if (additionalQueryParams) {\n                endpoint = qq.obj2url(additionalQueryParams, endpoint);\n            }\n            return endpoint;\n        }\n        function getXhrReadyStateChangeHandler(id) {\n            return function() {\n                if (getXhrOrXdr(id).readyState === 4) {\n                    onComplete(id);\n                }\n            };\n        }\n        function registerForUploadProgress(id) {\n            var onProgress = options.onProgress;\n            if (onProgress) {\n                getXhrOrXdr(id).upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        onProgress(id, e.loaded, e.total);\n                    }\n                };\n            }\n        }\n        function getXdrLoadHandler(id) {\n            return function() {\n                onComplete(id);\n            };\n        }\n        function getXdrErrorHandler(id) {\n            return function() {\n                onComplete(id, true);\n            };\n        }\n        function setHeaders(id) {\n            var xhr = getXhrOrXdr(id), customHeaders = options.customHeaders, onDemandHeaders = requestData[id].additionalHeaders || {}, method = options.method, allHeaders = {};\n            if (!isXdr(xhr)) {\n                options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n                if (options.allowXRequestedWithAndCacheControl) {\n                    if (!options.cors.expected || (!isSimpleMethod() || containsNonSimpleHeaders(customHeaders))) {\n                        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                    }\n                }\n                if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n                    xhr.setRequestHeader(\"Content-Type\", options.contentType);\n                }\n                qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n                qq.extend(allHeaders, onDemandHeaders);\n                qq.each(allHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        }\n        function isResponseSuccessful(responseCode) {\n            return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n        }\n        function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n            requestData[id] = {\n                addToPath: addToPath,\n                additionalParams: additionalParams,\n                additionalQueryParams: additionalQueryParams,\n                additionalHeaders: additionalHeaders,\n                payload: payload\n            };\n            var len = queue.push(id);\n            if (len <= options.maxConnections) {\n                return sendRequest(id, optXhr);\n            }\n        }\n        shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n        qq.extend(this, {\n            initTransport: function(id) {\n                var path, params, headers, payload, cacheBuster, additionalQueryParams;\n                return {\n                    withPath: function(appendToPath) {\n                        path = appendToPath;\n                        return this;\n                    },\n                    withParams: function(additionalParams) {\n                        params = additionalParams;\n                        return this;\n                    },\n                    withQueryParams: function(_additionalQueryParams_) {\n                        additionalQueryParams = _additionalQueryParams_;\n                        return this;\n                    },\n                    withHeaders: function(additionalHeaders) {\n                        headers = additionalHeaders;\n                        return this;\n                    },\n                    withPayload: function(thePayload) {\n                        payload = thePayload;\n                        return this;\n                    },\n                    withCacheBuster: function() {\n                        cacheBuster = true;\n                        return this;\n                    },\n                    send: function(optXhr) {\n                        if (cacheBuster && qq.indexOf([ \"GET\", \"DELETE\" ], options.method) >= 0) {\n                            params.qqtimestamp = new Date().getTime();\n                        }\n                        return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n                    }\n                };\n            },\n            canceled: function(id) {\n                dequeue(id);\n            }\n        });\n    };\n    qq.UploadHandler = function(spec) {\n        \"use strict\";\n        var proxy = spec.proxy, fileState = {}, onCancel = proxy.onCancel, getName = proxy.getName;\n        qq.extend(this, {\n            add: function(id, fileItem) {\n                fileState[id] = fileItem;\n                fileState[id].temp = {};\n            },\n            cancel: function(id) {\n                var self = this, cancelFinalizationEffort = new qq.Promise(), onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n                onCancelRetVal.then(function() {\n                    if (self.isValid(id)) {\n                        fileState[id].canceled = true;\n                        self.expunge(id);\n                    }\n                    cancelFinalizationEffort.success();\n                });\n            },\n            expunge: function(id) {\n                delete fileState[id];\n            },\n            getThirdPartyFileId: function(id) {\n                return fileState[id].key;\n            },\n            isValid: function(id) {\n                return fileState[id] !== undefined;\n            },\n            reset: function() {\n                fileState = {};\n            },\n            _getFileState: function(id) {\n                return fileState[id];\n            },\n            _setThirdPartyFileId: function(id, thirdPartyFileId) {\n                fileState[id].key = thirdPartyFileId;\n            },\n            _wasCanceled: function(id) {\n                return !!fileState[id].canceled;\n            }\n        });\n    };\n    qq.UploadHandlerController = function(o, namespace) {\n        \"use strict\";\n        var controller = this, chunkingPossible = false, concurrentChunkingPossible = false, chunking, preventRetryResponse, log, handler, options = {\n            paramsStore: {},\n            maxConnections: 3,\n            chunking: {\n                enabled: false,\n                multiple: {\n                    enabled: false\n                }\n            },\n            log: function(str, level) {},\n            onProgress: function(id, fileName, loaded, total) {},\n            onComplete: function(id, fileName, response, xhr) {},\n            onCancel: function(id, fileName) {},\n            onUploadPrep: function(id) {},\n            onUpload: function(id, fileName) {},\n            onUploadChunk: function(id, fileName, chunkData) {},\n            onUploadChunkSuccess: function(id, chunkData, response, xhr) {},\n            onAutoRetry: function(id, fileName, response, xhr) {},\n            onResume: function(id, fileName, chunkData, customResumeData) {},\n            onUuidChanged: function(id, newUuid) {},\n            getName: function(id) {},\n            setSize: function(id, newSize) {},\n            isQueued: function(id) {},\n            getIdsInProxyGroup: function(id) {},\n            getIdsInBatch: function(id) {},\n            isInProgress: function(id) {}\n        }, chunked = {\n            done: function(id, chunkIdx, response, xhr) {\n                var chunkData = handler._getChunkData(id, chunkIdx);\n                handler._getFileState(id).attemptingResume = false;\n                delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n                handler._getFileState(id).loaded += chunkData.size;\n                options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n            },\n            finalize: function(id) {\n                var size = options.getSize(id), name = options.getName(id);\n                log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n                handler.finalizeChunks(id).then(function(response, xhr) {\n                    log(\"Finalize successful for \" + id);\n                    var normaizedResponse = upload.normalizeResponse(response, true);\n                    options.onProgress(id, name, size, size);\n                    handler._maybeDeletePersistedChunkData(id);\n                    upload.cleanup(id, normaizedResponse, xhr);\n                }, function(response, xhr) {\n                    var normalizedResponse = upload.normalizeResponse(response, false);\n                    log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n                    if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n                        chunked.reset(id);\n                    }\n                    if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n                        upload.cleanup(id, normalizedResponse, xhr);\n                    }\n                });\n            },\n            handleFailure: function(chunkIdx, id, response, xhr) {\n                var name = options.getName(id);\n                log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n                handler.clearCachedChunk(id, chunkIdx);\n                var responseToReport = upload.normalizeResponse(response, false), inProgressIdx;\n                if (responseToReport.reset) {\n                    chunked.reset(id);\n                } else {\n                    var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n                    inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n                    if (inProgressIdx >= 0) {\n                        handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n                        handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n                    }\n                }\n                if (!handler._getFileState(id).temp.ignoreFailure) {\n                    if (concurrentChunkingPossible) {\n                        handler._getFileState(id).temp.ignoreFailure = true;\n                        log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n                        qq.each(handler._getXhrs(id), function(ckid, ckXhr) {\n                            log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                            ckXhr.abort();\n                            ckXhr._cancelled = true;\n                        });\n                        handler.moveInProgressToRemaining(id);\n                        connectionManager.free(id, true);\n                    }\n                    if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n                        upload.cleanup(id, responseToReport, xhr);\n                    }\n                }\n            },\n            hasMoreParts: function(id) {\n                return !!handler._getFileState(id).chunking.remaining.length;\n            },\n            nextPart: function(id) {\n                var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n                if (nextIdx >= handler._getTotalChunks(id)) {\n                    nextIdx = null;\n                }\n                return nextIdx;\n            },\n            reset: function(id) {\n                log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n                handler._maybeDeletePersistedChunkData(id);\n                handler.reevaluateChunking(id);\n                handler._getFileState(id).loaded = 0;\n                handler._getFileState(id).attemptingResume = false;\n            },\n            sendNext: function(id) {\n                var size = options.getSize(id), name = options.getName(id), chunkIdx = chunked.nextPart(id), chunkData = handler._getChunkData(id, chunkIdx), fileState = handler._getFileState(id), resuming = fileState.attemptingResume, inProgressChunks = fileState.chunking.inProgress || [];\n                if (fileState.loaded == null) {\n                    fileState.loaded = 0;\n                }\n                if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n                    chunked.reset(id);\n                    chunkIdx = chunked.nextPart(id);\n                    chunkData = handler._getChunkData(id, chunkIdx);\n                    resuming = false;\n                }\n                if (chunkIdx == null && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                } else {\n                    inProgressChunks.push(chunkIdx);\n                    handler._getFileState(id).chunking.inProgress = inProgressChunks;\n                    if (concurrentChunkingPossible) {\n                        connectionManager.open(id, chunkIdx);\n                    }\n                    if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n                        chunked.sendNext(id);\n                    }\n                    if (chunkData.blob.size === 0) {\n                        log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n                        chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n                    }\n                    var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n                    onUploadChunkPromise.then(function(requestOverrides) {\n                        if (!options.isInProgress(id)) {\n                            log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n                        } else {\n                            log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                            var uploadChunkData = {\n                                chunkIdx: chunkIdx,\n                                id: id,\n                                overrides: requestOverrides,\n                                resuming: resuming\n                            };\n                            handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                                log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                                handler.clearCachedChunk(id, chunkIdx);\n                                var inProgressChunks = handler._getFileState(id).chunking.inProgress || [], responseToReport = upload.normalizeResponse(response, true), inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                                log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                                chunked.done(id, chunkIdx, responseToReport, xhr);\n                                if (inProgressChunkIdx >= 0) {\n                                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                                }\n                                handler._maybePersistChunkedState(id);\n                                if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                                    chunked.finalize(id);\n                                } else if (chunked.hasMoreParts(id)) {\n                                    chunked.sendNext(id);\n                                } else {\n                                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                                }\n                            }, function failure(response, xhr) {\n                                chunked.handleFailure(chunkIdx, id, response, xhr);\n                            }).done(function() {\n                                handler.clearXhr(id, chunkIdx);\n                            });\n                        }\n                    }, function(error) {\n                        chunked.handleFailure(chunkIdx, id, error, null);\n                    });\n                }\n            }\n        }, connectionManager = {\n            _open: [],\n            _openChunks: {},\n            _waiting: [],\n            available: function() {\n                var max = options.maxConnections, openChunkEntriesCount = 0, openChunksCount = 0;\n                qq.each(connectionManager._openChunks, function(fileId, openChunkIndexes) {\n                    openChunkEntriesCount++;\n                    openChunksCount += openChunkIndexes.length;\n                });\n                return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n            },\n            free: function(id, dontAllowNext) {\n                var allowNext = !dontAllowNext, waitingIndex = qq.indexOf(connectionManager._waiting, id), connectionsIndex = qq.indexOf(connectionManager._open, id), nextId;\n                delete connectionManager._openChunks[id];\n                if (upload.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n                    log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n                    delete handler._getFileState(id).file;\n                }\n                if (waitingIndex >= 0) {\n                    connectionManager._waiting.splice(waitingIndex, 1);\n                } else if (allowNext && connectionsIndex >= 0) {\n                    connectionManager._open.splice(connectionsIndex, 1);\n                    nextId = connectionManager._waiting.shift();\n                    if (nextId >= 0) {\n                        connectionManager._open.push(nextId);\n                        upload.start(nextId);\n                    }\n                }\n            },\n            getWaitingOrConnected: function() {\n                var waitingOrConnected = [];\n                qq.each(connectionManager._openChunks, function(fileId, chunks) {\n                    if (chunks && chunks.length) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                qq.each(connectionManager._open, function(idx, fileId) {\n                    if (!connectionManager._openChunks[fileId]) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n                return waitingOrConnected;\n            },\n            isUsingConnection: function(id) {\n                return qq.indexOf(connectionManager._open, id) >= 0;\n            },\n            open: function(id, chunkIdx) {\n                if (chunkIdx == null) {\n                    connectionManager._waiting.push(id);\n                }\n                if (connectionManager.available()) {\n                    if (chunkIdx == null) {\n                        connectionManager._waiting.pop();\n                        connectionManager._open.push(id);\n                    } else {\n                        (function() {\n                            var openChunksEntry = connectionManager._openChunks[id] || [];\n                            openChunksEntry.push(chunkIdx);\n                            connectionManager._openChunks[id] = openChunksEntry;\n                        })();\n                    }\n                    return true;\n                }\n                return false;\n            },\n            reset: function() {\n                connectionManager._waiting = [];\n                connectionManager._open = [];\n            }\n        }, simple = {\n            send: function(id, name) {\n                var fileState = handler._getFileState(id);\n                if (!fileState) {\n                    log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n                    return;\n                }\n                fileState.loaded = 0;\n                log(\"Sending simple upload request for \" + id);\n                handler.uploadFile(id).then(function(response, optXhr) {\n                    log(\"Simple upload request succeeded for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, true), size = options.getSize(id);\n                    options.onProgress(id, name, size, size);\n                    upload.maybeNewUuid(id, responseToReport);\n                    upload.cleanup(id, responseToReport, optXhr);\n                }, function(response, optXhr) {\n                    log(\"Simple upload request failed for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, false);\n                    if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n                        upload.cleanup(id, responseToReport, optXhr);\n                    }\n                });\n            }\n        }, upload = {\n            cancel: function(id) {\n                log(\"Cancelling \" + id);\n                options.paramsStore.remove(id);\n                connectionManager.free(id);\n            },\n            cleanup: function(id, response, optXhr) {\n                var name = options.getName(id);\n                options.onComplete(id, name, response, optXhr);\n                if (handler._getFileState(id)) {\n                    handler._clearXhrs && handler._clearXhrs(id);\n                }\n                connectionManager.free(id);\n            },\n            getProxyOrBlob: function(id) {\n                return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n            },\n            initHandler: function() {\n                var handlerType = namespace ? qq[namespace] : qq.traditional, handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n                handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n                    getCustomResumeData: options.getCustomResumeData,\n                    getDataByUuid: options.getDataByUuid,\n                    getName: options.getName,\n                    getSize: options.getSize,\n                    getUuid: options.getUuid,\n                    log: log,\n                    onCancel: options.onCancel,\n                    onProgress: options.onProgress,\n                    onUuidChanged: options.onUuidChanged,\n                    onFinalizing: function(id) {\n                        options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n                    }\n                });\n                if (handler._removeExpiredChunkingRecords) {\n                    handler._removeExpiredChunkingRecords();\n                }\n            },\n            isDeferredEligibleForUpload: function(id) {\n                return options.isQueued(id);\n            },\n            maybeDefer: function(id, blob) {\n                if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n                    options.onUploadPrep(id);\n                    log(\"Attempting to generate a blob on-demand for \" + id);\n                    blob.create().then(function(generatedBlob) {\n                        log(\"Generated an on-demand blob for \" + id);\n                        handler.updateBlob(id, generatedBlob);\n                        options.setSize(id, generatedBlob.size);\n                        handler.reevaluateChunking(id);\n                        upload.maybeSendDeferredFiles(id);\n                    }, function(errorMessage) {\n                        var errorResponse = {};\n                        if (errorMessage) {\n                            errorResponse.error = errorMessage;\n                        }\n                        log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n                        options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n                        upload.maybeSendDeferredFiles(id);\n                        connectionManager.free(id);\n                    });\n                } else {\n                    return upload.maybeSendDeferredFiles(id);\n                }\n                return false;\n            },\n            maybeSendDeferredFiles: function(id) {\n                var idsInGroup = options.getIdsInProxyGroup(id), uploadedThisId = false;\n                if (idsInGroup && idsInGroup.length) {\n                    log(\"Maybe ready to upload proxy group file \" + id);\n                    qq.each(idsInGroup, function(idx, idInGroup) {\n                        if (upload.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                            uploadedThisId = idInGroup === id;\n                            upload.now(idInGroup);\n                        } else if (upload.isDeferredEligibleForUpload(idInGroup)) {\n                            return false;\n                        }\n                    });\n                } else {\n                    uploadedThisId = true;\n                    upload.now(id);\n                }\n                return uploadedThisId;\n            },\n            maybeNewUuid: function(id, response) {\n                if (response.newUuid !== undefined) {\n                    options.onUuidChanged(id, response.newUuid);\n                }\n            },\n            normalizeResponse: function(originalResponse, successful) {\n                var response = originalResponse;\n                if (!qq.isObject(originalResponse)) {\n                    response = {};\n                    if (qq.isString(originalResponse) && !successful) {\n                        response.error = originalResponse;\n                    }\n                }\n                response.success = successful;\n                return response;\n            },\n            now: function(id) {\n                var name = options.getName(id);\n                if (!controller.isValid(id)) {\n                    throw new qq.Error(id + \" is not a valid file ID to upload!\");\n                }\n                options.onUpload(id, name).then(function(response) {\n                    if (response && response.pause) {\n                        options.setStatus(id, qq.status.PAUSED);\n                        handler.pause(id);\n                        connectionManager.free(id);\n                    } else {\n                        if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                            chunked.sendNext(id);\n                        } else {\n                            simple.send(id, name);\n                        }\n                    }\n                }, function(error) {\n                    error = error || {};\n                    log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n                    if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n                        var response = upload.normalizeResponse(error.responseJSON, false);\n                        upload.cleanup(id, response);\n                    }\n                });\n            },\n            start: function(id) {\n                var blobToUpload = upload.getProxyOrBlob(id);\n                if (blobToUpload) {\n                    return upload.maybeDefer(id, blobToUpload);\n                } else {\n                    upload.now(id);\n                    return true;\n                }\n            }\n        };\n        qq.extend(this, {\n            add: function(id, file) {\n                handler.add.apply(this, arguments);\n            },\n            upload: function(id) {\n                if (connectionManager.open(id)) {\n                    return upload.start(id);\n                }\n                return false;\n            },\n            retry: function(id) {\n                if (concurrentChunkingPossible) {\n                    handler._getFileState(id).temp.ignoreFailure = false;\n                }\n                if (connectionManager.isUsingConnection(id)) {\n                    return upload.start(id);\n                } else {\n                    return controller.upload(id);\n                }\n            },\n            cancel: function(id) {\n                var cancelRetVal = handler.cancel(id);\n                if (qq.isGenericPromise(cancelRetVal)) {\n                    cancelRetVal.then(function() {\n                        upload.cancel(id);\n                    });\n                } else if (cancelRetVal !== false) {\n                    upload.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var waitingOrConnected = connectionManager.getWaitingOrConnected(), i;\n                if (waitingOrConnected.length) {\n                    for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n                        controller.cancel(waitingOrConnected[i]);\n                    }\n                }\n                connectionManager.reset();\n            },\n            getFile: function(id) {\n                if (handler.getProxy && handler.getProxy(id)) {\n                    return handler.getProxy(id).referenceBlob;\n                }\n                return handler.getFile && handler.getFile(id);\n            },\n            isProxied: function(id) {\n                return !!(handler.getProxy && handler.getProxy(id));\n            },\n            getInput: function(id) {\n                if (handler.getInput) {\n                    return handler.getInput(id);\n                }\n            },\n            reset: function() {\n                log(\"Resetting upload handler\");\n                controller.cancelAll();\n                connectionManager.reset();\n                handler.reset();\n            },\n            expunge: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.expunge(id);\n                }\n            },\n            isValid: function(id) {\n                return handler.isValid(id);\n            },\n            hasResumeRecord: function(id) {\n                var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n                if (key) {\n                    return !!localStorage.getItem(key);\n                }\n                return false;\n            },\n            getResumableFilesData: function() {\n                if (handler.getResumableFilesData) {\n                    return handler.getResumableFilesData();\n                }\n                return [];\n            },\n            getThirdPartyFileId: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.getThirdPartyFileId(id);\n                }\n            },\n            pause: function(id) {\n                if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n                    connectionManager.free(id);\n                    handler.moveInProgressToRemaining(id);\n                    return true;\n                }\n                return false;\n            },\n            isAttemptingResume: function(id) {\n                return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n            },\n            isResumable: function(id) {\n                return !!handler.isResumable && handler.isResumable(id);\n            }\n        });\n        qq.extend(options, o);\n        log = options.log;\n        chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n        concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n        preventRetryResponse = function() {\n            var response = {};\n            response[options.preventRetryParam] = true;\n            return response;\n        }();\n        upload.initHandler();\n    };\n    qq.WindowReceiveMessage = function(o) {\n        \"use strict\";\n        var options = {\n            log: function(message, level) {}\n        }, callbackWrapperDetachers = {};\n        qq.extend(options, o);\n        qq.extend(this, {\n            receiveMessage: function(id, callback) {\n                var onMessageCallbackWrapper = function(event) {\n                    callback(event.data);\n                };\n                if (window.postMessage) {\n                    callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n                } else {\n                    log(\"iframe message passing not supported in this browser!\", \"error\");\n                }\n            },\n            stopReceivingMessages: function(id) {\n                if (window.postMessage) {\n                    var detacher = callbackWrapperDetachers[id];\n                    if (detacher) {\n                        detacher();\n                    }\n                }\n            }\n        });\n    };\n    qq.FormUploadHandler = function(spec) {\n        \"use strict\";\n        var options = spec.options, handler = this, proxy = spec.proxy, formHandlerInstanceId = qq.getUniqueId(), onloadCallbacks = {}, detachLoadEvents = {}, postMessageCallbackTimers = {}, isCors = options.isCors, inputName = options.inputName, getUuid = proxy.getUuid, log = proxy.log, corsMessageReceiver = new qq.WindowReceiveMessage({\n            log: log\n        });\n        function expungeFile(id) {\n            delete detachLoadEvents[id];\n            if (isCors) {\n                clearTimeout(postMessageCallbackTimers[id]);\n                delete postMessageCallbackTimers[id];\n                corsMessageReceiver.stopReceivingMessages(id);\n            }\n            var iframe = document.getElementById(handler._getIframeName(id));\n            if (iframe) {\n                iframe.setAttribute(\"src\", \"javascript:false;\");\n                qq(iframe).remove();\n            }\n        }\n        function getFileIdForIframeName(iframeName) {\n            return iframeName.split(\"_\")[0];\n        }\n        function initIframeForUpload(name) {\n            var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n            iframe.setAttribute(\"id\", name);\n            iframe.style.display = \"none\";\n            document.body.appendChild(iframe);\n            return iframe;\n        }\n        function registerPostMessageCallback(iframe, callback) {\n            var iframeName = iframe.id, fileId = getFileIdForIframeName(iframeName), uuid = getUuid(fileId);\n            onloadCallbacks[uuid] = callback;\n            detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function() {\n                if (handler.getInput(fileId)) {\n                    log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n                    postMessageCallbackTimers[iframeName] = setTimeout(function() {\n                        var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n                        log(errorMessage, \"error\");\n                        callback({\n                            error: errorMessage\n                        });\n                    }, 1e3);\n                }\n            });\n            corsMessageReceiver.receiveMessage(iframeName, function(message) {\n                log(\"Received the following window message: '\" + message + \"'\");\n                var fileId = getFileIdForIframeName(iframeName), response = handler._parseJsonResponse(message), uuid = response.uuid, onloadCallback;\n                if (uuid && onloadCallbacks[uuid]) {\n                    log(\"Handling response for iframe name \" + iframeName);\n                    clearTimeout(postMessageCallbackTimers[iframeName]);\n                    delete postMessageCallbackTimers[iframeName];\n                    handler._detachLoadEvent(iframeName);\n                    onloadCallback = onloadCallbacks[uuid];\n                    delete onloadCallbacks[uuid];\n                    corsMessageReceiver.stopReceivingMessages(iframeName);\n                    onloadCallback(response);\n                } else if (!uuid) {\n                    log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n                }\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, fileInput) {\n                    super_.add(id, {\n                        input: fileInput\n                    });\n                    fileInput.setAttribute(\"name\", inputName);\n                    if (fileInput.parentNode) {\n                        qq(fileInput).remove();\n                    }\n                },\n                expunge: function(id) {\n                    expungeFile(id);\n                    super_.expunge(id);\n                },\n                isValid: function(id) {\n                    return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n                }\n            };\n        });\n        qq.extend(this, {\n            getInput: function(id) {\n                return handler._getFileState(id).input;\n            },\n            _attachLoadEvent: function(iframe, callback) {\n                var responseDescriptor;\n                if (isCors) {\n                    registerPostMessageCallback(iframe, callback);\n                } else {\n                    detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function() {\n                        log(\"Received response for \" + iframe.id);\n                        if (!iframe.parentNode) {\n                            return;\n                        }\n                        try {\n                            if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                                return;\n                            }\n                        } catch (error) {\n                            log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n                            responseDescriptor = {\n                                success: false\n                            };\n                        }\n                        callback(responseDescriptor);\n                    });\n                }\n            },\n            _createIframe: function(id) {\n                var iframeName = handler._getIframeName(id);\n                return initIframeForUpload(iframeName);\n            },\n            _detachLoadEvent: function(id) {\n                if (detachLoadEvents[id] !== undefined) {\n                    detachLoadEvents[id]();\n                    delete detachLoadEvents[id];\n                }\n            },\n            _getIframeName: function(fileId) {\n                return fileId + \"_\" + formHandlerInstanceId;\n            },\n            _initFormForUpload: function(spec) {\n                var method = spec.method, endpoint = spec.endpoint, params = spec.params, paramsInBody = spec.paramsInBody, targetName = spec.targetName, form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"), url = endpoint;\n                if (paramsInBody) {\n                    qq.obj2Inputs(params, form);\n                } else {\n                    url = qq.obj2url(params, endpoint);\n                }\n                form.setAttribute(\"action\", url);\n                form.setAttribute(\"target\", targetName);\n                form.style.display = \"none\";\n                document.body.appendChild(form);\n                return form;\n            },\n            _parseJsonResponse: function(innerHtmlOrMessage) {\n                var response = {};\n                try {\n                    response = qq.parseJson(innerHtmlOrMessage);\n                } catch (error) {\n                    log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n                }\n                return response;\n            }\n        });\n    };\n    qq.XhrUploadHandler = function(spec) {\n        \"use strict\";\n        var handler = this, namespace = spec.options.namespace, proxy = spec.proxy, chunking = spec.options.chunking, getChunkSize = function(id) {\n            var fileState = handler._getFileState(id);\n            if (fileState.chunkSize) {\n                return fileState.chunkSize;\n            } else {\n                var chunkSize = chunking.partSize;\n                if (qq.isFunction(chunkSize)) {\n                    chunkSize = chunkSize(id, getSize(id));\n                }\n                fileState.chunkSize = chunkSize;\n                return chunkSize;\n            }\n        }, resume = spec.options.resume, chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking, resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, getEndpoint = proxy.getEndpoint, getDataByUuid = proxy.getDataByUuid, onUuidChanged = proxy.onUuidChanged, onProgress = proxy.onProgress, log = proxy.log, getCustomResumeData = proxy.getCustomResumeData;\n        function abort(id) {\n            qq.each(handler._getXhrs(id), function(xhrId, xhr) {\n                var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n                xhr.onreadystatechange = null;\n                xhr.upload.onprogress = null;\n                xhr.abort();\n                ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, blobOrProxy) {\n                    if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n                        super_.add(id, {\n                            file: blobOrProxy\n                        });\n                    } else if (blobOrProxy instanceof qq.BlobProxy) {\n                        super_.add(id, {\n                            proxy: blobOrProxy\n                        });\n                    } else {\n                        throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n                    }\n                    handler._initTempState(id);\n                    resumeEnabled && handler._maybePrepareForResume(id);\n                },\n                expunge: function(id) {\n                    abort(id);\n                    handler._maybeDeletePersistedChunkData(id);\n                    handler._clearXhrs(id);\n                    super_.expunge(id);\n                }\n            };\n        });\n        qq.extend(this, {\n            clearCachedChunk: function(id, chunkIdx) {\n                var fileState = handler._getFileState(id);\n                if (fileState) {\n                    delete fileState.temp.cachedChunks[chunkIdx];\n                }\n            },\n            clearXhr: function(id, chunkIdx) {\n                var tempState = handler._getFileState(id).temp;\n                if (tempState.xhrs) {\n                    delete tempState.xhrs[chunkIdx];\n                }\n                if (tempState.ajaxRequesters) {\n                    delete tempState.ajaxRequesters[chunkIdx];\n                }\n            },\n            finalizeChunks: function(id, responseParser) {\n                var lastChunkIdx = handler._getTotalChunks(id) - 1, xhr = handler._getXhr(id, lastChunkIdx);\n                if (responseParser) {\n                    return new qq.Promise().success(responseParser(xhr), xhr);\n                }\n                return new qq.Promise().success({}, xhr);\n            },\n            getFile: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).file;\n            },\n            getProxy: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).proxy;\n            },\n            getResumableFilesData: function() {\n                var resumableFilesData = [];\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n                    var data = {\n                        name: uploadData.name,\n                        remaining: uploadData.chunking.remaining,\n                        size: uploadData.size,\n                        uuid: uploadData.uuid\n                    };\n                    if (uploadData.key) {\n                        data.key = uploadData.key;\n                    }\n                    if (uploadData.customResumeData) {\n                        data.customResumeData = uploadData.customResumeData;\n                    }\n                    resumableFilesData.push(data);\n                });\n                return resumableFilesData;\n            },\n            isAttemptingResume: function(id) {\n                return handler._getFileState(id).attemptingResume;\n            },\n            isResumable: function(id) {\n                return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n            },\n            moveInProgressToRemaining: function(id, optInProgress, optRemaining) {\n                var fileState = handler._getFileState(id) || {}, chunkingState = fileState.chunking || {}, inProgress = optInProgress || chunkingState.inProgress, remaining = optRemaining || chunkingState.remaining;\n                if (inProgress) {\n                    log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n                    inProgress.reverse();\n                    qq.each(inProgress, function(idx, chunkIdx) {\n                        remaining.unshift(chunkIdx);\n                    });\n                    inProgress.length = 0;\n                }\n            },\n            pause: function(id) {\n                if (handler.isValid(id)) {\n                    log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n                    handler._getFileState(id).paused = true;\n                    abort(id);\n                    return true;\n                }\n            },\n            reevaluateChunking: function(id) {\n                if (chunking && handler.isValid(id)) {\n                    var state = handler._getFileState(id), totalChunks, i;\n                    delete state.chunking;\n                    state.chunking = {};\n                    totalChunks = handler._getTotalChunks(id);\n                    if (totalChunks > 1 || chunking.mandatory) {\n                        state.chunking.enabled = true;\n                        state.chunking.parts = totalChunks;\n                        state.chunking.remaining = [];\n                        for (i = 0; i < totalChunks; i++) {\n                            state.chunking.remaining.push(i);\n                        }\n                        handler._initTempState(id);\n                    } else {\n                        state.chunking.enabled = false;\n                    }\n                }\n            },\n            updateBlob: function(id, newBlob) {\n                if (handler.isValid(id)) {\n                    handler._getFileState(id).file = newBlob;\n                }\n            },\n            _clearXhrs: function(id) {\n                var tempState = handler._getFileState(id).temp;\n                qq.each(tempState.ajaxRequesters, function(chunkId) {\n                    delete tempState.ajaxRequesters[chunkId];\n                });\n                qq.each(tempState.xhrs, function(chunkId) {\n                    delete tempState.xhrs[chunkId];\n                });\n            },\n            _createXhr: function(id, optChunkIdx) {\n                return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n            },\n            _getAjaxRequester: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n            },\n            _getChunkData: function(id, chunkIndex) {\n                var chunkSize = getChunkSize(id), fileSize = getSize(id), fileOrBlob = handler.getFile(id), startBytes = chunkSize * chunkIndex, endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize, totalChunks = handler._getTotalChunks(id), cachedChunks = this._getFileState(id).temp.cachedChunks, blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n                cachedChunks[chunkIndex] = blob;\n                return {\n                    part: chunkIndex,\n                    start: startBytes,\n                    end: endBytes,\n                    count: totalChunks,\n                    blob: blob,\n                    size: endBytes - startBytes\n                };\n            },\n            _getChunkDataForCallback: function(chunkData) {\n                return {\n                    partIndex: chunkData.part,\n                    startByte: chunkData.start + 1,\n                    endByte: chunkData.end,\n                    totalParts: chunkData.count\n                };\n            },\n            _getLocalStorageId: function(id) {\n                var formatVersion = \"5.0\", name = getName(id), size = getSize(id), chunkSize = getChunkSize(id), endpoint = getEndpoint(id), customKeys = resume.customKeys(id), localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n                customKeys.forEach(function(key) {\n                    localStorageId += \"-\" + key;\n                });\n                return localStorageId;\n            },\n            _getMimeType: function(id) {\n                return handler.getFile(id).type;\n            },\n            _getPersistableData: function(id) {\n                return handler._getFileState(id).chunking;\n            },\n            _getTotalChunks: function(id) {\n                if (chunking) {\n                    var fileSize = getSize(id), chunkSize = getChunkSize(id);\n                    return Math.ceil(fileSize / chunkSize);\n                }\n            },\n            _getXhr: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.xhrs[chunkIdx];\n            },\n            _getXhrs: function(id) {\n                return handler._getFileState(id).temp.xhrs;\n            },\n            _iterateResumeRecords: function(callback) {\n                if (resumeEnabled) {\n                    qq.each(localStorage, function(key, item) {\n                        if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n                            var uploadData = JSON.parse(item);\n                            callback(key, uploadData);\n                        }\n                    });\n                }\n            },\n            _initTempState: function(id) {\n                handler._getFileState(id).temp = {\n                    ajaxRequesters: {},\n                    chunkProgress: {},\n                    xhrs: {},\n                    cachedChunks: {}\n                };\n            },\n            _markNotResumable: function(id) {\n                handler._getFileState(id).notResumable = true;\n            },\n            _maybeDeletePersistedChunkData: function(id) {\n                var localStorageId;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    if (localStorageId && localStorage.getItem(localStorageId)) {\n                        localStorage.removeItem(localStorageId);\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _maybePrepareForResume: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && state.key === undefined) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = localStorage.getItem(localStorageId);\n                    if (persistedData) {\n                        persistedData = JSON.parse(persistedData);\n                        if (getDataByUuid(persistedData.uuid)) {\n                            handler._markNotResumable(id);\n                        } else {\n                            log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n                            onUuidChanged(id, persistedData.uuid);\n                            state.key = persistedData.key;\n                            state.chunking = persistedData.chunking;\n                            state.loaded = persistedData.loaded;\n                            state.customResumeData = persistedData.customResumeData;\n                            state.attemptingResume = true;\n                            handler.moveInProgressToRemaining(id);\n                        }\n                    }\n                }\n            },\n            _maybePersistChunkedState: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    var customResumeData = getCustomResumeData(id);\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = {\n                        name: getName(id),\n                        size: getSize(id),\n                        uuid: getUuid(id),\n                        key: state.key,\n                        chunking: state.chunking,\n                        loaded: state.loaded,\n                        lastUpdated: Date.now()\n                    };\n                    if (customResumeData) {\n                        persistedData.customResumeData = customResumeData;\n                    }\n                    try {\n                        localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n                    } catch (error) {\n                        log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n                    }\n                }\n            },\n            _registerProgressHandler: function(id, chunkIdx, chunkSize) {\n                var xhr = handler._getXhr(id, chunkIdx), name = getName(id), progressCalculator = {\n                    simple: function(loaded, total) {\n                        var fileSize = getSize(id);\n                        if (loaded === total) {\n                            onProgress(id, name, fileSize, fileSize);\n                        } else {\n                            onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n                        }\n                    },\n                    chunked: function(loaded, total) {\n                        var chunkProgress = handler._getFileState(id).temp.chunkProgress, totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded, loadedForRequest = loaded, totalForRequest = total, totalFileSize = getSize(id), estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize), totalLoadedForFile = totalSuccessfullyLoadedForFile;\n                        chunkProgress[chunkIdx] = estActualChunkLoaded;\n                        qq.each(chunkProgress, function(chunkIdx, chunkLoaded) {\n                            totalLoadedForFile += chunkLoaded;\n                        });\n                        onProgress(id, name, totalLoadedForFile, totalFileSize);\n                    }\n                };\n                xhr.upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        var type = chunkSize == null ? \"simple\" : \"chunked\";\n                        progressCalculator[type](e.loaded, e.total);\n                    }\n                };\n            },\n            _registerXhr: function(id, optChunkIdx, xhr, optAjaxRequester) {\n                var xhrsId = optChunkIdx == null ? -1 : optChunkIdx, tempState = handler._getFileState(id).temp;\n                tempState.xhrs = tempState.xhrs || {};\n                tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n                tempState.xhrs[xhrsId] = xhr;\n                if (optAjaxRequester) {\n                    tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n                }\n                return xhr;\n            },\n            _removeExpiredChunkingRecords: function() {\n                var expirationDays = resume.recordsExpireIn;\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    var expirationDate = new Date(uploadData.lastUpdated);\n                    expirationDate.setDate(expirationDate.getDate() + expirationDays);\n                    if (expirationDate.getTime() <= Date.now()) {\n                        log(\"Removing expired resume record with key \" + key);\n                        localStorage.removeItem(key);\n                    }\n                });\n            },\n            _shouldChunkThisFile: function(id) {\n                var state = handler._getFileState(id);\n                if (state) {\n                    if (!state.chunking) {\n                        handler.reevaluateChunking(id);\n                    }\n                    return state.chunking.enabled;\n                }\n            }\n        });\n    };\n    qq.DeleteFileAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            method: \"DELETE\",\n            uuidParamName: \"qquuid\",\n            endpointStore: {},\n            maxConnections: 3,\n            customHeaders: function(id) {\n                return {};\n            },\n            paramsStore: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onDelete: function(id) {},\n            onDeleteComplete: function(id, xhrOrXdr, isError) {}\n        };\n        qq.extend(options, o);\n        function getMandatedParams() {\n            if (options.method.toUpperCase() === \"POST\") {\n                return {\n                    _method: \"DELETE\"\n                };\n            }\n            return {};\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"POST\", \"DELETE\" ],\n            method: options.method,\n            endpointStore: options.endpointStore,\n            paramsStore: options.paramsStore,\n            mandatedParams: getMandatedParams(),\n            maxConnections: options.maxConnections,\n            customHeaders: function(id) {\n                return options.customHeaders.get(id);\n            },\n            log: options.log,\n            onSend: options.onDelete,\n            onComplete: options.onDeleteComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            sendDelete: function(id, uuid, additionalMandatedParams) {\n                var additionalOptions = additionalMandatedParams || {};\n                options.log(\"Submitting delete file request for \" + id);\n                if (options.method === \"DELETE\") {\n                    requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n                } else {\n                    additionalOptions[options.uuidParamName] = uuid;\n                    requester.initTransport(id).withParams(additionalOptions).send();\n                }\n            }\n        });\n    };\n    (function() {\n        function detectSubsampling(img) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, canvas = document.createElement(\"canvas\"), ctx;\n            if (iw * ih > 1024 * 1024) {\n                canvas.width = canvas.height = 1;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, -iw + 1, 0);\n                return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n            } else {\n                return false;\n            }\n        }\n        function detectVerticalSquash(img, iw, ih) {\n            var canvas = document.createElement(\"canvas\"), sy = 0, ey = ih, py = ih, ctx, data, alpha, ratio;\n            canvas.width = 1;\n            canvas.height = ih;\n            ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            data = ctx.getImageData(0, 0, 1, ih).data;\n            while (py > sy) {\n                alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n        function renderImageToDataURL(img, blob, options, doSquash) {\n            var canvas = document.createElement(\"canvas\"), mime = options.mime || \"image/jpeg\", promise = new qq.Promise();\n            renderImageToCanvas(img, blob, canvas, options, doSquash).then(function() {\n                promise.success(canvas.toDataURL(mime, options.quality || .8));\n            });\n            return promise;\n        }\n        function maybeCalculateDownsampledDimensions(spec) {\n            var maxPixels = 5241e3;\n            if (!qq.ios()) {\n                throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n            }\n            if (spec.origHeight * spec.origWidth > maxPixels) {\n                return {\n                    newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n                    newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n                };\n            }\n        }\n        function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, width = options.width, height = options.height, ctx = canvas.getContext(\"2d\"), promise = new qq.Promise(), modifiedDimensions;\n            ctx.save();\n            if (options.resize) {\n                return renderImageToCanvasWithCustomResizer({\n                    blob: blob,\n                    canvas: canvas,\n                    image: img,\n                    imageHeight: ih,\n                    imageWidth: iw,\n                    orientation: options.orientation,\n                    resize: options.resize,\n                    targetHeight: height,\n                    targetWidth: width\n                });\n            }\n            if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n                modifiedDimensions = maybeCalculateDownsampledDimensions({\n                    origWidth: width,\n                    origHeight: height\n                });\n                if (modifiedDimensions) {\n                    qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n                    width = modifiedDimensions.newWidth;\n                    height = modifiedDimensions.newHeight;\n                }\n            }\n            transformCoordinate(canvas, width, height, options.orientation);\n            if (qq.ios()) {\n                (function() {\n                    if (detectSubsampling(img)) {\n                        iw /= 2;\n                        ih /= 2;\n                    }\n                    var d = 1024, tmpCanvas = document.createElement(\"canvas\"), vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1, dw = Math.ceil(d * width / iw), dh = Math.ceil(d * height / ih / vertSquashRatio), sy = 0, dy = 0, tmpCtx, sx, dx;\n                    tmpCanvas.width = tmpCanvas.height = d;\n                    tmpCtx = tmpCanvas.getContext(\"2d\");\n                    while (sy < ih) {\n                        sx = 0;\n                        dx = 0;\n                        while (sx < iw) {\n                            tmpCtx.clearRect(0, 0, d, d);\n                            tmpCtx.drawImage(img, -sx, -sy);\n                            ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n                            sx += d;\n                            dx += dw;\n                        }\n                        sy += d;\n                        dy += dh;\n                    }\n                    ctx.restore();\n                    tmpCanvas = tmpCtx = null;\n                })();\n            } else {\n                ctx.drawImage(img, 0, 0, width, height);\n            }\n            canvas.qqImageRendered && canvas.qqImageRendered();\n            promise.success();\n            return promise;\n        }\n        function renderImageToCanvasWithCustomResizer(resizeInfo) {\n            var blob = resizeInfo.blob, image = resizeInfo.image, imageHeight = resizeInfo.imageHeight, imageWidth = resizeInfo.imageWidth, orientation = resizeInfo.orientation, promise = new qq.Promise(), resize = resizeInfo.resize, sourceCanvas = document.createElement(\"canvas\"), sourceCanvasContext = sourceCanvas.getContext(\"2d\"), targetCanvas = resizeInfo.canvas, targetHeight = resizeInfo.targetHeight, targetWidth = resizeInfo.targetWidth;\n            transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n            targetCanvas.height = targetHeight;\n            targetCanvas.width = targetWidth;\n            sourceCanvasContext.drawImage(image, 0, 0);\n            resize({\n                blob: blob,\n                height: targetHeight,\n                image: image,\n                sourceCanvas: sourceCanvas,\n                targetCanvas: targetCanvas,\n                width: targetWidth\n            }).then(function success() {\n                targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n                promise.success();\n            }, promise.failure);\n            return promise;\n        }\n        function transformCoordinate(canvas, width, height, orientation) {\n            switch (orientation) {\n              case 5:\n              case 6:\n              case 7:\n              case 8:\n                canvas.width = height;\n                canvas.height = width;\n                break;\n\n              default:\n                canvas.width = width;\n                canvas.height = height;\n            }\n            var ctx = canvas.getContext(\"2d\");\n            switch (orientation) {\n              case 2:\n                ctx.translate(width, 0);\n                ctx.scale(-1, 1);\n                break;\n\n              case 3:\n                ctx.translate(width, height);\n                ctx.rotate(Math.PI);\n                break;\n\n              case 4:\n                ctx.translate(0, height);\n                ctx.scale(1, -1);\n                break;\n\n              case 5:\n                ctx.rotate(.5 * Math.PI);\n                ctx.scale(1, -1);\n                break;\n\n              case 6:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(0, -height);\n                break;\n\n              case 7:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(width, -height);\n                ctx.scale(-1, 1);\n                break;\n\n              case 8:\n                ctx.rotate(-.5 * Math.PI);\n                ctx.translate(-width, 0);\n                break;\n\n              default:\n                break;\n            }\n        }\n        function MegaPixImage(srcImage, errorCallback) {\n            var self = this;\n            if (window.Blob && srcImage instanceof Blob) {\n                (function() {\n                    var img = new Image(), URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                    if (!URL) {\n                        throw Error(\"No createObjectURL function found to create blob url\");\n                    }\n                    img.src = URL.createObjectURL(srcImage);\n                    self.blob = srcImage;\n                    srcImage = img;\n                })();\n            }\n            if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n                srcImage.onload = function() {\n                    var listeners = self.imageLoadListeners;\n                    if (listeners) {\n                        self.imageLoadListeners = null;\n                        setTimeout(function() {\n                            for (var i = 0, len = listeners.length; i < len; i++) {\n                                listeners[i]();\n                            }\n                        }, 0);\n                    }\n                };\n                srcImage.onerror = errorCallback;\n                this.imageLoadListeners = [];\n            }\n            this.srcImage = srcImage;\n        }\n        MegaPixImage.prototype.render = function(target, options) {\n            options = options || {};\n            var self = this, imgWidth = this.srcImage.naturalWidth, imgHeight = this.srcImage.naturalHeight, width = options.width, height = options.height, maxWidth = options.maxWidth, maxHeight = options.maxHeight, doSquash = !this.blob || this.blob.type === \"image/jpeg\", tagName = target.tagName.toLowerCase(), opt;\n            if (this.imageLoadListeners) {\n                this.imageLoadListeners.push(function() {\n                    self.render(target, options);\n                });\n                return;\n            }\n            if (width && !height) {\n                height = imgHeight * width / imgWidth << 0;\n            } else if (height && !width) {\n                width = imgWidth * height / imgHeight << 0;\n            } else {\n                width = imgWidth;\n                height = imgHeight;\n            }\n            if (maxWidth && width > maxWidth) {\n                width = maxWidth;\n                height = imgHeight * width / imgWidth << 0;\n            }\n            if (maxHeight && height > maxHeight) {\n                height = maxHeight;\n                width = imgWidth * height / imgHeight << 0;\n            }\n            opt = {\n                width: width,\n                height: height\n            }, qq.each(options, function(optionsKey, optionsValue) {\n                opt[optionsKey] = optionsValue;\n            });\n            if (tagName === \"img\") {\n                (function() {\n                    var oldTargetSrc = target.src;\n                    renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function(dataUri) {\n                        target.src = dataUri;\n                        oldTargetSrc === target.src && target.onload();\n                    });\n                })();\n            } else if (tagName === \"canvas\") {\n                renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n            }\n            if (typeof this.onrender === \"function\") {\n                this.onrender(target);\n            }\n        };\n        qq.MegaPixImage = MegaPixImage;\n    })();\n    qq.ImageGenerator = function(log) {\n        \"use strict\";\n        function isImg(el) {\n            return el.tagName.toLowerCase() === \"img\";\n        }\n        function isCanvas(el) {\n            return el.tagName.toLowerCase() === \"canvas\";\n        }\n        function isImgCorsSupported() {\n            return new Image().crossOrigin !== undefined;\n        }\n        function isCanvasSupported() {\n            var canvas = document.createElement(\"canvas\");\n            return canvas.getContext && canvas.getContext(\"2d\");\n        }\n        function determineMimeOfFileName(nameWithPath) {\n            var pathSegments = nameWithPath.split(\"/\"), name = pathSegments[pathSegments.length - 1].split(\"?\")[0], extension = qq.getExtension(name);\n            extension = extension && extension.toLowerCase();\n            switch (extension) {\n              case \"jpeg\":\n              case \"jpg\":\n                return \"image/jpeg\";\n\n              case \"png\":\n                return \"image/png\";\n\n              case \"bmp\":\n                return \"image/bmp\";\n\n              case \"gif\":\n                return \"image/gif\";\n\n              case \"tiff\":\n              case \"tif\":\n                return \"image/tiff\";\n            }\n        }\n        function isCrossOrigin(url) {\n            var targetAnchor = document.createElement(\"a\"), targetProtocol, targetHostname, targetPort;\n            targetAnchor.href = url;\n            targetProtocol = targetAnchor.protocol;\n            targetPort = targetAnchor.port;\n            targetHostname = targetAnchor.hostname;\n            if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n                return true;\n            }\n            if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n                return true;\n            }\n            if (targetPort !== window.location.port && !qq.ie()) {\n                return true;\n            }\n            return false;\n        }\n        function registerImgLoadListeners(img, promise) {\n            img.onload = function() {\n                img.onload = null;\n                img.onerror = null;\n                promise.success(img);\n            };\n            img.onerror = function() {\n                img.onload = null;\n                img.onerror = null;\n                log(\"Problem drawing thumbnail!\", \"error\");\n                promise.failure(img, \"Problem drawing thumbnail!\");\n            };\n        }\n        function registerCanvasDrawImageListener(canvas, promise) {\n            canvas.qqImageRendered = function() {\n                promise.success(canvas);\n            };\n        }\n        function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n            var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n            if (isImg(imgOrCanvas)) {\n                registerImgLoadListeners(imgOrCanvas, promise);\n            } else if (isCanvas(imgOrCanvas)) {\n                registerCanvasDrawImageListener(imgOrCanvas, promise);\n            } else {\n                promise.failure(imgOrCanvas);\n                log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n            }\n            return registered;\n        }\n        function draw(fileOrBlob, container, options) {\n            var drawPreview = new qq.Promise(), identifier = new qq.Identify(fileOrBlob, log), maxSize = options.maxSize, orient = options.orient == null ? true : options.orient, megapixErrorHandler = function() {\n                container.onerror = null;\n                container.onload = null;\n                log(\"Could not render preview, file may be too large!\", \"error\");\n                drawPreview.failure(container, \"Browser cannot render image!\");\n            };\n            identifier.isPreviewable().then(function(mime) {\n                var dummyExif = {\n                    parse: function() {\n                        return new qq.Promise().success();\n                    }\n                }, exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif, mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n                if (registerThumbnailRenderedListener(container, drawPreview)) {\n                    exif.parse().then(function(exif) {\n                        var orientation = exif && exif.Orientation;\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            orientation: orientation,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    }, function(failureMsg) {\n                        log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    });\n                }\n            }, function() {\n                log(\"Not previewable\");\n                drawPreview.failure(container, \"Not previewable\");\n            });\n            return drawPreview;\n        }\n        function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n            var tempImg = new Image(), tempImgRender = new qq.Promise();\n            registerThumbnailRenderedListener(tempImg, tempImgRender);\n            if (isCrossOrigin(url)) {\n                tempImg.crossOrigin = \"anonymous\";\n            }\n            tempImg.src = url;\n            tempImgRender.then(function rendered() {\n                registerThumbnailRenderedListener(canvasOrImg, draw);\n                var mpImg = new qq.MegaPixImage(tempImg);\n                mpImg.render(canvasOrImg, {\n                    maxWidth: maxSize,\n                    maxHeight: maxSize,\n                    mime: determineMimeOfFileName(url),\n                    resize: customResizeFunction\n                });\n            }, draw.failure);\n        }\n        function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n            registerThumbnailRenderedListener(img, draw);\n            qq(img).css({\n                maxWidth: maxSize + \"px\",\n                maxHeight: maxSize + \"px\"\n            });\n            img.src = url;\n        }\n        function drawFromUrl(url, container, options) {\n            var draw = new qq.Promise(), scale = options.scale, maxSize = scale ? options.maxSize : null;\n            if (scale && isImg(container)) {\n                if (isCanvasSupported()) {\n                    if (isCrossOrigin(url) && !isImgCorsSupported()) {\n                        drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                    } else {\n                        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n                    }\n                } else {\n                    drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                }\n            } else if (isCanvas(container)) {\n                drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n            } else if (registerThumbnailRenderedListener(container, draw)) {\n                container.src = url;\n            }\n            return draw;\n        }\n        qq.extend(this, {\n            generate: function(fileBlobOrUrl, container, options) {\n                if (qq.isString(fileBlobOrUrl)) {\n                    log(\"Attempting to update thumbnail based on server response.\");\n                    return drawFromUrl(fileBlobOrUrl, container, options || {});\n                } else {\n                    log(\"Attempting to draw client-side image preview.\");\n                    return draw(fileBlobOrUrl, container, options || {});\n                }\n            }\n        });\n        this._testing = {};\n        this._testing.isImg = isImg;\n        this._testing.isCanvas = isCanvas;\n        this._testing.isCrossOrigin = isCrossOrigin;\n        this._testing.determineMimeOfFileName = determineMimeOfFileName;\n    };\n    qq.Exif = function(fileOrBlob, log) {\n        \"use strict\";\n        var TAG_IDS = [ 274 ], TAG_INFO = {\n            274: {\n                name: \"Orientation\",\n                bytes: 2\n            }\n        };\n        function parseLittleEndian(hex) {\n            var result = 0, pow = 0;\n            while (hex.length > 0) {\n                result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n                hex = hex.substring(2, hex.length);\n                pow += 8;\n            }\n            return result;\n        }\n        function seekToApp1(offset, promise) {\n            var theOffset = offset, thePromise = promise;\n            if (theOffset === undefined) {\n                theOffset = 2;\n                thePromise = new qq.Promise();\n            }\n            qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function(hex) {\n                var match = /^ffe([0-9])/.exec(hex), segmentLength;\n                if (match) {\n                    if (match[1] !== \"1\") {\n                        segmentLength = parseInt(hex.slice(4, 8), 16);\n                        seekToApp1(theOffset + segmentLength + 2, thePromise);\n                    } else {\n                        thePromise.success(theOffset);\n                    }\n                } else {\n                    thePromise.failure(\"No EXIF header to be found!\");\n                }\n            });\n            return thePromise;\n        }\n        function getApp1Offset() {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, 0, 6).then(function(hex) {\n                if (hex.indexOf(\"ffd8\") !== 0) {\n                    promise.failure(\"Not a valid JPEG!\");\n                } else {\n                    seekToApp1().then(function(offset) {\n                        promise.success(offset);\n                    }, function(error) {\n                        promise.failure(error);\n                    });\n                }\n            });\n            return promise;\n        }\n        function isLittleEndian(app1Start) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function(hex) {\n                promise.success(hex === \"4949\");\n            });\n            return promise;\n        }\n        function getDirEntryCount(app1Start, littleEndian) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function(hex) {\n                if (littleEndian) {\n                    return promise.success(parseLittleEndian(hex));\n                } else {\n                    promise.success(parseInt(hex, 16));\n                }\n            });\n            return promise;\n        }\n        function getIfd(app1Start, dirEntries) {\n            var offset = app1Start + 20, bytes = dirEntries * 12;\n            return qq.readBlobToHex(fileOrBlob, offset, bytes);\n        }\n        function getDirEntries(ifdHex) {\n            var entries = [], offset = 0;\n            while (offset + 24 <= ifdHex.length) {\n                entries.push(ifdHex.slice(offset, offset + 24));\n                offset += 24;\n            }\n            return entries;\n        }\n        function getTagValues(littleEndian, dirEntries) {\n            var TAG_VAL_OFFSET = 16, tagsToFind = qq.extend([], TAG_IDS), vals = {};\n            qq.each(dirEntries, function(idx, entry) {\n                var idHex = entry.slice(0, 4), id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16), tagsToFindIdx = tagsToFind.indexOf(id), tagValHex, tagName, tagValLength;\n                if (tagsToFindIdx >= 0) {\n                    tagName = TAG_INFO[id].name;\n                    tagValLength = TAG_INFO[id].bytes;\n                    tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n                    vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n                    tagsToFind.splice(tagsToFindIdx, 1);\n                }\n                if (tagsToFind.length === 0) {\n                    return false;\n                }\n            });\n            return vals;\n        }\n        qq.extend(this, {\n            parse: function() {\n                var parser = new qq.Promise(), onParseFailure = function(message) {\n                    log(qq.format(\"EXIF header parse failed: '{}' \", message));\n                    parser.failure(message);\n                };\n                getApp1Offset().then(function(app1Offset) {\n                    log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n                    isLittleEndian(app1Offset).then(function(littleEndian) {\n                        log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n                        getDirEntryCount(app1Offset, littleEndian).then(function(dirEntryCount) {\n                            log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n                            getIfd(app1Offset, dirEntryCount).then(function(ifdHex) {\n                                var dirEntries = getDirEntries(ifdHex), tagValues = getTagValues(littleEndian, dirEntries);\n                                log(\"Successfully parsed some EXIF tags\");\n                                parser.success(tagValues);\n                            }, onParseFailure);\n                        }, onParseFailure);\n                    }, onParseFailure);\n                }, onParseFailure);\n                return parser;\n            }\n        });\n        this._testing = {};\n        this._testing.parseLittleEndian = parseLittleEndian;\n    };\n    qq.Identify = function(fileOrBlob, log) {\n        \"use strict\";\n        function isIdentifiable(magicBytes, questionableBytes) {\n            var identifiable = false, magicBytesEntries = [].concat(magicBytes);\n            qq.each(magicBytesEntries, function(idx, magicBytesArrayEntry) {\n                if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n                    identifiable = true;\n                    return false;\n                }\n            });\n            return identifiable;\n        }\n        qq.extend(this, {\n            isPreviewable: function() {\n                var self = this, identifier = new qq.Promise(), previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n                log(\"First pass: check type attribute of blob object.\");\n                if (this.isPreviewableSync()) {\n                    log(\"Second pass: check for magic bytes in file header.\");\n                    qq.readBlobToHex(fileOrBlob, 0, 4).then(function(hex) {\n                        qq.each(self.PREVIEWABLE_MIME_TYPES, function(mime, bytes) {\n                            if (isIdentifiable(bytes, hex)) {\n                                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                                    previewable = true;\n                                    identifier.success(mime);\n                                }\n                                return false;\n                            }\n                        });\n                        log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n                        if (!previewable) {\n                            identifier.failure();\n                        }\n                    }, function() {\n                        log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n                        identifier.failure();\n                    });\n                } else {\n                    identifier.failure();\n                }\n                return identifier;\n            },\n            isPreviewableSync: function() {\n                var fileMime = fileOrBlob.type, isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0, previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                if (isRecognizedImage) {\n                    if (fileMime === \"image/tiff\") {\n                        previewable = qq.supportedFeatures.tiffPreviews;\n                    } else {\n                        previewable = true;\n                    }\n                }\n                !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n                return previewable;\n            }\n        });\n    };\n    qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n        \"image/jpeg\": \"ffd8ff\",\n        \"image/gif\": \"474946\",\n        \"image/png\": \"89504e\",\n        \"image/bmp\": \"424d\",\n        \"image/tiff\": [ \"49492a00\", \"4d4d002a\" ]\n    };\n    qq.ImageValidation = function(blob, log) {\n        \"use strict\";\n        function hasNonZeroLimits(limits) {\n            var atLeastOne = false;\n            qq.each(limits, function(limit, value) {\n                if (value > 0) {\n                    atLeastOne = true;\n                    return false;\n                }\n            });\n            return atLeastOne;\n        }\n        function getWidthHeight() {\n            var sizeDetermination = new qq.Promise();\n            new qq.Identify(blob, log).isPreviewable().then(function() {\n                var image = new Image(), url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                if (url) {\n                    image.onerror = function() {\n                        log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n                        sizeDetermination.failure();\n                    };\n                    image.onload = function() {\n                        sizeDetermination.success({\n                            width: this.width,\n                            height: this.height\n                        });\n                    };\n                    image.src = url.createObjectURL(blob);\n                } else {\n                    log(\"No createObjectURL function available to generate image URL!\", \"error\");\n                    sizeDetermination.failure();\n                }\n            }, sizeDetermination.failure);\n            return sizeDetermination;\n        }\n        function getFailingLimit(limits, dimensions) {\n            var failingLimit;\n            qq.each(limits, function(limitName, limitValue) {\n                if (limitValue > 0) {\n                    var limitMatcher = /(max|min)(Width|Height)/.exec(limitName), dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1), actualValue = dimensions[dimensionPropName];\n                    switch (limitMatcher[1]) {\n                      case \"min\":\n                        if (actualValue < limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n\n                      case \"max\":\n                        if (actualValue > limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n                    }\n                }\n            });\n            return failingLimit;\n        }\n        this.validate = function(limits) {\n            var validationEffort = new qq.Promise();\n            log(\"Attempting to validate image.\");\n            if (hasNonZeroLimits(limits)) {\n                getWidthHeight().then(function(dimensions) {\n                    var failingLimit = getFailingLimit(limits, dimensions);\n                    if (failingLimit) {\n                        validationEffort.failure(failingLimit);\n                    } else {\n                        validationEffort.success();\n                    }\n                }, validationEffort.success);\n            } else {\n                validationEffort.success();\n            }\n            return validationEffort;\n        };\n    };\n    qq.Session = function(spec) {\n        \"use strict\";\n        var options = {\n            endpoint: null,\n            params: {},\n            customHeaders: {},\n            cors: {},\n            addFileRecord: function(sessionData) {},\n            log: function(message, level) {}\n        };\n        qq.extend(options, spec, true);\n        function isJsonResponseValid(response) {\n            if (qq.isArray(response)) {\n                return true;\n            }\n            options.log(\"Session response is not an array.\", \"error\");\n        }\n        function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n            var someItemsIgnored = false;\n            success = success && isJsonResponseValid(fileItems);\n            if (success) {\n                qq.each(fileItems, function(idx, fileItem) {\n                    if (fileItem.uuid == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n                    } else if (fileItem.name == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n                    } else {\n                        try {\n                            options.addFileRecord(fileItem);\n                            return true;\n                        } catch (err) {\n                            someItemsIgnored = true;\n                            options.log(err.message, \"error\");\n                        }\n                    }\n                    return false;\n                });\n            }\n            promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n        }\n        this.refresh = function() {\n            var refreshEffort = new qq.Promise(), refreshCompleteCallback = function(response, success, xhrOrXdr) {\n                handleFileItems(response, success, xhrOrXdr, refreshEffort);\n            }, requesterOptions = qq.extend({}, options), requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n                onComplete: refreshCompleteCallback\n            }));\n            requester.queryServer();\n            return refreshEffort;\n        };\n    };\n    qq.SessionAjaxRequester = function(spec) {\n        \"use strict\";\n        var requester, options = {\n            endpoint: null,\n            customHeaders: {},\n            params: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            onComplete: function(response, success, xhrOrXdr) {},\n            log: function(str, level) {}\n        };\n        qq.extend(options, spec);\n        function onComplete(id, xhrOrXdr, isError) {\n            var response = null;\n            if (xhrOrXdr.responseText != null) {\n                try {\n                    response = qq.parseJson(xhrOrXdr.responseText);\n                } catch (err) {\n                    options.log(\"Problem parsing session response: \" + err.message, \"error\");\n                    isError = true;\n                }\n            }\n            options.onComplete(response, !isError, xhrOrXdr);\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"GET\" ],\n            method: \"GET\",\n            endpointStore: {\n                get: function() {\n                    return options.endpoint;\n                }\n            },\n            customHeaders: options.customHeaders,\n            log: options.log,\n            onComplete: onComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            queryServer: function() {\n                var params = qq.extend({}, options.params);\n                options.log(\"Session query request.\");\n                requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n            }\n        });\n    };\n    qq.Scaler = function(spec, log) {\n        \"use strict\";\n        var self = this, customResizeFunction = spec.customResizer, includeOriginal = spec.sendOriginal, orient = spec.orient, defaultType = spec.defaultType, defaultQuality = spec.defaultQuality / 100, failedToScaleText = spec.failureText, includeExif = spec.includeExif, sizes = this._getSortedSizes(spec.sizes);\n        qq.extend(this, {\n            enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n            getFileRecords: function(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n                var self = this, records = [], originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData, identifier = new qq.Identify(originalBlob, log);\n                if (identifier.isPreviewableSync()) {\n                    qq.each(sizes, function(idx, sizeRecord) {\n                        var outputType = self._determineOutputType({\n                            defaultType: defaultType,\n                            requestedType: sizeRecord.type,\n                            refType: originalBlob.type\n                        });\n                        records.push({\n                            uuid: qq.getUniqueId(),\n                            name: self._getName(originalFileName, {\n                                name: sizeRecord.name,\n                                type: outputType,\n                                refType: originalBlob.type\n                            }),\n                            blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                                customResizeFunction: customResizeFunction,\n                                maxSize: sizeRecord.maxSize,\n                                orient: orient,\n                                type: outputType,\n                                quality: defaultQuality,\n                                failedText: failedToScaleText,\n                                includeExif: includeExif,\n                                log: log\n                            }))\n                        });\n                    });\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: includeOriginal ? originalBlob : null\n                    });\n                } else {\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: originalBlob\n                    });\n                }\n                return records;\n            },\n            handleNewFile: function(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n                var self = this, buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId, scaledIds = [], originalId = null, addFileToHandler = api.addFileToHandler, uploadData = api.uploadData, paramsStore = api.paramsStore, proxyGroupId = qq.getUniqueId();\n                qq.each(self.getFileRecords(uuid, name, file), function(idx, record) {\n                    var blobSize = record.size, id;\n                    if (record.blob instanceof qq.BlobProxy) {\n                        blobSize = -1;\n                    }\n                    id = uploadData.addFile({\n                        uuid: record.uuid,\n                        name: record.name,\n                        size: blobSize,\n                        batchId: batchId,\n                        proxyGroupId: proxyGroupId\n                    });\n                    if (record.blob instanceof qq.BlobProxy) {\n                        scaledIds.push(id);\n                    } else {\n                        originalId = id;\n                    }\n                    if (record.blob) {\n                        addFileToHandler(id, record.blob);\n                        fileList.push({\n                            id: id,\n                            file: record.blob\n                        });\n                    } else {\n                        uploadData.setStatus(id, qq.status.REJECTED);\n                    }\n                });\n                if (originalId !== null) {\n                    qq.each(scaledIds, function(idx, scaledId) {\n                        var params = {\n                            qqparentuuid: uploadData.retrieve({\n                                id: originalId\n                            }).uuid,\n                            qqparentsize: uploadData.retrieve({\n                                id: originalId\n                            }).size\n                        };\n                        params[uuidParamName] = uploadData.retrieve({\n                            id: scaledId\n                        }).uuid;\n                        uploadData.setParentId(scaledId, originalId);\n                        paramsStore.addReadOnly(scaledId, params);\n                    });\n                    if (scaledIds.length) {\n                        (function() {\n                            var param = {};\n                            param[uuidParamName] = uploadData.retrieve({\n                                id: originalId\n                            }).uuid;\n                            paramsStore.addReadOnly(originalId, param);\n                        })();\n                    }\n                }\n            }\n        });\n    };\n    qq.extend(qq.Scaler.prototype, {\n        scaleImage: function(id, specs, api) {\n            \"use strict\";\n            if (!qq.supportedFeatures.scaling) {\n                throw new qq.Error(\"Scaling is not supported in this browser!\");\n            }\n            var scalingEffort = new qq.Promise(), log = api.log, file = api.getFile(id), uploadData = api.uploadData.retrieve({\n                id: id\n            }), name = uploadData && uploadData.name, uuid = uploadData && uploadData.uuid, scalingOptions = {\n                customResizer: specs.customResizer,\n                sendOriginal: false,\n                orient: specs.orient,\n                defaultType: specs.type || null,\n                defaultQuality: specs.quality,\n                failedToScaleText: \"Unable to scale\",\n                sizes: [ {\n                    name: \"\",\n                    maxSize: specs.maxSize\n                } ]\n            }, scaler = new qq.Scaler(scalingOptions, log);\n            if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n                scalingEffort.failure();\n                log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n            } else {\n                qq.bind(function() {\n                    var record = scaler.getFileRecords(uuid, name, file)[0];\n                    if (record && record.blob instanceof qq.BlobProxy) {\n                        record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n                    } else {\n                        log(id + \" is not a scalable image!\", \"error\");\n                        scalingEffort.failure();\n                    }\n                }, this)();\n            }\n            return scalingEffort;\n        },\n        _determineOutputType: function(spec) {\n            \"use strict\";\n            var requestedType = spec.requestedType, defaultType = spec.defaultType, referenceType = spec.refType;\n            if (!defaultType && !requestedType) {\n                if (referenceType !== \"image/jpeg\") {\n                    return \"image/png\";\n                }\n                return referenceType;\n            }\n            if (!requestedType) {\n                return defaultType;\n            }\n            if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n                if (requestedType === \"image/tiff\") {\n                    return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n                }\n                return requestedType;\n            }\n            return defaultType;\n        },\n        _getName: function(originalName, scaledVersionProperties) {\n            \"use strict\";\n            var startOfExt = originalName.lastIndexOf(\".\"), versionType = scaledVersionProperties.type || \"image/png\", referenceType = scaledVersionProperties.refType, scaledName = \"\", scaledExt = qq.getExtension(originalName), nameAppendage = \"\";\n            if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n                nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n            }\n            if (startOfExt >= 0) {\n                scaledName = originalName.substr(0, startOfExt);\n                if (referenceType !== versionType) {\n                    scaledExt = versionType.split(\"/\")[1];\n                }\n                scaledName += nameAppendage + \".\" + scaledExt;\n            } else {\n                scaledName = originalName + nameAppendage;\n            }\n            return scaledName;\n        },\n        _getSortedSizes: function(sizes) {\n            \"use strict\";\n            sizes = qq.extend([], sizes);\n            return sizes.sort(function(a, b) {\n                if (a.maxSize > b.maxSize) {\n                    return 1;\n                }\n                if (a.maxSize < b.maxSize) {\n                    return -1;\n                }\n                return 0;\n            });\n        },\n        _generateScaledImage: function(spec, sourceFile) {\n            \"use strict\";\n            var self = this, customResizeFunction = spec.customResizeFunction, log = spec.log, maxSize = spec.maxSize, orient = spec.orient, type = spec.type, quality = spec.quality, failedText = spec.failedText, includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\", scalingEffort = new qq.Promise(), imageGenerator = new qq.ImageGenerator(log), canvas = document.createElement(\"canvas\");\n            log(\"Attempting to generate scaled version for \" + sourceFile.name);\n            imageGenerator.generate(sourceFile, canvas, {\n                maxSize: maxSize,\n                orient: orient,\n                customResizeFunction: customResizeFunction\n            }).then(function() {\n                var scaledImageDataUri = canvas.toDataURL(type, quality), signalSuccess = function() {\n                    log(\"Success generating scaled version for \" + sourceFile.name);\n                    var blob = qq.dataUriToBlob(scaledImageDataUri);\n                    scalingEffort.success(blob);\n                };\n                if (includeExif) {\n                    self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function(scaledImageDataUriWithExif) {\n                        scaledImageDataUri = scaledImageDataUriWithExif;\n                        signalSuccess();\n                    }, function() {\n                        log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n                        signalSuccess();\n                    });\n                } else {\n                    signalSuccess();\n                }\n            }, function() {\n                log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n                scalingEffort.failure(failedText);\n            });\n            return scalingEffort;\n        },\n        _insertExifHeader: function(originalImage, scaledImageDataUri, log) {\n            \"use strict\";\n            var reader = new FileReader(), insertionEffort = new qq.Promise(), originalImageDataUri = \"\";\n            reader.onload = function() {\n                originalImageDataUri = reader.result;\n                insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n            };\n            reader.onerror = function() {\n                log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n                insertionEffort.failure();\n            };\n            reader.readAsDataURL(originalImage);\n            return insertionEffort;\n        },\n        _dataUriToBlob: function(dataUri) {\n            \"use strict\";\n            var byteString, mimeString, arrayBuffer, intArray;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return this._createBlob(arrayBuffer, mimeString);\n        },\n        _createBlob: function(data, mime) {\n            \"use strict\";\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n            if (blobBuilder) {\n                blobBuilder.append(data);\n                return blobBuilder.getBlob(mime);\n            } else {\n                return new Blob([ data ], {\n                    type: mime\n                });\n            }\n        }\n    });\n    qq.ExifRestorer = function() {\n        var ExifRestorer = {};\n        ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n        ExifRestorer.encode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0;\n            do {\n                chr1 = input[i++];\n                chr2 = input[i++];\n                chr3 = input[i++];\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return output;\n        };\n        ExifRestorer.restore = function(origFileBase64, resizedFileBase64) {\n            var expectedBase64Header = \"data:image/jpeg;base64,\";\n            if (!origFileBase64.match(expectedBase64Header)) {\n                return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return expectedBase64Header + this.encode64(image);\n        };\n        ExifRestorer.exifManipulation = function(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments), newImageArray = this.insertExif(resizedFileBase64, exifArray), aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n        };\n        ExifRestorer.getExifArray = function(segments) {\n            var seg;\n            for (var x = 0; x < segments.length; x++) {\n                seg = segments[x];\n                if (seg[0] == 255 & seg[1] == 225) {\n                    return seg;\n                }\n            }\n            return [];\n        };\n        ExifRestorer.insertExif = function(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"), buf = this.decode64(imageData), separatePoint = buf.indexOf(255, 3), mae = buf.slice(0, separatePoint), ato = buf.slice(separatePoint), array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n        };\n        ExifRestorer.slice2Segments = function(rawImageArray) {\n            var head = 0, segments = [];\n            while (1) {\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n                    break;\n                }\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n                    head += 2;\n                } else {\n                    var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3], endPoint = head + length + 2, seg = rawImageArray.slice(head, endPoint);\n                    segments.push(seg);\n                    head = endPoint;\n                }\n                if (head > rawImageArray.length) {\n                    break;\n                }\n            }\n            return segments;\n        };\n        ExifRestorer.decode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0, buf = [];\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            do {\n                enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n                chr1 = enc1 << 2 | enc2 >> 4;\n                chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n                chr3 = (enc3 & 3) << 6 | enc4;\n                buf.push(chr1);\n                if (enc3 != 64) {\n                    buf.push(chr2);\n                }\n                if (enc4 != 64) {\n                    buf.push(chr3);\n                }\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return buf;\n        };\n        return ExifRestorer;\n    }();\n    qq.TotalProgress = function(callback, getSize) {\n        \"use strict\";\n        var perFileProgress = {}, totalLoaded = 0, totalSize = 0, lastLoadedSent = -1, lastTotalSent = -1, callbackProxy = function(loaded, total) {\n            if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n                callback(loaded, total);\n            }\n            lastLoadedSent = loaded;\n            lastTotalSent = total;\n        }, noRetryableFiles = function(failed, retryable) {\n            var none = true;\n            qq.each(failed, function(idx, failedId) {\n                if (qq.indexOf(retryable, failedId) >= 0) {\n                    none = false;\n                    return false;\n                }\n            });\n            return none;\n        }, onCancel = function(id) {\n            updateTotalProgress(id, -1, -1);\n            delete perFileProgress[id];\n        }, onAllComplete = function(successful, failed, retryable) {\n            if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n                callbackProxy(totalSize, totalSize);\n                this.reset();\n            }\n        }, onNew = function(id) {\n            var size = getSize(id);\n            if (size > 0) {\n                updateTotalProgress(id, 0, size);\n                perFileProgress[id] = {\n                    loaded: 0,\n                    total: size\n                };\n            }\n        }, updateTotalProgress = function(id, newLoaded, newTotal) {\n            var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0, oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n            if (newLoaded === -1 && newTotal === -1) {\n                totalLoaded -= oldLoaded;\n                totalSize -= oldTotal;\n            } else {\n                if (newLoaded) {\n                    totalLoaded += newLoaded - oldLoaded;\n                }\n                if (newTotal) {\n                    totalSize += newTotal - oldTotal;\n                }\n            }\n            callbackProxy(totalLoaded, totalSize);\n        };\n        qq.extend(this, {\n            onAllComplete: onAllComplete,\n            onStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n                    onCancel(id);\n                } else if (newStatus === qq.status.SUBMITTING) {\n                    onNew(id);\n                }\n            },\n            onIndividualProgress: function(id, loaded, total) {\n                updateTotalProgress(id, loaded, total);\n                perFileProgress[id] = {\n                    loaded: loaded,\n                    total: total\n                };\n            },\n            onNewSize: function(id) {\n                onNew(id);\n            },\n            reset: function() {\n                perFileProgress = {};\n                totalLoaded = 0;\n                totalSize = 0;\n            }\n        });\n    };\n    qq.PasteSupport = function(o) {\n        \"use strict\";\n        var options, detachPasteHandler;\n        options = {\n            targetElement: null,\n            callbacks: {\n                log: function(message, level) {},\n                pasteReceived: function(blob) {}\n            }\n        };\n        function isImage(item) {\n            return item.type && item.type.indexOf(\"image/\") === 0;\n        }\n        function registerPasteHandler() {\n            detachPasteHandler = qq(options.targetElement).attach(\"paste\", function(event) {\n                var clipboardData = event.clipboardData;\n                if (clipboardData) {\n                    qq.each(clipboardData.items, function(idx, item) {\n                        if (isImage(item)) {\n                            var blob = item.getAsFile();\n                            options.callbacks.pasteReceived(blob);\n                        }\n                    });\n                }\n            });\n        }\n        function unregisterPasteHandler() {\n            if (detachPasteHandler) {\n                detachPasteHandler();\n            }\n        }\n        qq.extend(options, o);\n        registerPasteHandler();\n        qq.extend(this, {\n            reset: function() {\n                unregisterPasteHandler();\n            }\n        });\n    };\n    qq.FormSupport = function(options, startUpload, log) {\n        \"use strict\";\n        var self = this, interceptSubmit = options.interceptSubmit, formEl = options.element, autoUpload = options.autoUpload;\n        qq.extend(this, {\n            newEndpoint: null,\n            newAutoUpload: autoUpload,\n            attachedToForm: false,\n            getFormInputsAsObject: function() {\n                if (formEl == null) {\n                    return null;\n                }\n                return self._form2Obj(formEl);\n            }\n        });\n        function determineNewEndpoint(formEl) {\n            if (formEl.getAttribute(\"action\")) {\n                self.newEndpoint = formEl.getAttribute(\"action\");\n            }\n        }\n        function validateForm(formEl, nativeSubmit) {\n            if (formEl.checkValidity && !formEl.checkValidity()) {\n                log(\"Form did not pass validation checks - will not upload.\", \"error\");\n                nativeSubmit();\n            } else {\n                return true;\n            }\n        }\n        function maybeUploadOnSubmit(formEl) {\n            var nativeSubmit = formEl.submit;\n            qq(formEl).attach(\"submit\", function(event) {\n                event = event || window.event;\n                if (event.preventDefault) {\n                    event.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n                validateForm(formEl, nativeSubmit) && startUpload();\n            });\n            formEl.submit = function() {\n                validateForm(formEl, nativeSubmit) && startUpload();\n            };\n        }\n        function determineFormEl(formEl) {\n            if (formEl) {\n                if (qq.isString(formEl)) {\n                    formEl = document.getElementById(formEl);\n                }\n                if (formEl) {\n                    log(\"Attaching to form element.\");\n                    determineNewEndpoint(formEl);\n                    interceptSubmit && maybeUploadOnSubmit(formEl);\n                }\n            }\n            return formEl;\n        }\n        formEl = determineFormEl(formEl);\n        this.attachedToForm = !!formEl;\n    };\n    qq.extend(qq.FormSupport.prototype, {\n        _form2Obj: function(form) {\n            \"use strict\";\n            var obj = {}, notIrrelevantType = function(type) {\n                var irrelevantTypes = [ \"button\", \"image\", \"reset\", \"submit\" ];\n                return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n            }, radioOrCheckbox = function(type) {\n                return qq.indexOf([ \"checkbox\", \"radio\" ], type.toLowerCase()) >= 0;\n            }, ignoreValue = function(el) {\n                if (radioOrCheckbox(el.type) && !el.checked) {\n                    return true;\n                }\n                return el.disabled && el.type.toLowerCase() !== \"hidden\";\n            }, selectValue = function(select) {\n                var value = null;\n                qq.each(qq(select).children(), function(idx, child) {\n                    if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n                        value = child.value;\n                        return false;\n                    }\n                });\n                return value;\n            };\n            qq.each(form.elements, function(idx, el) {\n                if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n                    obj[el.name] = el.value;\n                } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n                    var value = selectValue(el);\n                    if (value !== null) {\n                        obj[el.name] = value;\n                    }\n                }\n            });\n            return obj;\n        }\n    });\n    qq.traditional = qq.traditional || {};\n    qq.traditional.FormUploadHandler = function(options, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getUuid = proxy.getUuid, log = proxy.log;\n        function getIframeContentJson(id, iframe) {\n            var response, doc, innerHtml;\n            try {\n                doc = iframe.contentDocument || iframe.contentWindow.document;\n                innerHtml = doc.body.innerHTML;\n                log(\"converting iframe's innerHTML to JSON\");\n                log(\"innerHTML = \" + innerHtml);\n                if (innerHtml && innerHtml.match(/^<pre/i)) {\n                    innerHtml = doc.body.firstChild.firstChild.nodeValue;\n                }\n                response = handler._parseJsonResponse(innerHtml);\n            } catch (error) {\n                log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n                response = {\n                    success: false\n                };\n            }\n            return response;\n        }\n        function createForm(id, iframe) {\n            var params = options.paramsStore.get(id), method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\", endpoint = options.endpointStore.get(id), name = getName(id);\n            params[options.uuidName] = getUuid(id);\n            params[options.filenameParam] = name;\n            return handler._initFormForUpload({\n                method: method,\n                endpoint: endpoint,\n                params: params,\n                paramsInBody: options.paramsInBody,\n                targetName: iframe.name\n            });\n        }\n        this.uploadFile = function(id) {\n            var input = handler.getInput(id), iframe = handler._createIframe(id), promise = new qq.Promise(), form;\n            form = createForm(id, iframe);\n            form.appendChild(input);\n            handler._attachLoadEvent(iframe, function(responseFromMessage) {\n                log(\"iframe loaded\");\n                var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n                handler._detachLoadEvent(id);\n                if (!options.cors.expected) {\n                    qq(iframe).remove();\n                }\n                if (response.success) {\n                    promise.success(response);\n                } else {\n                    promise.failure(response);\n                }\n            });\n            log(\"Sending upload request for \" + id);\n            form.submit();\n            qq(form).remove();\n            return promise;\n        };\n        qq.extend(this, new qq.FormUploadHandler({\n            options: {\n                isCors: options.cors.expected,\n                inputName: options.inputName\n            },\n            proxy: {\n                onCancel: options.onCancel,\n                getName: getName,\n                getUuid: getUuid,\n                log: log\n            }\n        }));\n    };\n    qq.traditional = qq.traditional || {};\n    qq.traditional.XhrUploadHandler = function(spec, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, log = proxy.log, multipart = spec.forceMultipart || spec.paramsInBody, addChunkingSpecificParams = function(id, params, chunkData) {\n            var size = getSize(id), name = getName(id);\n            if (!spec.omitDefaultParams) {\n                params[spec.chunking.paramNames.partIndex] = chunkData.part;\n                params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n                params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n                params[spec.chunking.paramNames.totalParts] = chunkData.count;\n                params[spec.totalFileSizeName] = size;\n            }\n            if (multipart && !spec.omitDefaultParams) {\n                params[spec.filenameParam] = name;\n            }\n        }, allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n            cors: spec.cors,\n            endpoint: spec.chunking.success.endpoint,\n            headers: spec.chunking.success.headers,\n            jsonPayload: spec.chunking.success.jsonPayload,\n            log: log,\n            method: spec.chunking.success.method,\n            params: spec.chunking.success.params\n        }), createReadyStateChangedHandler = function(id, xhr) {\n            var promise = new qq.Promise();\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var result = onUploadOrChunkComplete(id, xhr);\n                    if (result.success) {\n                        promise.success(result.response, xhr);\n                    } else {\n                        promise.failure(result.response, xhr);\n                    }\n                }\n            };\n            return promise;\n        }, getChunksCompleteParams = function(id) {\n            var params = spec.paramsStore.get(id), name = getName(id), size = getSize(id);\n            params[spec.uuidName] = getUuid(id);\n            params[spec.filenameParam] = name;\n            params[spec.totalFileSizeName] = size;\n            params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n            return params;\n        }, isErrorUploadResponse = function(xhr, response) {\n            return qq.indexOf([ 200, 201, 202, 203, 204 ], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n        }, onUploadOrChunkComplete = function(id, xhr) {\n            var response;\n            log(\"xhr - server response received for \" + id);\n            log(\"responseText = \" + xhr.responseText);\n            response = parseResponse(true, xhr);\n            return {\n                success: !isErrorUploadResponse(xhr, response),\n                response: response\n            };\n        }, parseResponse = function(upload, xhr) {\n            var response = {};\n            try {\n                log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n                response = qq.parseJson(xhr.responseText);\n            } catch (error) {\n                upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n            }\n            return response;\n        }, sendChunksCompleteRequest = function(id) {\n            var promise = new qq.Promise();\n            allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function(xhr) {\n                promise.success(parseResponse(false, xhr), xhr);\n            }, function(xhr) {\n                promise.failure(parseResponse(false, xhr), xhr);\n            });\n            return promise;\n        }, setParamsAndGetEntityToSend = function(entityToSendParams) {\n            var fileOrBlob = entityToSendParams.fileOrBlob;\n            var id = entityToSendParams.id;\n            var xhr = entityToSendParams.xhr;\n            var xhrOverrides = entityToSendParams.xhrOverrides || {};\n            var customParams = entityToSendParams.customParams || {};\n            var defaultParams = entityToSendParams.params || {};\n            var xhrOverrideParams = xhrOverrides.params || {};\n            var params;\n            var formData = multipart ? new FormData() : null, method = xhrOverrides.method || spec.method, endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id), name = getName(id), size = getSize(id);\n            if (spec.omitDefaultParams) {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n            } else {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n                qq.extend(params, defaultParams);\n                params[spec.uuidName] = getUuid(id);\n                params[spec.filenameParam] = name;\n                if (multipart) {\n                    params[spec.totalFileSizeName] = size;\n                } else if (!spec.paramsInBody) {\n                    params[spec.inputName] = name;\n                }\n            }\n            if (!spec.paramsInBody) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            xhr.open(method, endpoint, true);\n            if (spec.cors.expected && spec.cors.sendCredentials) {\n                xhr.withCredentials = true;\n            }\n            if (multipart) {\n                if (spec.paramsInBody) {\n                    qq.obj2FormData(params, formData);\n                }\n                formData.append(spec.inputName, fileOrBlob);\n                return formData;\n            }\n            return fileOrBlob;\n        }, setUploadHeaders = function(headersOptions) {\n            var headerOverrides = headersOptions.headerOverrides;\n            var id = headersOptions.id;\n            var xhr = headersOptions.xhr;\n            if (headerOverrides) {\n                qq.each(headerOverrides, function(headerName, headerValue) {\n                    xhr.setRequestHeader(headerName, headerValue);\n                });\n            } else {\n                var extraHeaders = spec.customHeaders.get(id), fileOrBlob = handler.getFile(id);\n                xhr.setRequestHeader(\"Accept\", \"application/json\");\n                xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                if (!multipart) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                    xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n                }\n                qq.each(extraHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        };\n        qq.extend(this, {\n            uploadChunk: function(uploadChunkParams) {\n                var id = uploadChunkParams.id;\n                var chunkIdx = uploadChunkParams.chunkIdx;\n                var overrides = uploadChunkParams.overrides || {};\n                var resuming = uploadChunkParams.resuming;\n                var chunkData = handler._getChunkData(id, chunkIdx), xhr = handler._createXhr(id, chunkIdx), promise, toSend, customParams, params = {};\n                promise = createReadyStateChangedHandler(id, xhr);\n                handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n                customParams = spec.paramsStore.get(id);\n                addChunkingSpecificParams(id, params, chunkData);\n                if (resuming) {\n                    params[spec.resume.paramNames.resuming] = true;\n                }\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: chunkData.blob,\n                    id: id,\n                    customParams: customParams,\n                    params: params,\n                    xhr: xhr,\n                    xhrOverrides: overrides\n                });\n                setUploadHeaders({\n                    headerOverrides: overrides.headers,\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            },\n            uploadFile: function(id) {\n                var fileOrBlob = handler.getFile(id), promise, xhr, customParams, toSend;\n                xhr = handler._createXhr(id);\n                handler._registerProgressHandler(id);\n                promise = createReadyStateChangedHandler(id, xhr);\n                customParams = spec.paramsStore.get(id);\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: fileOrBlob,\n                    id: id,\n                    customParams: customParams,\n                    xhr: xhr\n                });\n                setUploadHeaders({\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            }\n        });\n        qq.extend(this, new qq.XhrUploadHandler({\n            options: qq.extend({\n                namespace: \"traditional\"\n            }, spec),\n            proxy: qq.extend({\n                getEndpoint: spec.endpointStore.get\n            }, proxy)\n        }));\n        qq.override(this, function(super_) {\n            return {\n                finalizeChunks: function(id) {\n                    proxy.onFinalizing(id);\n                    if (spec.chunking.success.endpoint) {\n                        return sendChunksCompleteRequest(id);\n                    } else {\n                        return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n                    }\n                }\n            };\n        });\n    };\n    qq.traditional.AllChunksDoneAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            cors: {\n                allowXdr: false,\n                expected: false,\n                sendCredentials: false\n            },\n            endpoint: null,\n            log: function(str, level) {},\n            method: \"POST\"\n        }, promises = {}, endpointHandler = {\n            get: function(id) {\n                if (qq.isFunction(options.endpoint)) {\n                    return options.endpoint(id);\n                }\n                return options.endpoint;\n            }\n        };\n        qq.extend(options, o);\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n            validMethods: [ options.method ],\n            method: options.method,\n            endpointStore: endpointHandler,\n            allowXRequestedWithAndCacheControl: false,\n            cors: options.cors,\n            log: options.log,\n            onComplete: function(id, xhr, isError) {\n                var promise = promises[id];\n                delete promises[id];\n                if (isError) {\n                    promise.failure(xhr);\n                } else {\n                    promise.success(xhr);\n                }\n            }\n        }));\n        qq.extend(this, {\n            complete: function(id, xhr, params, headers) {\n                var promise = new qq.Promise();\n                options.log(\"Submitting All Chunks Done request for \" + id);\n                promises[id] = promise;\n                requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n                return promise;\n            }\n        });\n    };\n    qq.DragAndDrop = function(o) {\n        \"use strict\";\n        var options, HIDE_ZONES_EVENT_NAME = \"qq-hidezones\", HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\", uploadDropZones = [], droppedFiles = [], disposeSupport = new qq.DisposeSupport();\n        options = {\n            dropZoneElements: [],\n            allowMultipleItems: true,\n            classes: {\n                dropActive: null\n            },\n            callbacks: new qq.DragAndDrop.callbacks()\n        };\n        qq.extend(options, o, true);\n        function uploadDroppedFiles(files, uploadDropZone) {\n            var filesAsArray = Array.prototype.slice.call(files);\n            options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n            uploadDropZone.dropDisabled(false);\n            options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n        }\n        function traverseFileTree(entry) {\n            var parseEntryPromise = new qq.Promise();\n            if (entry.isFile) {\n                entry.file(function(file) {\n                    file.qqPath = extractDirectoryPath(entry);\n                    droppedFiles.push(file);\n                    parseEntryPromise.success();\n                }, function(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            } else if (entry.isDirectory) {\n                getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n                    var entriesLeft = entries.length;\n                    qq.each(entries, function(idx, entry) {\n                        traverseFileTree(entry).done(function() {\n                            entriesLeft -= 1;\n                            if (entriesLeft === 0) {\n                                parseEntryPromise.success();\n                            }\n                        });\n                    });\n                    if (!entries.length) {\n                        parseEntryPromise.success();\n                    }\n                }, function readFailure(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            }\n            return parseEntryPromise;\n        }\n        function extractDirectoryPath(entry) {\n            var name = entry.name, fullPath = entry.fullPath, indexOfNameInFullPath = fullPath.lastIndexOf(name);\n            fullPath = fullPath.substr(0, indexOfNameInFullPath);\n            if (fullPath.charAt(0) === \"/\") {\n                fullPath = fullPath.substr(1);\n            }\n            return fullPath;\n        }\n        function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n            var promise = existingPromise || new qq.Promise(), dirReader = reader || entry.createReader();\n            dirReader.readEntries(function readSuccess(entries) {\n                var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n                if (entries.length) {\n                    setTimeout(function() {\n                        getFilesInDirectory(entry, dirReader, newEntries, promise);\n                    }, 0);\n                } else {\n                    promise.success(newEntries);\n                }\n            }, promise.failure);\n            return promise;\n        }\n        function handleDataTransfer(dataTransfer, uploadDropZone) {\n            var pendingFolderPromises = [], handleDataTransferPromise = new qq.Promise();\n            options.callbacks.processingDroppedFiles();\n            uploadDropZone.dropDisabled(true);\n            if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n                options.callbacks.processingDroppedFilesComplete([]);\n                options.callbacks.dropError(\"tooManyFilesError\", \"\");\n                uploadDropZone.dropDisabled(false);\n                handleDataTransferPromise.failure();\n            } else {\n                droppedFiles = [];\n                if (qq.isFolderDropSupported(dataTransfer)) {\n                    qq.each(dataTransfer.items, function(idx, item) {\n                        var entry = item.webkitGetAsEntry();\n                        if (entry) {\n                            if (entry.isFile) {\n                                droppedFiles.push(item.getAsFile());\n                            } else {\n                                pendingFolderPromises.push(traverseFileTree(entry).done(function() {\n                                    pendingFolderPromises.pop();\n                                    if (pendingFolderPromises.length === 0) {\n                                        handleDataTransferPromise.success();\n                                    }\n                                }));\n                            }\n                        }\n                    });\n                } else {\n                    droppedFiles = dataTransfer.files;\n                }\n                if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                }\n            }\n            return handleDataTransferPromise;\n        }\n        function setupDropzone(dropArea) {\n            var dropZone = new qq.UploadDropZone({\n                HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n                element: dropArea,\n                onEnter: function(e) {\n                    qq(dropArea).addClass(options.classes.dropActive);\n                    e.stopPropagation();\n                },\n                onLeaveNotDescendants: function(e) {\n                    qq(dropArea).removeClass(options.classes.dropActive);\n                },\n                onDrop: function(e) {\n                    handleDataTransfer(e.dataTransfer, dropZone).then(function() {\n                        uploadDroppedFiles(droppedFiles, dropZone);\n                    }, function() {\n                        options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n                    });\n                }\n            });\n            disposeSupport.addDisposer(function() {\n                dropZone.dispose();\n            });\n            qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n            uploadDropZones.push(dropZone);\n            return dropZone;\n        }\n        function isFileDrag(dragEvent) {\n            var fileDrag;\n            qq.each(dragEvent.dataTransfer.types, function(key, val) {\n                if (val === \"Files\") {\n                    fileDrag = true;\n                    return false;\n                }\n            });\n            return fileDrag;\n        }\n        function leavingDocumentOut(e) {\n            if (qq.safari()) {\n                return e.x < 0 || e.y < 0;\n            }\n            return e.x === 0 && e.y === 0;\n        }\n        function setupDragDrop() {\n            var dropZones = options.dropZoneElements, maybeHideDropZones = function() {\n                setTimeout(function() {\n                    qq.each(dropZones, function(idx, dropZone) {\n                        qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n                        qq(dropZone).removeClass(options.classes.dropActive);\n                    });\n                }, 10);\n            };\n            qq.each(dropZones, function(idx, dropZone) {\n                var uploadDropZone = setupDropzone(dropZone);\n                if (dropZones.length && qq.supportedFeatures.fileDrop) {\n                    disposeSupport.attach(document, \"dragenter\", function(e) {\n                        if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n                            qq.each(dropZones, function(idx, dropZone) {\n                                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                                    qq(dropZone).css({\n                                        display: \"block\"\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n            disposeSupport.attach(document, \"dragleave\", function(e) {\n                if (leavingDocumentOut(e)) {\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function(e) {\n                maybeHideDropZones();\n            });\n            disposeSupport.attach(document, \"drop\", function(e) {\n                if (isFileDrag(e)) {\n                    e.preventDefault();\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n        }\n        setupDragDrop();\n        qq.extend(this, {\n            setupExtraDropzone: function(element) {\n                options.dropZoneElements.push(element);\n                setupDropzone(element);\n            },\n            removeDropzone: function(element) {\n                var i, dzs = options.dropZoneElements;\n                for (i in dzs) {\n                    if (dzs[i] === element) {\n                        return dzs.splice(i, 1);\n                    }\n                }\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n                qq.each(uploadDropZones, function(idx, dropZone) {\n                    dropZone.dispose();\n                });\n            }\n        });\n        this._testing = {};\n        this._testing.extractDirectoryPath = extractDirectoryPath;\n    };\n    qq.DragAndDrop.callbacks = function() {\n        \"use strict\";\n        return {\n            processingDroppedFiles: function() {},\n            processingDroppedFilesComplete: function(files, targetEl) {},\n            dropError: function(code, errorSpecifics) {\n                qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n            },\n            dropLog: function(message, level) {\n                qq.log(message, level);\n            }\n        };\n    };\n    qq.UploadDropZone = function(o) {\n        \"use strict\";\n        var disposeSupport = new qq.DisposeSupport(), options, element, preventDrop, dropOutsideDisabled;\n        options = {\n            element: null,\n            onEnter: function(e) {},\n            onLeave: function(e) {},\n            onLeaveNotDescendants: function(e) {},\n            onDrop: function(e) {}\n        };\n        qq.extend(options, o);\n        element = options.element;\n        function dragoverShouldBeCanceled() {\n            return qq.safari() || qq.firefox() && qq.windows();\n        }\n        function disableDropOutside(e) {\n            if (!dropOutsideDisabled) {\n                if (dragoverShouldBeCanceled) {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        e.preventDefault();\n                    });\n                } else {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        if (e.dataTransfer) {\n                            e.dataTransfer.dropEffect = \"none\";\n                            e.preventDefault();\n                        }\n                    });\n                }\n                dropOutsideDisabled = true;\n            }\n        }\n        function isValidFileDrag(e) {\n            if (!qq.supportedFeatures.fileDrop) {\n                return false;\n            }\n            var effectTest, dt = e.dataTransfer, isSafari = qq.safari();\n            effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n            return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n        }\n        function isOrSetDropDisabled(isDisabled) {\n            if (isDisabled !== undefined) {\n                preventDrop = isDisabled;\n            }\n            return preventDrop;\n        }\n        function triggerHidezonesEvent() {\n            var hideZonesEvent;\n            function triggerUsingOldApi() {\n                hideZonesEvent = document.createEvent(\"Event\");\n                hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n            }\n            if (window.CustomEvent) {\n                try {\n                    hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n                } catch (err) {\n                    triggerUsingOldApi();\n                }\n            } else {\n                triggerUsingOldApi();\n            }\n            document.dispatchEvent(hideZonesEvent);\n        }\n        function attachEvents() {\n            disposeSupport.attach(element, \"dragover\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n                if (effect === \"move\" || effect === \"linkMove\") {\n                    e.dataTransfer.dropEffect = \"move\";\n                } else {\n                    e.dataTransfer.dropEffect = \"copy\";\n                }\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            disposeSupport.attach(element, \"dragenter\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    options.onEnter(e);\n                }\n            });\n            disposeSupport.attach(element, \"dragleave\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                options.onLeave(e);\n                var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n                if (qq(this).contains(relatedTarget)) {\n                    return;\n                }\n                options.onLeaveNotDescendants(e);\n            });\n            disposeSupport.attach(element, \"drop\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                    options.onDrop(e);\n                    triggerHidezonesEvent();\n                }\n            });\n        }\n        disableDropOutside();\n        attachEvents();\n        qq.extend(this, {\n            dropDisabled: function(isDisabled) {\n                return isOrSetDropDisabled(isDisabled);\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n            },\n            getElement: function() {\n                return element;\n            }\n        });\n        this._testing = {};\n        this._testing.isValidFileDrag = isValidFileDrag;\n    };\n    (function() {\n        \"use strict\";\n        qq.uiPublicApi = {\n            addInitialFiles: function(cannedFileList) {\n                this._parent.prototype.addInitialFiles.apply(this, arguments);\n                this._templating.addCacheToDom();\n            },\n            clearStoredFiles: function() {\n                this._parent.prototype.clearStoredFiles.apply(this, arguments);\n                this._templating.clearFiles();\n            },\n            addExtraDropzone: function(element) {\n                this._dnd && this._dnd.setupExtraDropzone(element);\n            },\n            removeExtraDropzone: function(element) {\n                if (this._dnd) {\n                    return this._dnd.removeDropzone(element);\n                }\n            },\n            getItemByFileId: function(id) {\n                if (!this._templating.isHiddenForever(id)) {\n                    return this._templating.getFileContainer(id);\n                }\n            },\n            reset: function() {\n                this._parent.prototype.reset.apply(this, arguments);\n                this._templating.reset();\n                if (!this._options.button && this._templating.getButton()) {\n                    this._defaultButtonId = this._createUploadButton({\n                        element: this._templating.getButton(),\n                        title: this._options.text.fileInputTitle\n                    }).getButtonId();\n                }\n                if (this._dnd) {\n                    this._dnd.dispose();\n                    this._dnd = this._setupDragAndDrop();\n                }\n                this._totalFilesInBatch = 0;\n                this._filesInBatchAddedToUi = 0;\n                this._setupClickAndEditEventHandlers();\n            },\n            setName: function(id, newName) {\n                var formattedFilename = this._options.formatFileName(newName);\n                this._parent.prototype.setName.apply(this, arguments);\n                this._templating.updateFilename(id, formattedFilename);\n            },\n            pauseUpload: function(id) {\n                var paused = this._parent.prototype.pauseUpload.apply(this, arguments);\n                paused && this._templating.uploadPaused(id);\n                return paused;\n            },\n            continueUpload: function(id) {\n                var continued = this._parent.prototype.continueUpload.apply(this, arguments);\n                continued && this._templating.uploadContinued(id);\n                return continued;\n            },\n            getId: function(fileContainerOrChildEl) {\n                return this._templating.getFileId(fileContainerOrChildEl);\n            },\n            getDropTarget: function(fileId) {\n                var file = this.getFile(fileId);\n                return file.qqDropTarget;\n            }\n        };\n        qq.uiPrivateApi = {\n            _getButton: function(buttonId) {\n                var button = this._parent.prototype._getButton.apply(this, arguments);\n                if (!button) {\n                    if (buttonId === this._defaultButtonId) {\n                        button = this._templating.getButton();\n                    }\n                }\n                return button;\n            },\n            _removeFileItem: function(fileId) {\n                this._templating.removeFile(fileId);\n            },\n            _setupClickAndEditEventHandlers: function() {\n                this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent();\n                this._focusinEventSupported = !qq.firefox();\n                if (this._isEditFilenameEnabled()) {\n                    this._filenameClickHandler = this._bindFilenameClickEvent();\n                    this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent();\n                    this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent();\n                }\n            },\n            _setupDragAndDrop: function() {\n                var self = this, dropZoneElements = this._options.dragAndDrop.extraDropzones, templating = this._templating, defaultDropZone = templating.getDropZone();\n                defaultDropZone && dropZoneElements.push(defaultDropZone);\n                return new qq.DragAndDrop({\n                    dropZoneElements: dropZoneElements,\n                    allowMultipleItems: this._options.multiple,\n                    classes: {\n                        dropActive: this._options.classes.dropActive\n                    },\n                    callbacks: {\n                        processingDroppedFiles: function() {\n                            templating.showDropProcessing();\n                        },\n                        processingDroppedFilesComplete: function(files, targetEl) {\n                            templating.hideDropProcessing();\n                            qq.each(files, function(idx, file) {\n                                file.qqDropTarget = targetEl;\n                            });\n                            if (files.length) {\n                                self.addFiles(files, null, null);\n                            }\n                        },\n                        dropError: function(code, errorData) {\n                            self._itemError(code, errorData);\n                        },\n                        dropLog: function(message, level) {\n                            self.log(message, level);\n                        }\n                    }\n                });\n            },\n            _bindFileButtonsClickEvent: function() {\n                var self = this;\n                return new qq.FileButtonsClickHandler({\n                    templating: this._templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onDeleteFile: function(fileId) {\n                        self.deleteFile(fileId);\n                    },\n                    onCancel: function(fileId) {\n                        self.cancel(fileId);\n                    },\n                    onRetry: function(fileId) {\n                        self.retry(fileId);\n                    },\n                    onPause: function(fileId) {\n                        self.pauseUpload(fileId);\n                    },\n                    onContinue: function(fileId) {\n                        self.continueUpload(fileId);\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    }\n                });\n            },\n            _isEditFilenameEnabled: function() {\n                return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler;\n            },\n            _filenameEditHandler: function() {\n                var self = this, templating = this._templating;\n                return {\n                    templating: templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onGetUploadStatus: function(fileId) {\n                        return self.getUploads({\n                            id: fileId\n                        }).status;\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    },\n                    onSetName: function(id, newName) {\n                        self.setName(id, newName);\n                    },\n                    onEditingStatusChange: function(id, isEditing) {\n                        var qqInput = qq(templating.getEditInput(id)), qqFileContainer = qq(templating.getFileContainer(id));\n                        if (isEditing) {\n                            qqInput.addClass(\"qq-editing\");\n                            templating.hideFilename(id);\n                            templating.hideEditIcon(id);\n                        } else {\n                            qqInput.removeClass(\"qq-editing\");\n                            templating.showFilename(id);\n                            templating.showEditIcon(id);\n                        }\n                        qqFileContainer.addClass(\"qq-temp\").removeClass(\"qq-temp\");\n                    }\n                };\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                this._parent.prototype._onUploadStatusChange.apply(this, arguments);\n                if (this._isEditFilenameEnabled()) {\n                    if (this._templating.getFileContainer(id) && newStatus !== qq.status.SUBMITTED) {\n                        this._templating.markFilenameEditable(id);\n                        this._templating.hideEditIcon(id);\n                    }\n                }\n                if (oldStatus === qq.status.UPLOAD_RETRYING && newStatus === qq.status.UPLOADING) {\n                    this._templating.hideRetry(id);\n                    this._templating.setStatusText(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.retrying);\n                } else if (newStatus === qq.status.UPLOAD_FAILED) {\n                    this._templating.hidePause(id);\n                }\n            },\n            _bindFilenameInputFocusInEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusInHandler(spec);\n            },\n            _bindFilenameInputFocusEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusHandler(spec);\n            },\n            _bindFilenameClickEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameClickHandler(spec);\n            },\n            _storeForLater: function(id) {\n                this._parent.prototype._storeForLater.apply(this, arguments);\n                this._templating.hideSpinner(id);\n            },\n            _onAllComplete: function(successful, failed) {\n                this._parent.prototype._onAllComplete.apply(this, arguments);\n                this._templating.resetTotalProgress();\n            },\n            _onSubmit: function(id, name) {\n                var file = this.getFile(id);\n                if (file && file.qqPath && this._options.dragAndDrop.reportDirectoryPaths) {\n                    this._paramsStore.addReadOnly(id, {\n                        qqpath: file.qqPath\n                    });\n                }\n                this._parent.prototype._onSubmit.apply(this, arguments);\n                this._addToList(id, name);\n            },\n            _onSubmitted: function(id) {\n                if (this._isEditFilenameEnabled()) {\n                    this._templating.markFilenameEditable(id);\n                    this._templating.showEditIcon(id);\n                    if (!this._focusinEventSupported) {\n                        this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(id));\n                    }\n                }\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._parent.prototype._onProgress.apply(this, arguments);\n                this._templating.updateProgress(id, loaded, total);\n                if (total === 0 || Math.round(loaded / total * 100) === 100) {\n                    this._templating.hideCancel(id);\n                    this._templating.hidePause(id);\n                    this._templating.hideProgress(id);\n                    this._templating.setStatusText(id, this._options.text.waitingForResponse);\n                    this._displayFileSize(id);\n                } else {\n                    this._displayFileSize(id, loaded, total);\n                }\n            },\n            _onTotalProgress: function(loaded, total) {\n                this._parent.prototype._onTotalProgress.apply(this, arguments);\n                this._templating.updateTotalProgress(loaded, total);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                var parentRetVal = this._parent.prototype._onComplete.apply(this, arguments), templating = this._templating, fileContainer = templating.getFileContainer(id), self = this;\n                function completeUpload(result) {\n                    if (!fileContainer) {\n                        return;\n                    }\n                    templating.setStatusText(id);\n                    qq(fileContainer).removeClass(self._classes.retrying);\n                    templating.hideProgress(id);\n                    if (self.getUploads({\n                        id: id\n                    }).status !== qq.status.UPLOAD_FAILED) {\n                        templating.hideCancel(id);\n                    }\n                    templating.hideSpinner(id);\n                    if (result.success) {\n                        self._markFileAsSuccessful(id);\n                    } else {\n                        qq(fileContainer).addClass(self._classes.fail);\n                        templating.showCancel(id);\n                        if (templating.isRetryPossible() && !self._preventRetries[id]) {\n                            qq(fileContainer).addClass(self._classes.retryable);\n                            templating.showRetry(id);\n                        }\n                        self._controlFailureTextDisplay(id, result);\n                    }\n                }\n                if (parentRetVal instanceof qq.Promise) {\n                    parentRetVal.done(function(newResult) {\n                        completeUpload(newResult);\n                    });\n                } else {\n                    completeUpload(result);\n                }\n                return parentRetVal;\n            },\n            _markFileAsSuccessful: function(id) {\n                var templating = this._templating;\n                if (this._isDeletePossible()) {\n                    templating.showDeleteButton(id);\n                }\n                qq(templating.getFileContainer(id)).addClass(this._classes.success);\n                this._maybeUpdateThumbnail(id);\n            },\n            _onUploadPrep: function(id) {\n                this._parent.prototype._onUploadPrep.apply(this, arguments);\n                this._templating.showSpinner(id);\n            },\n            _onUpload: function(id, name) {\n                var parentRetVal = this._parent.prototype._onUpload.apply(this, arguments);\n                this._templating.showSpinner(id);\n                return parentRetVal;\n            },\n            _onUploadChunk: function(id, chunkData) {\n                this._parent.prototype._onUploadChunk.apply(this, arguments);\n                if (chunkData.partIndex > 0 && this._handler.isResumable(id)) {\n                    this._templating.allowPause(id);\n                }\n            },\n            _onCancel: function(id, name) {\n                this._parent.prototype._onCancel.apply(this, arguments);\n                this._removeFileItem(id);\n                if (this._getNotFinished() === 0) {\n                    this._templating.resetTotalProgress();\n                }\n            },\n            _onBeforeAutoRetry: function(id) {\n                var retryNumForDisplay, maxAuto, retryNote;\n                this._parent.prototype._onBeforeAutoRetry.apply(this, arguments);\n                this._showCancelLink(id);\n                if (this._options.retry.showAutoRetryNote) {\n                    retryNumForDisplay = this._autoRetries[id];\n                    maxAuto = this._options.retry.maxAutoAttempts;\n                    retryNote = this._options.retry.autoRetryNote.replace(/\\{retryNum\\}/g, retryNumForDisplay);\n                    retryNote = retryNote.replace(/\\{maxAuto\\}/g, maxAuto);\n                    this._templating.setStatusText(id, retryNote);\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retrying);\n                }\n            },\n            _onBeforeManualRetry: function(id) {\n                if (this._parent.prototype._onBeforeManualRetry.apply(this, arguments)) {\n                    this._templating.resetProgress(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.fail);\n                    this._templating.setStatusText(id);\n                    this._templating.showSpinner(id);\n                    this._showCancelLink(id);\n                    return true;\n                } else {\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retryable);\n                    this._templating.showRetry(id);\n                    return false;\n                }\n            },\n            _onSubmitDelete: function(id) {\n                var onSuccessCallback = qq.bind(this._onSubmitDeleteSuccess, this);\n                this._parent.prototype._onSubmitDelete.call(this, id, onSuccessCallback);\n            },\n            _onSubmitDeleteSuccess: function(id, uuid, additionalMandatedParams) {\n                if (this._options.deleteFile.forceConfirm) {\n                    this._showDeleteConfirm.apply(this, arguments);\n                } else {\n                    this._sendDeleteRequest.apply(this, arguments);\n                }\n            },\n            _onDeleteComplete: function(id, xhr, isError) {\n                this._parent.prototype._onDeleteComplete.apply(this, arguments);\n                this._templating.hideSpinner(id);\n                if (isError) {\n                    this._templating.setStatusText(id, this._options.deleteFile.deletingFailedText);\n                    this._templating.showDeleteButton(id);\n                } else {\n                    this._removeFileItem(id);\n                }\n            },\n            _sendDeleteRequest: function(id, uuid, additionalMandatedParams) {\n                this._templating.hideDeleteButton(id);\n                this._templating.showSpinner(id);\n                this._templating.setStatusText(id, this._options.deleteFile.deletingStatusText);\n                this._deleteHandler.sendDelete.apply(this, arguments);\n            },\n            _showDeleteConfirm: function(id, uuid, mandatedParams) {\n                var fileName = this.getName(id), confirmMessage = this._options.deleteFile.confirmMessage.replace(/\\{filename\\}/g, fileName), uuid = this.getUuid(id), deleteRequestArgs = arguments, self = this, retVal;\n                retVal = this._options.showConfirm(confirmMessage);\n                if (qq.isGenericPromise(retVal)) {\n                    retVal.then(function() {\n                        self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                    });\n                } else if (retVal !== false) {\n                    self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                }\n            },\n            _addToList: function(id, name, canned) {\n                var prependData, prependIndex = 0, dontDisplay = this._handler.isProxied(id) && this._options.scaling.hideScaled, record;\n                if (this._options.display.prependFiles) {\n                    if (this._totalFilesInBatch > 1 && this._filesInBatchAddedToUi > 0) {\n                        prependIndex = this._filesInBatchAddedToUi - 1;\n                    }\n                    prependData = {\n                        index: prependIndex\n                    };\n                }\n                if (!canned) {\n                    if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {\n                        this._templating.disableCancel();\n                    }\n                    if (!this._options.multiple) {\n                        record = this.getUploads({\n                            id: id\n                        });\n                        this._handledProxyGroup = this._handledProxyGroup || record.proxyGroupId;\n                        if (record.proxyGroupId !== this._handledProxyGroup || !record.proxyGroupId) {\n                            this._handler.cancelAll();\n                            this._clearList();\n                            this._handledProxyGroup = null;\n                        }\n                    }\n                }\n                if (canned) {\n                    this._templating.addFileToCache(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.updateThumbnail(id, this._thumbnailUrls[id], true, this._options.thumbnails.customResizer);\n                } else {\n                    this._templating.addFile(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.generatePreview(id, this.getFile(id), this._options.thumbnails.customResizer);\n                }\n                this._filesInBatchAddedToUi += 1;\n                if (canned || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) {\n                    this._displayFileSize(id);\n                }\n            },\n            _clearList: function() {\n                this._templating.clearFiles();\n                this.clearStoredFiles();\n            },\n            _displayFileSize: function(id, loadedSize, totalSize) {\n                var size = this.getSize(id), sizeForDisplay = this._formatSize(size);\n                if (size >= 0) {\n                    if (loadedSize !== undefined && totalSize !== undefined) {\n                        sizeForDisplay = this._formatProgress(loadedSize, totalSize);\n                    }\n                    this._templating.updateSize(id, sizeForDisplay);\n                }\n            },\n            _formatProgress: function(uploadedSize, totalSize) {\n                var message = this._options.text.formatProgress;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                r(\"{percent}\", Math.round(uploadedSize / totalSize * 100));\n                r(\"{total_size}\", this._formatSize(totalSize));\n                return message;\n            },\n            _controlFailureTextDisplay: function(id, response) {\n                var mode, responseProperty, failureReason;\n                mode = this._options.failedUploadTextDisplay.mode;\n                responseProperty = this._options.failedUploadTextDisplay.responseProperty;\n                if (mode === \"custom\") {\n                    failureReason = response[responseProperty];\n                    if (!failureReason) {\n                        failureReason = this._options.text.failUpload;\n                    }\n                    this._templating.setStatusText(id, failureReason);\n                    if (this._options.failedUploadTextDisplay.enableTooltip) {\n                        this._showTooltip(id, failureReason);\n                    }\n                } else if (mode === \"default\") {\n                    this._templating.setStatusText(id, this._options.text.failUpload);\n                } else if (mode !== \"none\") {\n                    this.log(\"failedUploadTextDisplay.mode value of '\" + mode + \"' is not valid\", \"warn\");\n                }\n            },\n            _showTooltip: function(id, text) {\n                this._templating.getFileContainer(id).title = text;\n            },\n            _showCancelLink: function(id) {\n                if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) {\n                    this._templating.showCancel(id);\n                }\n            },\n            _itemError: function(code, name, item) {\n                var message = this._parent.prototype._itemError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _batchError: function(message) {\n                this._parent.prototype._batchError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _setupPastePrompt: function() {\n                var self = this;\n                this._options.callbacks.onPasteReceived = function() {\n                    var message = self._options.paste.namePromptMessage, defaultVal = self._options.paste.defaultName;\n                    return self._options.showPrompt(message, defaultVal);\n                };\n            },\n            _fileOrBlobRejected: function(id, name) {\n                this._totalFilesInBatch -= 1;\n                this._parent.prototype._fileOrBlobRejected.apply(this, arguments);\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                this._totalFilesInBatch = items.length;\n                this._filesInBatchAddedToUi = 0;\n                this._parent.prototype._prepareItemsForUpload.apply(this, arguments);\n            },\n            _maybeUpdateThumbnail: function(fileId) {\n                var thumbnailUrl = this._thumbnailUrls[fileId], fileStatus = this.getUploads({\n                    id: fileId\n                }).status;\n                if (fileStatus !== qq.status.DELETED && (thumbnailUrl || this._options.thumbnails.placeholders.waitUntilResponse || !qq.supportedFeatures.imagePreviews)) {\n                    this._templating.updateThumbnail(fileId, thumbnailUrl, this._options.thumbnails.customResizer);\n                }\n            },\n            _addCannedFile: function(sessionData) {\n                var id = this._parent.prototype._addCannedFile.apply(this, arguments);\n                this._addToList(id, this.getName(id), true);\n                this._templating.hideSpinner(id);\n                this._templating.hideCancel(id);\n                this._markFileAsSuccessful(id);\n                return id;\n            },\n            _setSize: function(id, newSize) {\n                this._parent.prototype._setSize.apply(this, arguments);\n                this._templating.updateSize(id, this._formatSize(newSize));\n            },\n            _sessionRequestComplete: function() {\n                this._templating.addCacheToDom();\n                this._parent.prototype._sessionRequestComplete.apply(this, arguments);\n            }\n        };\n    })();\n    qq.FineUploader = function(o, namespace) {\n        \"use strict\";\n        var self = this;\n        this._parent = namespace ? qq[namespace].FineUploaderBasic : qq.FineUploaderBasic;\n        this._parent.apply(this, arguments);\n        qq.extend(this._options, {\n            element: null,\n            button: null,\n            listElement: null,\n            dragAndDrop: {\n                extraDropzones: [],\n                reportDirectoryPaths: false\n            },\n            text: {\n                formatProgress: \"{percent}% of {total_size}\",\n                failUpload: \"Upload failed\",\n                waitingForResponse: \"Processing...\",\n                paused: \"Paused\"\n            },\n            template: \"qq-template\",\n            classes: {\n                retrying: \"qq-upload-retrying\",\n                retryable: \"qq-upload-retryable\",\n                success: \"qq-upload-success\",\n                fail: \"qq-upload-fail\",\n                editable: \"qq-editable\",\n                hide: \"qq-hide\",\n                dropActive: \"qq-upload-drop-area-active\"\n            },\n            failedUploadTextDisplay: {\n                mode: \"default\",\n                responseProperty: \"error\",\n                enableTooltip: true\n            },\n            messages: {\n                tooManyFilesError: \"You may only drop one file\",\n                unsupportedBrowser: \"Unrecoverable error - this browser does not permit file uploading of any kind.\"\n            },\n            retry: {\n                showAutoRetryNote: true,\n                autoRetryNote: \"Retrying {retryNum}/{maxAuto}...\"\n            },\n            deleteFile: {\n                forceConfirm: false,\n                confirmMessage: \"Are you sure you want to delete {filename}?\",\n                deletingStatusText: \"Deleting...\",\n                deletingFailedText: \"Delete failed\"\n            },\n            display: {\n                fileSizeOnSubmit: false,\n                prependFiles: false\n            },\n            paste: {\n                promptForName: false,\n                namePromptMessage: \"Please name this image\"\n            },\n            thumbnails: {\n                customResizer: null,\n                maxCount: 0,\n                placeholders: {\n                    waitUntilResponse: false,\n                    notAvailablePath: null,\n                    waitingPath: null\n                },\n                timeBetweenThumbs: 750\n            },\n            scaling: {\n                hideScaled: false\n            },\n            showMessage: function(message) {\n                if (self._templating.hasDialog(\"alert\")) {\n                    return self._templating.showDialog(\"alert\", message);\n                } else {\n                    setTimeout(function() {\n                        window.alert(message);\n                    }, 0);\n                }\n            },\n            showConfirm: function(message) {\n                if (self._templating.hasDialog(\"confirm\")) {\n                    return self._templating.showDialog(\"confirm\", message);\n                } else {\n                    return window.confirm(message);\n                }\n            },\n            showPrompt: function(message, defaultValue) {\n                if (self._templating.hasDialog(\"prompt\")) {\n                    return self._templating.showDialog(\"prompt\", message, defaultValue);\n                } else {\n                    return window.prompt(message, defaultValue);\n                }\n            }\n        }, true);\n        qq.extend(this._options, o, true);\n        this._templating = new qq.Templating({\n            log: qq.bind(this.log, this),\n            templateIdOrEl: this._options.template,\n            containerEl: this._options.element,\n            fileContainerEl: this._options.listElement,\n            button: this._options.button,\n            imageGenerator: this._imageGenerator,\n            classes: {\n                hide: this._options.classes.hide,\n                editable: this._options.classes.editable\n            },\n            limits: {\n                maxThumbs: this._options.thumbnails.maxCount,\n                timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs\n            },\n            placeholders: {\n                waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,\n                thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,\n                waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath\n            },\n            text: this._options.text\n        });\n        if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari);\n        } else if (!qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowser);\n        } else {\n            this._wrapCallbacks();\n            this._templating.render();\n            this._classes = this._options.classes;\n            if (!this._options.button && this._templating.getButton()) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._templating.getButton(),\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._setupClickAndEditEventHandlers();\n            if (qq.DragAndDrop && qq.supportedFeatures.fileDrop) {\n                this._dnd = this._setupDragAndDrop();\n            }\n            if (this._options.paste.targetElement && this._options.paste.promptForName) {\n                if (qq.PasteSupport) {\n                    this._setupPastePrompt();\n                } else {\n                    this.log(\"Paste support module not found.\", \"error\");\n                }\n            }\n            this._totalFilesInBatch = 0;\n            this._filesInBatchAddedToUi = 0;\n        }\n    };\n    qq.extend(qq.FineUploader.prototype, qq.basePublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.basePrivateApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPrivateApi);\n    qq.Templating = function(spec) {\n        \"use strict\";\n        var FILE_ID_ATTR = \"qq-file-id\", FILE_CLASS_PREFIX = \"qq-file-id-\", THUMBNAIL_MAX_SIZE_ATTR = \"qq-max-size\", THUMBNAIL_SERVER_SCALE_ATTR = \"qq-server-scale\", HIDE_DROPZONE_ATTR = \"qq-hide-dropzone\", DROPZPONE_TEXT_ATTR = \"qq-drop-area-text\", IN_PROGRESS_CLASS = \"qq-in-progress\", HIDDEN_FOREVER_CLASS = \"qq-hidden-forever\", fileBatch = {\n            content: document.createDocumentFragment(),\n            map: {}\n        }, isCancelDisabled = false, generatedThumbnails = 0, thumbnailQueueMonitorRunning = false, thumbGenerationQueue = [], thumbnailMaxSize = -1, options = {\n            log: null,\n            limits: {\n                maxThumbs: 0,\n                timeBetweenThumbs: 750\n            },\n            templateIdOrEl: \"qq-template\",\n            containerEl: null,\n            fileContainerEl: null,\n            button: null,\n            imageGenerator: null,\n            classes: {\n                hide: \"qq-hide\",\n                editable: \"qq-editable\"\n            },\n            placeholders: {\n                waitUntilUpdate: false,\n                thumbnailNotAvailable: null,\n                waitingForThumbnail: null\n            },\n            text: {\n                paused: \"Paused\"\n            }\n        }, selectorClasses = {\n            button: \"qq-upload-button-selector\",\n            alertDialog: \"qq-alert-dialog-selector\",\n            dialogCancelButton: \"qq-cancel-button-selector\",\n            confirmDialog: \"qq-confirm-dialog-selector\",\n            dialogMessage: \"qq-dialog-message-selector\",\n            dialogOkButton: \"qq-ok-button-selector\",\n            promptDialog: \"qq-prompt-dialog-selector\",\n            uploader: \"qq-uploader-selector\",\n            drop: \"qq-upload-drop-area-selector\",\n            list: \"qq-upload-list-selector\",\n            progressBarContainer: \"qq-progress-bar-container-selector\",\n            progressBar: \"qq-progress-bar-selector\",\n            totalProgressBarContainer: \"qq-total-progress-bar-container-selector\",\n            totalProgressBar: \"qq-total-progress-bar-selector\",\n            file: \"qq-upload-file-selector\",\n            spinner: \"qq-upload-spinner-selector\",\n            size: \"qq-upload-size-selector\",\n            cancel: \"qq-upload-cancel-selector\",\n            pause: \"qq-upload-pause-selector\",\n            continueButton: \"qq-upload-continue-selector\",\n            deleteButton: \"qq-upload-delete-selector\",\n            retry: \"qq-upload-retry-selector\",\n            statusText: \"qq-upload-status-text-selector\",\n            editFilenameInput: \"qq-edit-filename-selector\",\n            editNameIcon: \"qq-edit-filename-icon-selector\",\n            dropText: \"qq-upload-drop-area-text-selector\",\n            dropProcessing: \"qq-drop-processing-selector\",\n            dropProcessingSpinner: \"qq-drop-processing-spinner-selector\",\n            thumbnail: \"qq-thumbnail-selector\"\n        }, previewGeneration = {}, cachedThumbnailNotAvailableImg = new qq.Promise(), cachedWaitingForThumbnailImg = new qq.Promise(), log, isEditElementsExist, isRetryElementExist, templateDom, container, fileList, showThumbnails, serverScale, cacheThumbnailPlaceholders = function() {\n            var notAvailableUrl = options.placeholders.thumbnailNotAvailable, waitingUrl = options.placeholders.waitingForThumbnail, spec = {\n                maxSize: thumbnailMaxSize,\n                scale: serverScale\n            };\n            if (showThumbnails) {\n                if (notAvailableUrl) {\n                    options.imageGenerator.generate(notAvailableUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedThumbnailNotAvailableImg.success(updatedImg);\n                    }, function() {\n                        cachedThumbnailNotAvailableImg.failure();\n                        log(\"Problem loading 'not available' placeholder image at \" + notAvailableUrl, \"error\");\n                    });\n                } else {\n                    cachedThumbnailNotAvailableImg.failure();\n                }\n                if (waitingUrl) {\n                    options.imageGenerator.generate(waitingUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedWaitingForThumbnailImg.success(updatedImg);\n                    }, function() {\n                        cachedWaitingForThumbnailImg.failure();\n                        log(\"Problem loading 'waiting for thumbnail' placeholder image at \" + waitingUrl, \"error\");\n                    });\n                } else {\n                    cachedWaitingForThumbnailImg.failure();\n                }\n            }\n        }, displayWaitingImg = function(thumbnail) {\n            var waitingImgPlacement = new qq.Promise();\n            cachedWaitingForThumbnailImg.then(function(img) {\n                maybeScalePlaceholderViaCss(img, thumbnail);\n                if (!thumbnail.src) {\n                    thumbnail.src = img.src;\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        show(thumbnail);\n                        waitingImgPlacement.success();\n                    };\n                } else {\n                    waitingImgPlacement.success();\n                }\n            }, function() {\n                hide(thumbnail);\n                waitingImgPlacement.success();\n            });\n            return waitingImgPlacement;\n        }, generateNewPreview = function(id, blob, spec) {\n            var thumbnail = getThumbnail(id);\n            log(\"Generating new thumbnail for \" + id);\n            blob.qqThumbnailId = id;\n            return options.imageGenerator.generate(blob, thumbnail, spec).then(function() {\n                generatedThumbnails++;\n                show(thumbnail);\n                previewGeneration[id].success();\n            }, function() {\n                previewGeneration[id].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                }\n            });\n        }, generateNextQueuedPreview = function() {\n            if (thumbGenerationQueue.length) {\n                thumbnailQueueMonitorRunning = true;\n                var queuedThumbRequest = thumbGenerationQueue.shift();\n                if (queuedThumbRequest.update) {\n                    processUpdateQueuedPreviewRequest(queuedThumbRequest);\n                } else {\n                    processNewQueuedPreviewRequest(queuedThumbRequest);\n                }\n            } else {\n                thumbnailQueueMonitorRunning = false;\n            }\n        }, getCancel = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.cancel);\n        }, getContinue = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.continueButton);\n        }, getDialog = function(type) {\n            return getTemplateEl(container, selectorClasses[type + \"Dialog\"]);\n        }, getDelete = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.deleteButton);\n        }, getDropProcessing = function() {\n            return getTemplateEl(container, selectorClasses.dropProcessing);\n        }, getEditIcon = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.editNameIcon);\n        }, getFile = function(id) {\n            return fileBatch.map[id] || qq(fileList).getFirstByClass(FILE_CLASS_PREFIX + id);\n        }, getFilename = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.file);\n        }, getPause = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.pause);\n        }, getProgress = function(id) {\n            if (id == null) {\n                return getTemplateEl(container, selectorClasses.totalProgressBarContainer) || getTemplateEl(container, selectorClasses.totalProgressBar);\n            }\n            return getTemplateEl(getFile(id), selectorClasses.progressBarContainer) || getTemplateEl(getFile(id), selectorClasses.progressBar);\n        }, getRetry = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.retry);\n        }, getSize = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.size);\n        }, getSpinner = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.spinner);\n        }, getTemplateEl = function(context, cssClass) {\n            return context && qq(context).getFirstByClass(cssClass);\n        }, getThumbnail = function(id) {\n            return showThumbnails && getTemplateEl(getFile(id), selectorClasses.thumbnail);\n        }, hide = function(el) {\n            el && qq(el).addClass(options.classes.hide);\n        }, maybeScalePlaceholderViaCss = function(placeholder, thumbnail) {\n            var maxWidth = placeholder.style.maxWidth, maxHeight = placeholder.style.maxHeight;\n            if (maxHeight && maxWidth && !thumbnail.style.maxWidth && !thumbnail.style.maxHeight) {\n                qq(thumbnail).css({\n                    maxWidth: maxWidth,\n                    maxHeight: maxHeight\n                });\n            }\n        }, maybeSetDisplayNotAvailableImg = function(id, thumbnail) {\n            var previewing = previewGeneration[id] || new qq.Promise().failure(), notAvailableImgPlacement = new qq.Promise();\n            cachedThumbnailNotAvailableImg.then(function(img) {\n                previewing.then(function() {\n                    notAvailableImgPlacement.success();\n                }, function() {\n                    maybeScalePlaceholderViaCss(img, thumbnail);\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        notAvailableImgPlacement.success();\n                    };\n                    thumbnail.src = img.src;\n                    show(thumbnail);\n                });\n            });\n            return notAvailableImgPlacement;\n        }, parseAndGetTemplate = function() {\n            var scriptEl, scriptHtml, fileListNode, tempTemplateEl, fileListEl, defaultButton, dropArea, thumbnail, dropProcessing, dropTextEl, uploaderEl;\n            log(\"Parsing template\");\n            if (options.templateIdOrEl == null) {\n                throw new Error(\"You MUST specify either a template element or ID!\");\n            }\n            if (qq.isString(options.templateIdOrEl)) {\n                scriptEl = document.getElementById(options.templateIdOrEl);\n                if (scriptEl === null) {\n                    throw new Error(qq.format(\"Cannot find template script at ID '{}'!\", options.templateIdOrEl));\n                }\n                scriptHtml = scriptEl.innerHTML;\n            } else {\n                if (options.templateIdOrEl.innerHTML === undefined) {\n                    throw new Error(\"You have specified an invalid value for the template option!  \" + \"It must be an ID or an Element.\");\n                }\n                scriptHtml = options.templateIdOrEl.innerHTML;\n            }\n            scriptHtml = qq.trimStr(scriptHtml);\n            tempTemplateEl = document.createElement(\"div\");\n            tempTemplateEl.appendChild(qq.toElement(scriptHtml));\n            uploaderEl = qq(tempTemplateEl).getFirstByClass(selectorClasses.uploader);\n            if (options.button) {\n                defaultButton = qq(tempTemplateEl).getFirstByClass(selectorClasses.button);\n                if (defaultButton) {\n                    qq(defaultButton).remove();\n                }\n            }\n            if (!qq.DragAndDrop || !qq.supportedFeatures.fileDrop) {\n                dropProcessing = qq(tempTemplateEl).getFirstByClass(selectorClasses.dropProcessing);\n                if (dropProcessing) {\n                    qq(dropProcessing).remove();\n                }\n            }\n            dropArea = qq(tempTemplateEl).getFirstByClass(selectorClasses.drop);\n            if (dropArea && !qq.DragAndDrop) {\n                log(\"DnD module unavailable.\", \"info\");\n                qq(dropArea).remove();\n            }\n            if (!qq.supportedFeatures.fileDrop) {\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (dropArea && qq(dropArea).hasAttribute(HIDE_DROPZONE_ATTR)) {\n                    qq(dropArea).css({\n                        display: \"none\"\n                    });\n                }\n            } else if (qq(uploaderEl).hasAttribute(DROPZPONE_TEXT_ATTR) && dropArea) {\n                dropTextEl = qq(dropArea).getFirstByClass(selectorClasses.dropText);\n                dropTextEl && qq(dropTextEl).remove();\n            }\n            thumbnail = qq(tempTemplateEl).getFirstByClass(selectorClasses.thumbnail);\n            if (!showThumbnails) {\n                thumbnail && qq(thumbnail).remove();\n            } else if (thumbnail) {\n                thumbnailMaxSize = parseInt(thumbnail.getAttribute(THUMBNAIL_MAX_SIZE_ATTR));\n                thumbnailMaxSize = thumbnailMaxSize > 0 ? thumbnailMaxSize : null;\n                serverScale = qq(thumbnail).hasAttribute(THUMBNAIL_SERVER_SCALE_ATTR);\n            }\n            showThumbnails = showThumbnails && thumbnail;\n            isEditElementsExist = qq(tempTemplateEl).getByClass(selectorClasses.editFilenameInput).length > 0;\n            isRetryElementExist = qq(tempTemplateEl).getByClass(selectorClasses.retry).length > 0;\n            fileListNode = qq(tempTemplateEl).getFirstByClass(selectorClasses.list);\n            if (fileListNode == null) {\n                throw new Error(\"Could not find the file list container in the template!\");\n            }\n            fileListEl = fileListNode.children[0].cloneNode(true);\n            fileListNode.innerHTML = \"\";\n            if (tempTemplateEl.getElementsByTagName(\"DIALOG\").length) {\n                document.createElement(\"dialog\");\n            }\n            log(\"Template parsing complete\");\n            return {\n                template: tempTemplateEl,\n                fileTemplate: fileListEl\n            };\n        }, prependFile = function(el, index, fileList) {\n            var parentEl = fileList, beforeEl = parentEl.firstChild;\n            if (index > 0) {\n                beforeEl = qq(parentEl).children()[index].nextSibling;\n            }\n            parentEl.insertBefore(el, beforeEl);\n        }, processNewQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, optFileOrBlob = queuedThumbRequest.optFileOrBlob, relatedThumbnailId = optFileOrBlob && optFileOrBlob.qqThumbnailId, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                maxSize: thumbnailMaxSize,\n                orient: true,\n                scale: true\n            };\n            if (qq.supportedFeatures.imagePreviews) {\n                if (thumbnail) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        displayWaitingImg(thumbnail).done(function() {\n                            previewGeneration[id] = new qq.Promise();\n                            previewGeneration[id].done(function() {\n                                setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                            });\n                            if (relatedThumbnailId != null) {\n                                useCachedPreview(id, relatedThumbnailId);\n                            } else {\n                                generateNewPreview(id, optFileOrBlob, spec);\n                            }\n                        });\n                    }\n                } else {\n                    generateNextQueuedPreview();\n                }\n            } else if (thumbnail) {\n                displayWaitingImg(thumbnail);\n                generateNextQueuedPreview();\n            }\n        }, processUpdateQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, thumbnailUrl = queuedThumbRequest.thumbnailUrl, showWaitingImg = queuedThumbRequest.showWaitingImg, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                scale: serverScale,\n                maxSize: thumbnailMaxSize\n            };\n            if (thumbnail) {\n                if (thumbnailUrl) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        if (showWaitingImg) {\n                            displayWaitingImg(thumbnail);\n                        }\n                        return options.imageGenerator.generate(thumbnailUrl, thumbnail, spec).then(function() {\n                            show(thumbnail);\n                            generatedThumbnails++;\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        }, function() {\n                            maybeSetDisplayNotAvailableImg(id, thumbnail);\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        });\n                    }\n                } else {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                    generateNextQueuedPreview();\n                }\n            }\n        }, setProgressBarWidth = function(id, percent) {\n            var bar = getProgress(id), progressBarSelector = id == null ? selectorClasses.totalProgressBar : selectorClasses.progressBar;\n            if (bar && !qq(bar).hasClass(progressBarSelector)) {\n                bar = qq(bar).getFirstByClass(progressBarSelector);\n            }\n            if (bar) {\n                qq(bar).css({\n                    width: percent + \"%\"\n                });\n                bar.setAttribute(\"aria-valuenow\", percent);\n            }\n        }, show = function(el) {\n            el && qq(el).removeClass(options.classes.hide);\n        }, useCachedPreview = function(targetThumbnailId, cachedThumbnailId) {\n            var targetThumbnail = getThumbnail(targetThumbnailId), cachedThumbnail = getThumbnail(cachedThumbnailId);\n            log(qq.format(\"ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.\", targetThumbnailId, cachedThumbnailId, cachedThumbnailId));\n            previewGeneration[cachedThumbnailId].then(function() {\n                generatedThumbnails++;\n                previewGeneration[targetThumbnailId].success();\n                log(qq.format(\"Now using previously generated thumbnail created for ID {} on ID {}.\", cachedThumbnailId, targetThumbnailId));\n                targetThumbnail.src = cachedThumbnail.src;\n                show(targetThumbnail);\n            }, function() {\n                previewGeneration[targetThumbnailId].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(targetThumbnailId, targetThumbnail);\n                }\n            });\n        };\n        qq.extend(options, spec);\n        log = options.log;\n        if (!qq.supportedFeatures.imagePreviews) {\n            options.limits.timeBetweenThumbs = 0;\n            options.limits.maxThumbs = 0;\n        }\n        container = options.containerEl;\n        showThumbnails = options.imageGenerator !== undefined;\n        templateDom = parseAndGetTemplate();\n        cacheThumbnailPlaceholders();\n        qq.extend(this, {\n            render: function() {\n                log(\"Rendering template in DOM.\");\n                generatedThumbnails = 0;\n                container.appendChild(templateDom.template.cloneNode(true));\n                hide(getDropProcessing());\n                this.hideTotalProgress();\n                fileList = options.fileContainerEl || getTemplateEl(container, selectorClasses.list);\n                log(\"Template rendering complete\");\n            },\n            renderFailure: function(message) {\n                var cantRenderEl = qq.toElement(message);\n                container.innerHTML = \"\";\n                container.appendChild(cantRenderEl);\n            },\n            reset: function() {\n                container.innerHTML = \"\";\n                this.render();\n            },\n            clearFiles: function() {\n                fileList.innerHTML = \"\";\n            },\n            disableCancel: function() {\n                isCancelDisabled = true;\n            },\n            addFile: function(id, name, prependInfo, hideForever, batch) {\n                var fileEl = templateDom.fileTemplate.cloneNode(true), fileNameEl = getTemplateEl(fileEl, selectorClasses.file), uploaderEl = getTemplateEl(container, selectorClasses.uploader), fileContainer = batch ? fileBatch.content : fileList, thumb;\n                if (batch) {\n                    fileBatch.map[id] = fileEl;\n                }\n                qq(fileEl).addClass(FILE_CLASS_PREFIX + id);\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (fileNameEl) {\n                    qq(fileNameEl).setText(name);\n                    fileNameEl.setAttribute(\"title\", name);\n                }\n                fileEl.setAttribute(FILE_ID_ATTR, id);\n                if (prependInfo) {\n                    prependFile(fileEl, prependInfo.index, fileContainer);\n                } else {\n                    fileContainer.appendChild(fileEl);\n                }\n                if (hideForever) {\n                    fileEl.style.display = \"none\";\n                    qq(fileEl).addClass(HIDDEN_FOREVER_CLASS);\n                } else {\n                    hide(getProgress(id));\n                    hide(getSize(id));\n                    hide(getDelete(id));\n                    hide(getRetry(id));\n                    hide(getPause(id));\n                    hide(getContinue(id));\n                    if (isCancelDisabled) {\n                        this.hideCancel(id);\n                    }\n                    thumb = getThumbnail(id);\n                    if (thumb && !thumb.src) {\n                        cachedWaitingForThumbnailImg.then(function(waitingImg) {\n                            thumb.src = waitingImg.src;\n                            if (waitingImg.style.maxHeight && waitingImg.style.maxWidth) {\n                                qq(thumb).css({\n                                    maxHeight: waitingImg.style.maxHeight,\n                                    maxWidth: waitingImg.style.maxWidth\n                                });\n                            }\n                            show(thumb);\n                        });\n                    }\n                }\n            },\n            addFileToCache: function(id, name, prependInfo, hideForever) {\n                this.addFile(id, name, prependInfo, hideForever, true);\n            },\n            addCacheToDom: function() {\n                fileList.appendChild(fileBatch.content);\n                fileBatch.content = document.createDocumentFragment();\n                fileBatch.map = {};\n            },\n            removeFile: function(id) {\n                qq(getFile(id)).remove();\n            },\n            getFileId: function(el) {\n                var currentNode = el;\n                if (currentNode) {\n                    while (currentNode.getAttribute(FILE_ID_ATTR) == null) {\n                        currentNode = currentNode.parentNode;\n                    }\n                    return parseInt(currentNode.getAttribute(FILE_ID_ATTR));\n                }\n            },\n            getFileList: function() {\n                return fileList;\n            },\n            markFilenameEditable: function(id) {\n                var filename = getFilename(id);\n                filename && qq(filename).addClass(options.classes.editable);\n            },\n            updateFilename: function(id, name) {\n                var filenameEl = getFilename(id);\n                if (filenameEl) {\n                    qq(filenameEl).setText(name);\n                    filenameEl.setAttribute(\"title\", name);\n                }\n            },\n            hideFilename: function(id) {\n                hide(getFilename(id));\n            },\n            showFilename: function(id) {\n                show(getFilename(id));\n            },\n            isFileName: function(el) {\n                return qq(el).hasClass(selectorClasses.file);\n            },\n            getButton: function() {\n                return options.button || getTemplateEl(container, selectorClasses.button);\n            },\n            hideDropProcessing: function() {\n                hide(getDropProcessing());\n            },\n            showDropProcessing: function() {\n                show(getDropProcessing());\n            },\n            getDropZone: function() {\n                return getTemplateEl(container, selectorClasses.drop);\n            },\n            isEditFilenamePossible: function() {\n                return isEditElementsExist;\n            },\n            hideRetry: function(id) {\n                hide(getRetry(id));\n            },\n            isRetryPossible: function() {\n                return isRetryElementExist;\n            },\n            showRetry: function(id) {\n                show(getRetry(id));\n            },\n            getFileContainer: function(id) {\n                return getFile(id);\n            },\n            showEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).addClass(options.classes.editable);\n            },\n            isHiddenForever: function(id) {\n                return qq(getFile(id)).hasClass(HIDDEN_FOREVER_CLASS);\n            },\n            hideEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).removeClass(options.classes.editable);\n            },\n            isEditIcon: function(el) {\n                return qq(el).hasClass(selectorClasses.editNameIcon, true);\n            },\n            getEditInput: function(id) {\n                return getTemplateEl(getFile(id), selectorClasses.editFilenameInput);\n            },\n            isEditInput: function(el) {\n                return qq(el).hasClass(selectorClasses.editFilenameInput, true);\n            },\n            updateProgress: function(id, loaded, total) {\n                var bar = getProgress(id), percent;\n                if (bar && total > 0) {\n                    percent = Math.round(loaded / total * 100);\n                    if (percent === 100) {\n                        hide(bar);\n                    } else {\n                        show(bar);\n                    }\n                    setProgressBarWidth(id, percent);\n                }\n            },\n            updateTotalProgress: function(loaded, total) {\n                this.updateProgress(null, loaded, total);\n            },\n            hideProgress: function(id) {\n                var bar = getProgress(id);\n                bar && hide(bar);\n            },\n            hideTotalProgress: function() {\n                this.hideProgress();\n            },\n            resetProgress: function(id) {\n                setProgressBarWidth(id, 0);\n                this.hideTotalProgress(id);\n            },\n            resetTotalProgress: function() {\n                this.resetProgress();\n            },\n            showCancel: function(id) {\n                if (!isCancelDisabled) {\n                    var cancel = getCancel(id);\n                    cancel && qq(cancel).removeClass(options.classes.hide);\n                }\n            },\n            hideCancel: function(id) {\n                hide(getCancel(id));\n            },\n            isCancel: function(el) {\n                return qq(el).hasClass(selectorClasses.cancel, true);\n            },\n            allowPause: function(id) {\n                show(getPause(id));\n                hide(getContinue(id));\n            },\n            uploadPaused: function(id) {\n                this.setStatusText(id, options.text.paused);\n                this.allowContinueButton(id);\n                hide(getSpinner(id));\n            },\n            hidePause: function(id) {\n                hide(getPause(id));\n            },\n            isPause: function(el) {\n                return qq(el).hasClass(selectorClasses.pause, true);\n            },\n            isContinueButton: function(el) {\n                return qq(el).hasClass(selectorClasses.continueButton, true);\n            },\n            allowContinueButton: function(id) {\n                show(getContinue(id));\n                hide(getPause(id));\n            },\n            uploadContinued: function(id) {\n                this.setStatusText(id, \"\");\n                this.allowPause(id);\n                show(getSpinner(id));\n            },\n            showDeleteButton: function(id) {\n                show(getDelete(id));\n            },\n            hideDeleteButton: function(id) {\n                hide(getDelete(id));\n            },\n            isDeleteButton: function(el) {\n                return qq(el).hasClass(selectorClasses.deleteButton, true);\n            },\n            isRetry: function(el) {\n                return qq(el).hasClass(selectorClasses.retry, true);\n            },\n            updateSize: function(id, text) {\n                var size = getSize(id);\n                if (size) {\n                    show(size);\n                    qq(size).setText(text);\n                }\n            },\n            setStatusText: function(id, text) {\n                var textEl = getTemplateEl(getFile(id), selectorClasses.statusText);\n                if (textEl) {\n                    if (text == null) {\n                        qq(textEl).clearText();\n                    } else {\n                        qq(textEl).setText(text);\n                    }\n                }\n            },\n            hideSpinner: function(id) {\n                qq(getFile(id)).removeClass(IN_PROGRESS_CLASS);\n                hide(getSpinner(id));\n            },\n            showSpinner: function(id) {\n                qq(getFile(id)).addClass(IN_PROGRESS_CLASS);\n                show(getSpinner(id));\n            },\n            generatePreview: function(id, optFileOrBlob, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        id: id,\n                        customResizeFunction: customResizeFunction,\n                        optFileOrBlob: optFileOrBlob\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            updateThumbnail: function(id, thumbnailUrl, showWaitingImg, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        customResizeFunction: customResizeFunction,\n                        update: true,\n                        id: id,\n                        thumbnailUrl: thumbnailUrl,\n                        showWaitingImg: showWaitingImg\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            hasDialog: function(type) {\n                return qq.supportedFeatures.dialogElement && !!getDialog(type);\n            },\n            showDialog: function(type, message, defaultValue) {\n                var dialog = getDialog(type), messageEl = getTemplateEl(dialog, selectorClasses.dialogMessage), inputEl = dialog.getElementsByTagName(\"INPUT\")[0], cancelBtn = getTemplateEl(dialog, selectorClasses.dialogCancelButton), okBtn = getTemplateEl(dialog, selectorClasses.dialogOkButton), promise = new qq.Promise(), closeHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    okBtn && okBtn.removeEventListener(\"click\", okClickHandler);\n                    promise.failure();\n                }, cancelClickHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    dialog.close();\n                }, okClickHandler = function() {\n                    dialog.removeEventListener(\"close\", closeHandler);\n                    okBtn.removeEventListener(\"click\", okClickHandler);\n                    dialog.close();\n                    promise.success(inputEl && inputEl.value);\n                };\n                dialog.addEventListener(\"close\", closeHandler);\n                cancelBtn.addEventListener(\"click\", cancelClickHandler);\n                okBtn && okBtn.addEventListener(\"click\", okClickHandler);\n                if (inputEl) {\n                    inputEl.value = defaultValue;\n                }\n                messageEl.textContent = message;\n                dialog.showModal();\n                return promise;\n            }\n        });\n    };\n    qq.UiEventHandler = function(s, protectedApi) {\n        \"use strict\";\n        var disposer = new qq.DisposeSupport(), spec = {\n            eventType: \"click\",\n            attachTo: null,\n            onHandled: function(target, event) {}\n        };\n        qq.extend(this, {\n            addHandler: function(element) {\n                addHandler(element);\n            },\n            dispose: function() {\n                disposer.dispose();\n            }\n        });\n        function addHandler(element) {\n            disposer.attach(element, spec.eventType, function(event) {\n                event = event || window.event;\n                var target = event.target || event.srcElement;\n                spec.onHandled(target, event);\n            });\n        }\n        qq.extend(protectedApi, {\n            getFileIdFromItem: function(item) {\n                return item.qqFileId;\n            },\n            getDisposeSupport: function() {\n                return disposer;\n            }\n        });\n        qq.extend(spec, s);\n        if (spec.attachTo) {\n            addHandler(spec.attachTo);\n        }\n    };\n    qq.FileButtonsClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onDeleteFile: function(fileId) {},\n            onCancel: function(fileId) {},\n            onRetry: function(fileId) {},\n            onPause: function(fileId) {},\n            onContinue: function(fileId) {},\n            onGetName: function(fileId) {}\n        }, buttonHandlers = {\n            cancel: function(id) {\n                spec.onCancel(id);\n            },\n            retry: function(id) {\n                spec.onRetry(id);\n            },\n            deleteButton: function(id) {\n                spec.onDeleteFile(id);\n            },\n            pause: function(id) {\n                spec.onPause(id);\n            },\n            continueButton: function(id) {\n                spec.onContinue(id);\n            }\n        };\n        function examineEvent(target, event) {\n            qq.each(buttonHandlers, function(buttonType, handler) {\n                var firstLetterCapButtonType = buttonType.charAt(0).toUpperCase() + buttonType.slice(1), fileId;\n                if (spec.templating[\"is\" + firstLetterCapButtonType](target)) {\n                    fileId = spec.templating.getFileId(target);\n                    qq.preventDefault(event);\n                    spec.log(qq.format(\"Detected valid file button click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    handler(fileId);\n                    return false;\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            classes: {\n                file: \"qq-upload-file\",\n                editNameIcon: \"qq-edit-filename-icon\"\n            },\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {}\n        };\n        qq.extend(spec, s);\n        function examineEvent(target, event) {\n            if (spec.templating.isFileName(target) || spec.templating.isEditIcon(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    qq.preventDefault(event);\n                    inheritedInternalApi.handleFilenameEdit(fileId, target, true);\n                }\n            }\n        }\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusInHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            onGetUploadStatus: function(fileId) {},\n            log: function(message, lvl) {}\n        };\n        if (!inheritedInternalApi) {\n            inheritedInternalApi = {};\n        }\n        function handleInputFocus(target, event) {\n            if (spec.templating.isEditInput(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename input focus event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    inheritedInternalApi.handleFilenameEdit(fileId, target);\n                }\n            }\n        }\n        spec.eventType = \"focusin\";\n        spec.onHandled = handleInputFocus;\n        qq.extend(spec, s);\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusHandler = function(spec) {\n        \"use strict\";\n        spec.eventType = \"focus\";\n        spec.attachTo = null;\n        qq.extend(this, new qq.FilenameInputFocusInHandler(spec, {}));\n    };\n    qq.FilenameEditHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {},\n            onSetName: function(fileId, newName) {},\n            onEditingStatusChange: function(fileId, isEditing) {}\n        };\n        function getFilenameSansExtension(fileId) {\n            var filenameSansExt = spec.onGetName(fileId), extIdx = filenameSansExt.lastIndexOf(\".\");\n            if (extIdx > 0) {\n                filenameSansExt = filenameSansExt.substr(0, extIdx);\n            }\n            return filenameSansExt;\n        }\n        function getOriginalExtension(fileId) {\n            var origName = spec.onGetName(fileId);\n            return qq.getExtension(origName);\n        }\n        function handleNameUpdate(newFilenameInputEl, fileId) {\n            var newName = newFilenameInputEl.value, origExtension;\n            if (newName !== undefined && qq.trimStr(newName).length > 0) {\n                origExtension = getOriginalExtension(fileId);\n                if (origExtension !== undefined) {\n                    newName = newName + \".\" + origExtension;\n                }\n                spec.onSetName(fileId, newName);\n            }\n            spec.onEditingStatusChange(fileId, false);\n        }\n        function registerInputBlurHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"blur\", function() {\n                handleNameUpdate(inputEl, fileId);\n            });\n        }\n        function registerInputEnterKeyHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"keyup\", function(event) {\n                var code = event.keyCode || event.which;\n                if (code === 13) {\n                    handleNameUpdate(inputEl, fileId);\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n        qq.extend(inheritedInternalApi, {\n            handleFilenameEdit: function(id, target, focusInput) {\n                var newFilenameInputEl = spec.templating.getEditInput(id);\n                spec.onEditingStatusChange(id, true);\n                newFilenameInputEl.value = getFilenameSansExtension(id);\n                if (focusInput) {\n                    newFilenameInputEl.focus();\n                }\n                registerInputBlurHandler(newFilenameInputEl, id);\n                registerInputEnterKeyHandler(newFilenameInputEl, id);\n            }\n        });\n    };\n})(window);\n//# sourceMappingURL=fine-uploader.js.map","\"use strict\";\n\nmodule.exports = require(\"../fine-uploader/fine-uploader\");\n","function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?\"data-micromodal-trigger\":d,f=e.closeTrigger,h=void 0===f?\"data-micromodal-close\":f,v=e.openClass,g=void 0===v?\"is-open\":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:\"registerTriggers\",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener(\"click\",(function(t){return e.showModal(t)}))}))}},{key:\"showModal\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener(\"animationend\",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener(\"animationend\",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:\"closeModal\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener(\"animationend\",(function e(){t.classList.remove(o),t.removeEventListener(\"animationend\",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var t=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(t.style,{overflow:\"\"});break;case\"disable\":Object.assign(t.style,{overflow:\"hidden\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:\"setFocusToFirstNode\",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:\"retainFocus\",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal: Seems like you have missed %c'\".concat(e,\"'\"),\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'.concat(e,'\"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn(\"MicroModal: Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),n=t(document.querySelectorAll(\"[\".concat(o.openTrigger,\"]\"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});\"undefined\"!=typeof window&&(window.MicroModal=l);export default l;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scrollLock\"] = factory();\n\telse\n\t\troot[\"scrollLock\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/tools.js\nvar argumentAsArray = function argumentAsArray(argument) {\n  return Array.isArray(argument) ? argument : [argument];\n};\nvar isElement = function isElement(target) {\n  return target instanceof Node;\n};\nvar isElementList = function isElementList(nodeList) {\n  return nodeList instanceof NodeList;\n};\nvar eachNode = function eachNode(nodeList, callback) {\n  if (nodeList && callback) {\n    nodeList = isElementList(nodeList) ? nodeList : [nodeList];\n\n    for (var i = 0; i < nodeList.length; i++) {\n      if (callback(nodeList[i], i, nodeList.length) === true) {\n        break;\n      }\n    }\n  }\n};\nvar throwError = function throwError(message) {\n  return console.error(\"[scroll-lock] \".concat(message));\n};\nvar arrayAsSelector = function arrayAsSelector(array) {\n  if (Array.isArray(array)) {\n    var selector = array.join(', ');\n    return selector;\n  }\n};\nvar nodeListAsArray = function nodeListAsArray(nodeList) {\n  var nodes = [];\n  eachNode(nodeList, function (node) {\n    return nodes.push(node);\n  });\n  return nodes;\n};\nvar findParentBySelector = function findParentBySelector($el, selector) {\n  var self = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var $root = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : document;\n\n  if (self && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1) {\n    return $el;\n  }\n\n  while (($el = $el.parentElement) && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) === -1) {\n    ;\n  }\n\n  return $el;\n};\nvar elementHasSelector = function elementHasSelector($el, selector) {\n  var $root = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  var has = nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1;\n  return has;\n};\nvar elementHasOverflowHidden = function elementHasOverflowHidden($el) {\n  if ($el) {\n    var computedStyle = getComputedStyle($el);\n    var overflowIsHidden = computedStyle.overflow === 'hidden';\n    return overflowIsHidden;\n  }\n};\nvar elementScrollTopOnStart = function elementScrollTopOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    return scrollTop <= 0;\n  }\n};\nvar elementScrollTopOnEnd = function elementScrollTopOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    var scrollHeight = $el.scrollHeight;\n    var scrollTopWithHeight = scrollTop + $el.offsetHeight;\n    return scrollTopWithHeight >= scrollHeight;\n  }\n};\nvar elementScrollLeftOnStart = function elementScrollLeftOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    return scrollLeft <= 0;\n  }\n};\nvar elementScrollLeftOnEnd = function elementScrollLeftOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    var scrollWidth = $el.scrollWidth;\n    var scrollLeftWithWidth = scrollLeft + $el.offsetWidth;\n    return scrollLeftWithWidth >= scrollWidth;\n  }\n};\nvar elementIsScrollableField = function elementIsScrollableField($el) {\n  var selector = 'textarea, [contenteditable=\"true\"]';\n  return elementHasSelector($el, selector);\n};\nvar elementIsInputRange = function elementIsInputRange($el) {\n  var selector = 'input[type=\"range\"]';\n  return elementHasSelector($el, selector);\n};\n// CONCATENATED MODULE: ./src/scroll-lock.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disablePageScroll\", function() { return disablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enablePageScroll\", function() { return enablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollState\", function() { return getScrollState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearQueueScrollLocks\", function() { return clearQueueScrollLocks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTargetScrollBarWidth\", function() { return scroll_lock_getTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentTargetScrollBarWidth\", function() { return scroll_lock_getCurrentTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPageScrollBarWidth\", function() { return getPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentPageScrollBarWidth\", function() { return getCurrentPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableTarget\", function() { return scroll_lock_addScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableTarget\", function() { return scroll_lock_removeScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableSelector\", function() { return scroll_lock_addScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableSelector\", function() { return scroll_lock_removeScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableTarget\", function() { return scroll_lock_addLockableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableSelector\", function() { return scroll_lock_addLockableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFillGapMethod\", function() { return scroll_lock_setFillGapMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapTarget\", function() { return scroll_lock_addFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapTarget\", function() { return scroll_lock_removeFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapSelector\", function() { return scroll_lock_addFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapSelector\", function() { return scroll_lock_removeFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refillGaps\", function() { return refillGaps; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar FILL_GAP_AVAILABLE_METHODS = ['padding', 'margin', 'width', 'max-width', 'none'];\nvar TOUCH_DIRECTION_DETECT_OFFSET = 3;\nvar state = {\n  scroll: true,\n  queue: 0,\n  scrollableSelectors: ['[data-scroll-lock-scrollable]'],\n  lockableSelectors: ['body', '[data-scroll-lock-lockable]'],\n  fillGapSelectors: ['body', '[data-scroll-lock-fill-gap]', '[data-scroll-lock-lockable]'],\n  fillGapMethod: FILL_GAP_AVAILABLE_METHODS[0],\n  //\n  startTouchY: 0,\n  startTouchX: 0\n};\nvar disablePageScroll = function disablePageScroll(target) {\n  if (state.queue <= 0) {\n    state.scroll = false;\n    scroll_lock_hideLockableOverflow();\n    fillGaps();\n  }\n\n  scroll_lock_addScrollableTarget(target);\n  state.queue++;\n};\nvar enablePageScroll = function enablePageScroll(target) {\n  state.queue > 0 && state.queue--;\n\n  if (state.queue <= 0) {\n    state.scroll = true;\n    scroll_lock_showLockableOverflow();\n    unfillGaps();\n  }\n\n  scroll_lock_removeScrollableTarget(target);\n};\nvar getScrollState = function getScrollState() {\n  return state.scroll;\n};\nvar clearQueueScrollLocks = function clearQueueScrollLocks() {\n  state.queue = 0;\n};\nvar scroll_lock_getTargetScrollBarWidth = function getTargetScrollBarWidth($target) {\n  var onlyExists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var currentOverflowYProperty = $target.style.overflowY;\n\n    if (onlyExists) {\n      if (!getScrollState()) {\n        $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-overflow-y-property');\n      }\n    } else {\n      $target.style.overflowY = 'scroll';\n    }\n\n    var width = scroll_lock_getCurrentTargetScrollBarWidth($target);\n    $target.style.overflowY = currentOverflowYProperty;\n    return width;\n  } else {\n    return 0;\n  }\n};\nvar scroll_lock_getCurrentTargetScrollBarWidth = function getCurrentTargetScrollBarWidth($target) {\n  if (isElement($target)) {\n    if ($target === document.body) {\n      var documentWidth = document.documentElement.clientWidth;\n      var windowWidth = window.innerWidth;\n      var currentWidth = windowWidth - documentWidth;\n      return currentWidth;\n    } else {\n      var borderLeftWidthCurrentProperty = $target.style.borderLeftWidth;\n      var borderRightWidthCurrentProperty = $target.style.borderRightWidth;\n      $target.style.borderLeftWidth = '0px';\n      $target.style.borderRightWidth = '0px';\n\n      var _currentWidth = $target.offsetWidth - $target.clientWidth;\n\n      $target.style.borderLeftWidth = borderLeftWidthCurrentProperty;\n      $target.style.borderRightWidth = borderRightWidthCurrentProperty;\n      return _currentWidth;\n    }\n  } else {\n    return 0;\n  }\n};\nvar getPageScrollBarWidth = function getPageScrollBarWidth() {\n  var onlyExists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return scroll_lock_getTargetScrollBarWidth(document.body, onlyExists);\n};\nvar getCurrentPageScrollBarWidth = function getCurrentPageScrollBarWidth() {\n  return scroll_lock_getCurrentTargetScrollBarWidth(document.body);\n};\nvar scroll_lock_addScrollableTarget = function addScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-scrollable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeScrollableTarget = function removeScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-scrollable');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addScrollableSelector = function addScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors.push(selector);\n    });\n  }\n};\nvar scroll_lock_removeScrollableSelector = function removeScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors = state.scrollableSelectors.filter(function (sSelector) {\n        return sSelector !== selector;\n      });\n    });\n  }\n};\nvar scroll_lock_addLockableTarget = function addLockableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-lockable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n  }\n};\nvar scroll_lock_addLockableSelector = function addLockableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.lockableSelectors.push(selector);\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n\n    scroll_lock_addFillGapSelector(selector);\n  }\n};\nvar scroll_lock_setFillGapMethod = function setFillGapMethod(method) {\n  if (method) {\n    if (FILL_GAP_AVAILABLE_METHODS.indexOf(method) !== -1) {\n      state.fillGapMethod = method;\n      refillGaps();\n    } else {\n      var methods = FILL_GAP_AVAILABLE_METHODS.join(', ');\n      throwError(\"\\\"\".concat(method, \"\\\" method is not available!\\nAvailable fill gap methods: \").concat(methods, \".\"));\n    }\n  }\n};\nvar scroll_lock_addFillGapTarget = function addFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-fill-gap', '');\n\n          if (!state.scroll) {\n            scroll_lock_fillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeFillGapTarget = function removeFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-fill-gap');\n\n          if (!state.scroll) {\n            scroll_lock_unfillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addFillGapSelector = function addFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      if (state.fillGapSelectors.indexOf(selector) === -1) {\n        state.fillGapSelectors.push(selector);\n\n        if (!state.scroll) {\n          scroll_lock_fillGapSelector(selector);\n        }\n      }\n    });\n  }\n};\nvar scroll_lock_removeFillGapSelector = function removeFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.fillGapSelectors = state.fillGapSelectors.filter(function (fSelector) {\n        return fSelector !== selector;\n      });\n\n      if (!state.scroll) {\n        scroll_lock_unfillGapSelector(selector);\n      }\n    });\n  }\n};\nvar refillGaps = function refillGaps() {\n  if (!state.scroll) {\n    fillGaps();\n  }\n};\n\nvar scroll_lock_hideLockableOverflow = function hideLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_hideLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_showLockableOverflow = function showLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_showLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_hideLockableOverflowSelector = function hideLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_hideLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_showLockableOverflowSelector = function showLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_showLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_hideLockableOverflowTarget = function hideLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') !== 'true') {\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-saved-overflow-y-property', computedStyle.overflowY);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-property', $target.style.overflow);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-y-property', $target.style.overflowY);\n    $target.style.overflow = 'hidden';\n    $target.setAttribute('data-scroll-lock-locked', 'true');\n  }\n};\n\nvar scroll_lock_showLockableOverflowTarget = function showLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') === 'true') {\n    $target.style.overflow = $target.getAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-saved-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-locked');\n  }\n};\n\nvar fillGaps = function fillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_fillGapSelector(selector);\n  });\n};\n\nvar unfillGaps = function unfillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_unfillGapSelector(selector);\n  });\n};\n\nvar scroll_lock_fillGapSelector = function fillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  var isLockable = state.lockableSelectors.indexOf(selector) !== -1;\n  eachNode($targets, function ($target) {\n    scroll_lock_fillGapTarget($target, isLockable);\n  });\n};\n\nvar scroll_lock_fillGapTarget = function fillGapTarget($target) {\n  var isLockable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var scrollBarWidth;\n\n    if ($target.getAttribute('data-scroll-lock-lockable') === '' || isLockable) {\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($target, true);\n    } else {\n      var $lockableParent = findParentBySelector($target, arrayAsSelector(state.lockableSelectors));\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($lockableParent, true);\n    }\n\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      scroll_lock_unfillGapTarget($target);\n    }\n\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-filled-gap', 'true');\n    $target.setAttribute('data-scroll-lock-current-fill-gap-method', state.fillGapMethod);\n\n    if (state.fillGapMethod === 'margin') {\n      var currentMargin = parseFloat(computedStyle.marginRight);\n      $target.style.marginRight = \"\".concat(currentMargin + scrollBarWidth, \"px\");\n    } else if (state.fillGapMethod === 'width') {\n      $target.style.width = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'max-width') {\n      $target.style.maxWidth = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'padding') {\n      var currentPadding = parseFloat(computedStyle.paddingRight);\n      $target.style.paddingRight = \"\".concat(currentPadding + scrollBarWidth, \"px\");\n    }\n  }\n};\n\nvar scroll_lock_unfillGapSelector = function unfillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_unfillGapTarget($target);\n  });\n};\n\nvar scroll_lock_unfillGapTarget = function unfillGapTarget($target) {\n  if (isElement($target)) {\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      var currentFillGapMethod = $target.getAttribute('data-scroll-lock-current-fill-gap-method');\n      $target.removeAttribute('data-scroll-lock-filled-gap');\n      $target.removeAttribute('data-scroll-lock-current-fill-gap-method');\n\n      if (currentFillGapMethod === 'margin') {\n        $target.style.marginRight = \"\";\n      } else if (currentFillGapMethod === 'width') {\n        $target.style.width = \"\";\n      } else if (currentFillGapMethod === 'max-width') {\n        $target.style.maxWidth = \"\";\n      } else if (currentFillGapMethod === 'padding') {\n        $target.style.paddingRight = \"\";\n      }\n    }\n  }\n};\n\nvar onResize = function onResize(e) {\n  refillGaps();\n};\n\nvar onTouchStart = function onTouchStart(e) {\n  if (!state.scroll) {\n    state.startTouchY = e.touches[0].clientY;\n    state.startTouchX = e.touches[0].clientX;\n  }\n};\n\nvar scroll_lock_onTouchMove = function onTouchMove(e) {\n  if (!state.scroll) {\n    var startTouchY = state.startTouchY,\n        startTouchX = state.startTouchX;\n    var currentClientY = e.touches[0].clientY;\n    var currentClientX = e.touches[0].clientX;\n\n    if (e.touches.length < 2) {\n      var selector = arrayAsSelector(state.scrollableSelectors);\n      var direction = {\n        up: startTouchY < currentClientY,\n        down: startTouchY > currentClientY,\n        left: startTouchX < currentClientX,\n        right: startTouchX > currentClientX\n      };\n      var directionWithOffset = {\n        up: startTouchY + TOUCH_DIRECTION_DETECT_OFFSET < currentClientY,\n        down: startTouchY - TOUCH_DIRECTION_DETECT_OFFSET > currentClientY,\n        left: startTouchX + TOUCH_DIRECTION_DETECT_OFFSET < currentClientX,\n        right: startTouchX - TOUCH_DIRECTION_DETECT_OFFSET > currentClientX\n      };\n\n      var handle = function handle($el) {\n        var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if ($el) {\n          var parentScrollableEl = findParentBySelector($el, selector, false);\n\n          if (elementIsInputRange($el)) {\n            return false;\n          }\n\n          if (skip || elementIsScrollableField($el) && findParentBySelector($el, selector) || elementHasSelector($el, selector)) {\n            var prevent = false;\n\n            if (elementScrollLeftOnStart($el) && elementScrollLeftOnEnd($el)) {\n              if (direction.up && elementScrollTopOnStart($el) || direction.down && elementScrollTopOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (elementScrollTopOnStart($el) && elementScrollTopOnEnd($el)) {\n              if (direction.left && elementScrollLeftOnStart($el) || direction.right && elementScrollLeftOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (directionWithOffset.up && elementScrollTopOnStart($el) || directionWithOffset.down && elementScrollTopOnEnd($el) || directionWithOffset.left && elementScrollLeftOnStart($el) || directionWithOffset.right && elementScrollLeftOnEnd($el)) {\n              prevent = true;\n            }\n\n            if (prevent) {\n              if (parentScrollableEl) {\n                handle(parentScrollableEl, true);\n              } else {\n                if (e.cancelable) {\n                  e.preventDefault();\n                }\n              }\n            }\n          } else {\n            handle(parentScrollableEl);\n          }\n        } else {\n          if (e.cancelable) {\n            e.preventDefault();\n          }\n        }\n      };\n\n      handle(e.target);\n    }\n  }\n};\n\nvar onTouchEnd = function onTouchEnd(e) {\n  if (!state.scroll) {\n    state.startTouchY = 0;\n    state.startTouchX = 0;\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('resize', onResize);\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('touchstart', onTouchStart);\n  document.addEventListener('touchmove', scroll_lock_onTouchMove, {\n    passive: false\n  });\n  document.addEventListener('touchend', onTouchEnd);\n}\n\nvar deprecatedMethods = {\n  hide: function hide(target) {\n    throwError('\"hide\" is deprecated! Use \"disablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget');\n    disablePageScroll(target);\n  },\n  show: function show(target) {\n    throwError('\"show\" is deprecated! Use \"enablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget');\n    enablePageScroll(target);\n  },\n  toggle: function toggle(target) {\n    throwError('\"toggle\" is deprecated! Do not use it.');\n\n    if (getScrollState()) {\n      disablePageScroll();\n    } else {\n      enablePageScroll(target);\n    }\n  },\n  getState: function getState() {\n    throwError('\"getState\" is deprecated! Use \"getScrollState\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getscrollstate');\n    return getScrollState();\n  },\n  getWidth: function getWidth() {\n    throwError('\"getWidth\" is deprecated! Use \"getPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth');\n    return getPageScrollBarWidth();\n  },\n  getCurrentWidth: function getCurrentWidth() {\n    throwError('\"getCurrentWidth\" is deprecated! Use \"getCurrentPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth');\n    return getCurrentPageScrollBarWidth();\n  },\n  setScrollableTargets: function setScrollableTargets(target) {\n    throwError('\"setScrollableTargets\" is deprecated! Use \"addScrollableTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget');\n    scroll_lock_addScrollableTarget(target);\n  },\n  setFillGapSelectors: function setFillGapSelectors(selector) {\n    throwError('\"setFillGapSelectors\" is deprecated! Use \"addFillGapSelector\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector');\n    scroll_lock_addFillGapSelector(selector);\n  },\n  setFillGapTargets: function setFillGapTargets(target) {\n    throwError('\"setFillGapTargets\" is deprecated! Use \"addFillGapTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget');\n    scroll_lock_addFillGapTarget(target);\n  },\n  clearQueue: function clearQueue() {\n    throwError('\"clearQueue\" is deprecated! Use \"clearQueueScrollLocks\" instead. \\n https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks');\n    clearQueueScrollLocks();\n  }\n};\n\nvar scrollLock = _objectSpread({\n  disablePageScroll: disablePageScroll,\n  enablePageScroll: enablePageScroll,\n  getScrollState: getScrollState,\n  clearQueueScrollLocks: clearQueueScrollLocks,\n  getTargetScrollBarWidth: scroll_lock_getTargetScrollBarWidth,\n  getCurrentTargetScrollBarWidth: scroll_lock_getCurrentTargetScrollBarWidth,\n  getPageScrollBarWidth: getPageScrollBarWidth,\n  getCurrentPageScrollBarWidth: getCurrentPageScrollBarWidth,\n  addScrollableSelector: scroll_lock_addScrollableSelector,\n  removeScrollableSelector: scroll_lock_removeScrollableSelector,\n  addScrollableTarget: scroll_lock_addScrollableTarget,\n  removeScrollableTarget: scroll_lock_removeScrollableTarget,\n  addLockableSelector: scroll_lock_addLockableSelector,\n  addLockableTarget: scroll_lock_addLockableTarget,\n  addFillGapSelector: scroll_lock_addFillGapSelector,\n  removeFillGapSelector: scroll_lock_removeFillGapSelector,\n  addFillGapTarget: scroll_lock_addFillGapTarget,\n  removeFillGapTarget: scroll_lock_removeFillGapTarget,\n  setFillGapMethod: scroll_lock_setFillGapMethod,\n  refillGaps: refillGaps,\n  _state: state\n}, deprecatedMethods);\n\n/* harmony default export */ var scroll_lock = __webpack_exports__[\"default\"] = (scrollLock);\n\n/***/ })\n/******/ ])[\"default\"];\n});","/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  //  Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  //  Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests \n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  //  Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  //  Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n//# sourceMappingURL=tippy.esm.js.map\n"],"sourceRoot":""}