{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./#src/js/components/adaptiveSizes.js","webpack:///./#src/js/components/addField.js","webpack:///./#src/js/components/addFieldGroup.js","webpack:///./#src/js/components/decMoreInfo.js","webpack:///./#src/js/components/dropFiles.js","webpack:///./#src/js/components/mobMenu.js","webpack:///./#src/js/components/modals.js","webpack:///./#src/js/components/searchResults.js","webpack:///./#src/js/components/select.js","webpack:///./#src/js/components/stepChange.js","webpack:///./#src/js/components/tableAdaptive.js","webpack:///./#src/js/components/tableHead.js","webpack:///./#src/js/components/tabsFunc.js","webpack:///./#src/js/components/thirdPart.js","webpack:///./#src/js/components/tooltip.js","webpack:///./#src/js/script.js","webpack:///./node_modules/@popperjs/core/lib/createPopper.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///./node_modules/@popperjs/core/lib/enums.js","webpack:///./node_modules/@popperjs/core/lib/index.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/index.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///./node_modules/@popperjs/core/lib/popper-lite.js","webpack:///./node_modules/@popperjs/core/lib/popper.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///./node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///./node_modules/@popperjs/core/lib/utils/format.js","webpack:///./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///./node_modules/@popperjs/core/lib/utils/math.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///./node_modules/@popperjs/core/lib/utils/uniqueBy.js","webpack:///./node_modules/@popperjs/core/lib/utils/validateModifiers.js","webpack:///./node_modules/@popperjs/core/lib/utils/within.js","webpack:///./node_modules/choices.js/public/assets/scripts/choices.js","webpack:///./node_modules/fine-uploader/fine-uploader/fine-uploader.js","webpack:///./node_modules/fine-uploader/lib/traditional.js","webpack:///./node_modules/micromodal/dist/micromodal.es.js","webpack:///./node_modules/scroll-lock/dist/scroll-lock.js","webpack:///./node_modules/tippy.js/dist/tippy.esm.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","adaptiveSizes","document","querySelector","querySelectorAll","addField","addEmail","addTel","emailInput","createElement","setAttribute","style","cssText","telInput","addEmailBtn","addTelBtn","addEventListener","append","e","addFieldGroup","flGrAadd","delField","forEach","console","log","parentElement","remove","insertAdjacentHTML","decMoreInfo","infoEl","infoBtn","infoClose","classList","add","disablePageScroll","enablePageScroll","dropFiles","ff","length","FineUploader","element","template","request","endpoint","thumbnails","placeholders","validation","allowedExtensions","mobMenu","menu","menuContent","menuBtn","target","contains","modals","MicroModal","init","searchResults","results","result","select","selectEls","Choices","allowHTML","itemSelectText","noResultsText","stepChange","radioBtns","formNames","btn","index","checked","innerHTML","tableAdaptive","tb","tbWrap","tbItem","tbGradR","tbGradL","scrollWidth","clientWidth","opacity","scrollLeft","tableHead","tableHeads","item","tabsFunc","wrapper","parent","tabs","content","tabsWrapper","tabsParent","tabsEl","tabsContent","hideTabs","showTabs","tar","dataset","tab","thirdPart","tooltip","tippy","placement","arrow","INVALID_ELEMENT_ERROR","DEFAULT_OPTIONS","modifiers","strategy","areValidElements","_len","arguments","args","Array","_key","some","getBoundingClientRect","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","options","state","orderedModifiers","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","concat","filter","enabled","_ref","find","_ref2","error","join","_getComputedStyle","marginTop","marginRight","marginBottom","marginLeft","margin","parseFloat","warn","_ref3","_ref3$options","effect","cleanupFn","push","update","forceUpdate","_state$elements","rects","reset","modifier","data","__debug_loops__","_state$orderedModifie","fn","_state$orderedModifie2","_options","Promise","resolve","destroy","then","onFirstUpdate","createPopper","child","rootNode","getRootNode","next","isSameNode","parentNode","host","includeScale","rect","scaleX","scaleY","offsetHeight","offsetWidth","width","height","top","right","bottom","left","x","y","getClientRectFromMixedType","clippingParent","clientTop","clientLeft","clientHeight","getInnerBoundingClientRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","indexOf","position","getClippingParents","firstClippingParent","clippingRect","reduce","accRect","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","documentElement","scroll","scrollTop","offsets","getComputedStyle","getDocumentElement","ownerDocument","window","getDocumentRect","_element$ownerDocumen","html","winScroll","body","scrollHeight","direction","getHTMLElementScroll","getLayoutRect","clientRect","Math","abs","offsetLeft","offsetTop","getNodeName","nodeName","toLowerCase","getNodeScroll","node","getTrueOffsetParent","getOffsetParent","isFirefox","navigator","userAgent","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","getParentNode","assignedSlot","getScrollParent","getViewportRect","win","visualViewport","test","getWindow","toString","defaultView","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBarX","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","isScrollParent","overflow","overflowX","overflowY","isTableElement","listScrollParents","list","scrollParent","isBody","updatedList","auto","basePlacements","start","end","viewport","variationPlacements","acc","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","phase","keys","removeAttribute","initialStyles","attribute","requires","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","len","paddingObject","padding","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","min","max","center","offset","axisProp","centerOffset","_options$element","requiresIfExists","unsetSides","mapToStyles","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","transitionProperty","passive","_options$scroll","_options$resize","resize","removeEventListener","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","set","_loop","_i","fittingPlacement","slice","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","computeAutoPlacement","_options$allowedAutoP","allowedPlacements","overflows","sort","a","b","computeOffsets","commonX","commonY","debounce","pending","undefined","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","expandToHashMap","hashMap","format","str","replace","getAltAxis","getBasePlacement","split","getFreshSideObject","getMainAxisFromPlacement","hash","getOppositePlacement","matched","getOppositeVariationPlacement","getVariation","round","mergeByName","merged","current","existing","map","mergePaddingObject","order","visited","Set","has","dep","depModifier","orderModifiers","rectToClientRect","uniqueBy","arr","identifiers","identifier","INVALID_MODIFIER_ERROR","VALID_PROPERTIES","validateModifiers","self","String","isArray","requirement","mod","within","withinMaxClamp","v","factory","__webpack_modules__","282","__unused_webpack_module","clearChoices","activateChoices","filterChoices","addChoice","constants_1","_a","label","id","groupId","disabled","elementId","customProperties","placeholder","keyCode","type","ACTION_TYPES","ADD_CHOICE","FILTER_CHOICES","active","ACTIVATE_CHOICES","CLEAR_CHOICES","783","addGroup","ADD_GROUP","464","highlightItem","removeItem","addItem","choiceId","ADD_ITEM","REMOVE_ITEM","highlighted","HIGHLIGHT_ITEM","137","setIsLoading","resetTo","clearAll","CLEAR_ALL","RESET_TO","isLoading","SET_IS_LOADING","373","__spreadArray","this","to","from","pack","ar","__importDefault","deepmerge_1","fuse_js_1","choices_1","groups_1","items_1","misc_1","components_1","defaults_1","utils_1","reducers_1","store_1","templates_1","IS_IE11","USER_DEFAULTS","userConfig","_this","config","default","all","DEFAULT_CONFIG","defaults","arrayMerge","_","sourceArray","invalidConfigOptions","diff","passedElement","HTMLInputElement","HTMLSelectElement","TypeError","_isTextElement","TEXT_TYPE","_isSelectOneElement","SELECT_ONE_TYPE","_isSelectMultipleElement","SELECT_MULTIPLE_TYPE","_isSelectElement","searchEnabled","includes","renderSelectedChoices","addItemFilter","re","RegExp","WrappedInput","classNames","delimiter","WrappedSelect","_templates","option","initialised","_store","_initialState","defaultState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","generateId","_direction","dir","elementDirection","_idNames","itemChoice","_presetGroups","optionGroups","_presetOptions","_presetChoices","choices","_presetItems","items","splitValues","selected","hasAttribute","_render","_onFocus","_onBlur","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","isActive","silent","preventExtensions","configurable","_createTemplates","_createElements","_createStructure","subscribe","_addEventListeners","addItems","disable","callbackOnInit","_removeEventListeners","reveal","containerOuter","unwrap","clearStore","enable","isDisabled","input","runEvent","_b","_c","group","getGroupById","dispatch","triggerEvent","EVENTS","groupValue","unhighlightItem","highlightAll","unhighlightAll","removeActiveItemsByValue","activeItems","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","showDropdown","preventInputFocus","dropdown","requestAnimationFrame","show","open","distanceFromTopWindow","focus","hideDropdown","preventInputBlur","hide","close","removeActiveDescendant","blur","getValue","valueOnly","values","selectedItems","itemValue","setValue","_setChoiceOrItem","setChoiceByValue","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","ReferenceError","fetcher_1","_handleLoadingState","catch","err","removeLoadingState","_startLoading","groupOrChoice","_addGroup","parseInt","valueKey","labelKey","choice","_addChoice","isSelected","_stopLoading","clearInput","shouldSetInputWidth","clear","_isSearching","stateChanged","groups","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","activeGroups","activeChoices","choiceListFragment","createDocumentFragment","choiceList","resetScrollPosition","scrollToTop","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","_highlightChoice","notice","_getTemplate","dropdownItem","noChoicesText","itemList","itemListFragment","_createItemsFragment","fragment","shouldSort","sorter","groupChoices","getGroupChoices","dropdownGroup","appendChild","withinGroup","searchResultLimit","renderChoiceLimit","sortByScore","appendChoice","rendererableChoices","placeholderChoices","normalChoices","choiceLimit","sortedChoices","shouldSortItems","removeItemButton","listItem","change","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","removeItems","itemId","itemToRemove","_handleItemAction","hasShiftKey","passedId","_handleChoiceAction","getChoiceById","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","editItems","setWidth","setLoading","placeholderItem","getChild","addLoadingState","loadingText","_handleSearch","isFocussed","searchFloor","searchChoices","hasUnactiveChoices","resultCount","_searchChoices","search","addItemText","isDuplicateValue","existsInArray","maxItemCount","maxItemText","duplicateItemsAllowed","uniqueItemText","customAddItemText","newValue","trim","currentValue","haystack","searchableChoices","needle","fuseOptions","searchFields","includeMatches","form","addEventListeners","removeEventListeners","event","hasFocusedInput","hasItems","hasChildren","keyString","fromCharCode","wasAlphaNumericChar","BACK_KEY","KEY_CODES","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","backKey","deleteKey","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","rawValue","ctrlKey","metaKey","activeElement","enterKey","targetWasButton","preventDefault","highlightedChoice","highlightedState","downKey","pageUpKey","pageDownKey","directionInt","nextEl","currentEl","getAdjacentEl","isScrolledIntoView","scrollToChildElement","touches","containerInner","stopPropagation","firstChoice","firstElementChild","isOnScrollbar","offsetX","closest","shiftKey","removeFocusState","addFocusState","hasHighlightedItems_1","el","passedEl","highlightChoice","setActiveDescendant","_d","_e","_f","_g","passedValue","passedLabel","passedOptionId","prependValue","appendValue","_h","choiceLabel","choiceElementId","isType","getElementsByTagName","floor","Date","valueOf","random","isOptDisabled","apply","callbackOnCreateTemplates","userTemplates","strToEl","Container","Input","preventPaste","paste","List","Dropdown","conceal","wrap","searchPlaceholderValue","insertBefore","firstChild","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","placeholderOption","tagName","hasSelectedChoice","firstEnabledChoiceIndex","findIndex","string","getType","foundChoice","valueComparer","text","placeholderValue","613","isOpen","isFlipped","shouldFlip","dropdownPos","matchMedia","matches","activeDescendantID","openState","flippedState","focusState","disabledState","removeChild","loadingState","217","selector","activeState","520","dropdown_1","container_1","input_1","list_1","wrapped_input_1","wrapped_select_1","11","isEqualNode","_onPaste","_onInput","sanitise","minWidth","624","scrollPos","hasChildNodes","listHeight","listScrollPosition","elementHeight","elementPos","destination","_animateScroll","_scrollDown","strength","easing","_scrollUp","SCROLLING_SPEED","choiceListScrollTop","continueAnimation","730","WrappedElement","hidden","tabIndex","origStyle","getAttribute","eventType","dispatchEvent","541","extendStatics","__extends","setPrototypeOf","__proto__","__","constructor","_super","982","optionData","appendDocFragment","883","789","DEFAULT_CLASSNAMES","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","groupHeading","button","selectedState","noResults","noChoices","sortByAlpha","value1","value2","includeScore","18","978","948","359","285","533","187","__createBinding","k","k2","__exportStar","287","132","837","598","37","369","47","923","876","799","tmpEl","cloneObject","generateChars","getRandomNumber","prefix","obj","nextSibling","startEl","prop","sibling","cleanedInput","firldChild","children","label2","localeCompare","sensitivity","ignorePunctuation","numeric","score","scoreA","customArgs","CustomEvent","detail","bubbles","cancelable","array","JSON","parse","stringify","aKeys","bKeys","273","action","addChoiceAction","addItemAction_1","removeItemAction_1","filterChoicesAction_1","activateChoicesAction_1","871","addGroupAction","655","redux_1","loading_1","loading","appReducer","combineReducers","passedState","52","addItemAction","highlightItemAction_1","502","744","index_1","Store","createStore","__REDUX_DEVTOOLS_EXTENSION__","onChange","getState","selectableChoices","reverse","hasActiveOptions","686","templates","isSelectElement","isSelectOneElement","passedElementType","div","className","isPlaceholder","deletable","removeButton","choiceGroup","selectText","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","innerText","classes","opt","Option","996","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","source","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","mergeObject","propertyIsUnsafe","customMerge","getMergeFunction","sourceIsArray","Error","prev","221","__webpack_exports__","getTag","isString","isNumber","isBoolean","isObject","isObjectLike","isDefined","isBlank","Fuse","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","path","src","createKeyPath","createKeyId","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","Config","isCaseSensitive","sortFn","idx","findAllMatches","minMatchCharLength","location","threshold","useExtendedSearch","getFn","deepGet","baseToString","ignoreLocation","ignoreFieldNorm","fieldNormWeight","SPACE","FuseIndex","norm","mantissa","cache","pow","numTokens","match","isCreated","setIndexRecords","docs","records","_keysMap","doc","docIndex","_addString","_addObject","size","splice","record","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","createIndex","myIndex","setKeys","setSources","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","charAt","isMatch","indices","matchmask","convertMaskToIndices","createPatternAlphabet","char","BitapSearch","chunks","addChunk","startIndex","alphabet","remainder","substr","allIndices","totalScore","hasMatches","BaseMatch","getMatch","multiRegex","singleRegex","exp","FuzzyMatch","super","_bitapSearch","searchIn","IncludeMatch","searchers","startsWith","endsWith","searchersLen","SPACE_RE","MultiMatchSet","ExtendedSearch","query","queryItem","found","searcher","token","isMultiMatch","isSingleMatch","parseQuery","numMatches","qLen","pLen","registeredSearchers","createSearcher","searcherClass","condition","LogicalOperator","KeyType","isExpression","convertToExplicit","isQueryPath","isPath","isLeaf","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","operator","transformMatches","refIndex","transformScore","_keyStore","setCollection","_docs","_myIndex","predicate","removeAt","limit","_searchStringList","_searchObjectList","_searchLogical","Number","EPSILON","computeScore","transformers","transformer","expression","evaluate","_findMatches","getValueForItemAtKeyId","res","resultMap","expResults","version","parseIndex","register","857","_defineProperty","writable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","formatProdErrorMessage","code","ActionTypes","applyMiddleware","bindActionCreators","compose","$$observable","observable","randomString","substring","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","actionCreators","boundActionCreators","funcs","arg","middlewares","store","_dispatch","middlewareAPI","chain","middleware","__webpack_module_cache__","cachedModule","definition","_scripts_choices__WEBPACK_IMPORTED_MODULE_0__","_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default","global","qq","display","attach","attachEvent","detach","detachEvent","descendant","compareDocumentPosition","elementB","filters","extend","hasClass","considerParent","addClass","removeClass","getByClass","first","candidates","each","getFirstByClass","nodeType","setText","textContent","clearText","attrName","attrVal","exec","ExifRestorer","canvasToBlob","canvas","mime","quality","dataUriToBlob","toDataURL","dataUri","arrayBuffer","byteString","intArray","mimeString","BlobBuilder","blobBuilder","atob","decodeURI","ArrayBuffer","Uint8Array","character","charCodeAt","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","Blob","message","level","variable","isFunction","buffer","isItemList","maybeItemList","isNodeList","maybeNodeList","namedItem","maybeString","trimStr","newStr","nextIdxToReplace","strBefore","strAfter","isFile","maybeFile","File","isFileList","maybeFileList","FileList","isFileOrInput","maybeFileOrInput","isInput","maybeInput","notFile","evaluateType","normalizedType","isBlob","maybeBlob","isXhrUploadSupported","multiple","FormData","createXhrInstance","upload","XMLHttpRequest","ActiveXObject","isFolderDropSupported","dataTransfer","webkitGetAsEntry","isFileChunkingSupported","androidStock","webkitSlice","mozSlice","sliceBlob","fileOrBlob","arrayBufferToHex","bytesAsHex","bytes","byt","byteAsHexStr","readBlobToHex","blob","startOffset","initialBlob","fileReader","FileReader","promise","onload","success","onerror","failure","readAsArrayBuffer","second","extendNested","override","sourceFn","super_","srcPropName","srcPropVal","elt","getUniqueId","ie","ie7","ie8","ie10","ie11","edge","safari","vendor","chrome","opera","firefox","windows","platform","android","ios6","ios","ios7","ios8","ios800","iosChrome","iosSafari","iosSafariWebView","returnValue","toElement","iterableItem","callback","keyOrIndex","Storage","getItem","oldFunc","context","newArgs","obj2url","temp","prefixDone","uristrings","nextObj","nextTemp","encodeURIComponent","obj2FormData","formData","arrayKeyName","obj2Inputs","parseJson","json","eval","getExtension","filename","extIdx","lastIndexOf","getFilename","blobOrFileInput","fileName","DisposeSupport","disposers","dispose","disposer","shift","addDisposer","disposeFunction","supportedFeatures","supportsUploading","supportsUploadingBlobs","supportsFileDrop","supportsAjaxFileUploading","supportsFolderDrop","supportsChunking","supportsResume","supportsUploadViaPaste","supportsUploadCors","supportsDeleteFileXdr","supportsDeleteFileCorsXhr","supportsDeleteFileCors","supportsFolderSelection","supportsImagePreviews","supportsUploadProgress","span","isCrossOriginXhrSupported","withCredentials","isXdrSupported","XDomainRequest","tempInput","supported","ex","testSupportsFileInputElement","localStorage","setItem","isLocalStorageSupported","postMessage","webkitdirectory","ajaxUploading","blobUploading","canDetermineSize","chunking","deleteFileCors","deleteFileCorsXdr","deleteFileCorsXhr","dialogElement","HTMLDialogElement","fileDrop","folderDrop","folderSelection","imagePreviews","imageValidation","itemSizeValidation","pause","progressBar","resume","scaling","tiffPreviews","unlimitedScaledImageSize","uploading","uploadCors","uploadCustomHeaders","uploadNonMultipart","uploadViaPaste","isGenericPromise","maybePromise","successArgs","failureArgs","successCallbacks","failureCallbacks","doneCallbacks","onSuccess","onFailure","done","BlobProxy","referenceBlob","onCreate","UploadButton","buttonId","disposeSupport","acceptFiles","focusClass","folders","hoverClass","ios8BrowserCrashWorkaround","title","createInput","BUTTON_ID_ATTR_NAME","setMultiple","fontFamily","fontSize","cursor","getInput","getButtonId","isMultiple","optInput","setAcceptFiles","UploadData","uploaderProxy","byUuid","byStatus","byProxyGroupId","byBatchId","getDataByIds","idOrIds","entries","addFile","spec","status","SUBMITTING","originalName","uuid","file","batchId","proxyGroupId","onBeforeStatusChange","onStatusChange","retrieve","optionalFilter","uuids","getDataByUuids","statusResults","statuses","statusEnum","statusResultIndexes","dataIndex","removeFileRef","setStatus","newStatus","oldStatus","byStatusOldStatusIndex","uuidChanged","newUuid","oldUuid","updateName","newName","updateSize","newSize","setParentId","targetId","parentId","getIdsInProxyGroup","getIdsInBatch","SUBMITTED","REJECTED","QUEUED","CANCELED","PAUSED","UPLOADING","UPLOAD_FINALIZING","UPLOAD_RETRYING","UPLOAD_SUCCESSFUL","UPLOAD_FAILED","DELETE_FAILED","DELETING","DELETED","basePublicApi","addBlobs","blobDataOrArray","params","addFiles","addInitialFiles","cannedFileList","cannedFile","_addCannedFile","_maybeHandleIos8SafariWorkaround","_storedIds","_currentBatchId","processBlob","_handleNewFile","blobs","defaultName","verifiedFiles","processBlobData","blobData","processCanvas","processCanvasData","canvasData","normalizedQuality","processFileOrInput","fileOrInput","files","fileContainer","_prepareItemsForUpload","cancel","uploadData","_uploadData","getName","_handler","cancelAll","storedIdsCopy","storedFileId","clearStoredFiles","continueUpload","_uploadFile","deleteFile","_onSubmitDelete","doesExist","fileOrBlobId","isValid","drawThumbnail","fileId","imgOrCanvas","maxSize","fromServer","customResizeFunction","fileOrUrl","promiseToReturn","_imageGenerator","_thumbnailUrls","scale","getFile","container","generate","modifiedContainer","reason","getButton","_getButton","_buttonIdsForFileIds","getEndpoint","_endpointStore","uploadDataRecord","getInProgress","getParentId","uploadDataEntry","getUploads","getResumableFilesData","getSize","getNetUploads","_netUploaded","getRemainingAllowedItems","allowedItems","_currentItemLimit","_netUploadedOrQueued","getUuid","isResumable","hasResumeRecord","debug","pauseUpload","expunge","_autoRetries","_retryTimeouts","_preventRetries","_buttons","_paramsStore","_pasteHandler","session","refreshOnReset","_refreshSessionData","_succeededSinceLastAllComplete","_failedSinceLastAllComplete","_totalProgress","_customResumeDataStore","retry","_manualRetry","scaleImage","specs","Scaler","setCustomHeaders","headers","_customHeadersStore","setCustomResumeData","setDeleteFileCustomHeaders","_deleteFileCustomHeadersStore","setDeleteFileEndpoint","_deleteFileEndpointStore","setDeleteFileParams","_deleteFileParamsStore","setEndpoint","setForm","elementOrId","_updateFormSupportAndParams","setItemLimit","newItemLimit","setName","setParams","setUuid","_onDeleteComplete","errorMessage","uploadStoredFiles","_itemError","_uploadStoredFiles","basePrivateApi","sessionData","deleteFileEndpoint","deleteFileParams","thumbnailUrl","_annotateWithButtonId","associatedInput","qqButtonId","_getButtonId","_batchError","callbacks","onError","_createDeleteHandler","DeleteFileAjaxRequester","method","toUpperCase","maxConnections","uuidParamName","uuidName","customHeaders","paramsStore","endpointStore","cors","onDelete","_onDelete","onDeleteComplete","xhrOrXdr","isError","_createPasteHandler","PasteSupport","targetElement","pasteReceived","_handleCheckedCallback","onPasteReceived","_handlePasteSuccess","_createStore","initialValue","_readOnlyValues_","catchall","perIdReadOnlyValues","readOnlyValues","copy","orig","includeReadOnlyValues","addReadOnly","_createUploadDataTracker","_onUploadStatusChange","_maybeAllComplete","setTimeout","_createUploadButton","accept","buttonFocus","buttonHover","workarounds","ios8BrowserCrash","iosEmptyVideos","_isAllowedExtension","inputName","_onInputChange","fileInputTitle","_disposeSupport","_createUploadHandler","additionalOptions","namespace","lastOnProgress","preventRetryParam","preventRetryResponseProperty","onProgress","loaded","total","_onProgress","onComplete","xhr","retVal","_onComplete","onCancel","cancelFinalizationEffort","_onCancel","onUploadPrep","_onUploadPrep","onUpload","_onUpload","onUploadResult","onUploadChunk","chunkData","_onUploadChunk","onUploadChunkResult","partIndex","onUploadChunkSuccess","_onUploadChunkSuccess","onResume","customResumeData","onAutoRetry","responseJSON","_onAutoRetry","onUuidChanged","setSize","_setSize","getDataByUuid","isQueued","isInProgress","getCustomResumeData","_getCustomResumeData","UploadHandlerController","_fileOrBlobRejected","_formatSize","sizeSymbols","toFixed","_generateExtraButtonSpecs","_extraButtonSpecs","extraButtons","extraButtonOptionEntry","extraButtonSpec","_initExtraButton","extraButtonsSpec","_defaultButtonId","buttonOrFileInputOrFile","inputs","fileInput","fileBlobOrInput","_getNotFinished","_getValidationBase","_getValidationDescriptor","fileWrapper","_getValidationDescriptors","fileWrappers","fileDescriptors","_handleCameraAccess","camera","optionRoot","details","callbackRetVal","successParam","newFileWrapperList","actualFile","handler","_customNewFileHandler","_handleNewFileGeneric","addFileToHandler","_trackButton","fileList","extSuppliedName","extension","_handleDeleteSuccess","_handleDeleteFailed","_initFormSupportAndParams","_formSupport","FormSupport","attachedToForm","getFormInputsAsObject","autoUpload","newAutoUpload","newEndpoint","_isDeletePossible","expected","allowXdr","allowed","valid","allowedExt","extRegex","maybeNameOrNames","extensionsForMessage","placeholderMatch","messages","names","validationBase","replacement","allowedExtension","formatFileName","sizeLimit","minSizeLimit","_onBeforeManualRetry","notFinished","_onAllComplete","ios8SafariUploads","alert","unsupportedBrowserIos8Safari","_maybeParseAndSendUploadError","errorReason","defaultResponseError","_maybeProcessNextItemAfterOnValidateCallback","validItem","stopOnFirstInvalidFile","validationDescriptor","onValidate","_onValidateCallbackSuccess","_onValidateCallbackFailure","successful","failed","onAllComplete","_shouldAutoRetry","retryWaitPeriod","autoAttemptDelay","_onBeforeAutoRetry","itemLimit","onManualRetry","clearTimeout","storedItemIndex","fileIndex","onIndividualProgress","_onSubmit","_onSubmitCallbackSuccess","_onSubmitted","onSubmitted","_storeForLater","onSuccessCallback","additionalMandatedParams","adjustedOnSuccessCallback","onSubmitDelete","_deleteHandler","sendDelete","_onTotalProgress","onTotalProgress","enableAuto","_onValidateBatchCallbackFailure","_onValidateBatchCallbackSuccess","validationDescriptors","proposedNetFilesUploadedOrQueued","tooManyItemsError","nextIndex","_validateFileOrBlobData","_upload","onValidateBatch","_preventLeaveInProgress","onLeave","Session","_session","addFileRecord","refresh","_sessionRequestComplete","onSessionRequestComplete","onNewSize","maxAutoAttempts","formElementOrId","onSubmit","idToUpload","stillSubmitting","validityChecker","allowEmpty","ImageValidation","validate","image","errorCode","_wrapCallbacks","safeCallback","errorMsg","exception","callbackName","callbackFunc","FineUploaderBasic","disableCancelForFormUploads","warnBeforeUnload","filenameParam","forceMultipart","omitDefaultParams","paramsInBody","requireSuccessJson","totalFileSizeName","maxHeight","maxWidth","minHeight","maybeXhr","maybeXhrOrXdr","attemptNumber","fileOrBlobData","typeError","sizeError","minSizeError","emptyError","noFilesError","maxHeightImageError","maxWidthImageError","minHeightImageError","minWidthImageError","retryFailTooManyItems","concurrent","mandatory","paramNames","partByteOffset","chunkSize","totalFileSize","totalParts","partSize","jsonPayload","resetOnStatus","recordsExpireIn","resuming","customKeys","fileOrBlobName","sendCredentials","interceptSubmit","customResizer","sendOriginal","orient","defaultType","defaultQuality","failureText","includeExif","sizes","ImageGenerator","_scaler","handleNewFile","TotalProgress","entry","AjaxRequester","shouldParamsBeInQueryString","queue","requestData","acceptHeader","validMethods","contentType","mandatedParams","allowXRequestedWithAndCacheControl","successfulResponseCodes","DELETE","PATCH","POST","PUT","GET","onSend","isXdr","getXhrOrXdr","suppliedXhr","ontimeout","onprogress","getCorsAjaxTransport","dequeue","sendRequest","xdrError","responseCode","optXhr","url","onDemandParams","additionalParams","getParams","payload","additionalQueryParams","addToPath","createUrl","getXdrLoadHandler","getXdrErrorHandler","onreadystatechange","readyState","getXhrReadyStateChangeHandler","lengthComputable","registerForUploadProgress","onDemandHeaders","additionalHeaders","allHeaders","setRequestHeader","containsNonSimple","header","setHeaders","send","initTransport","cacheBuster","withPath","appendToPath","withParams","withQueryParams","_additionalQueryParams_","withHeaders","withPayload","thePayload","withCacheBuster","qqtimestamp","getTime","prepareToSend","canceled","UploadHandler","proxy","fileState","fileItem","getThirdPartyFileId","_getFileState","_setThirdPartyFileId","thirdPartyFileId","_wasCanceled","preventRetryResponse","controller","chunkingPossible","concurrentChunkingPossible","chunked","chunkIdx","_getChunkData","attemptingResume","chunkProgress","_getChunkDataForCallback","finalize","finalizeChunks","normaizedResponse","normalizeResponse","_maybeDeletePersistedChunkData","cleanup","normalizedResponse","handleFailure","clearCachedChunk","inProgressIdx","responseToReport","inProgressChunksArray","inProgress","remaining","unshift","ignoreFailure","_getXhrs","ckid","ckXhr","abort","_cancelled","moveInProgressToRemaining","connectionManager","free","hasMoreParts","nextPart","nextIdx","_getTotalChunks","reevaluateChunking","sendNext","inProgressChunks","available","requestOverrides","uploadChunkData","overrides","uploadChunk","inProgressChunkIdx","_maybePersistChunkedState","clearXhr","_open","_openChunks","_waiting","openChunkEntriesCount","openChunksCount","openChunkIndexes","dontAllowNext","nextId","allowNext","waitingIndex","connectionsIndex","getProxyOrBlob","getWaitingOrConnected","waitingOrConnected","isUsingConnection","openChunksEntry","simple","uploadFile","maybeNewUuid","_clearXhrs","getProxy","initHandler","handlerType","traditional","handlerModuleSubtype","onFinalizing","_removeExpiredChunkingRecords","isDeferredEligibleForUpload","maybeDefer","generatedBlob","updateBlob","maybeSendDeferredFiles","errorResponse","idsInGroup","uploadedThisId","idInGroup","now","originalResponse","_shouldChunkThisFile","blobToUpload","cancelRetVal","isProxied","_getLocalStorageId","isAttemptingResume","WindowReceiveMessage","callbackWrapperDetachers","receiveMessage","stopReceivingMessages","detacher","FormUploadHandler","formHandlerInstanceId","onloadCallbacks","detachLoadEvents","postMessageCallbackTimers","isCors","corsMessageReceiver","getFileIdForIframeName","iframeName","iframe","getElementById","_getIframeName","expungeFile","_attachLoadEvent","responseDescriptor","onloadCallback","_parseJsonResponse","_detachLoadEvent","registerPostMessageCallback","contentDocument","_createIframe","initIframeForUpload","_initFormForUpload","targetName","innerHtmlOrMessage","XhrUploadHandler","getChunkSize","chunkFiles","resumeEnabled","xhrId","ajaxRequester","_getAjaxRequester","blobOrProxy","_initTempState","_maybePrepareForResume","cachedChunks","tempState","xhrs","ajaxRequesters","responseParser","lastChunkIdx","_getXhr","resumableFilesData","_iterateResumeRecords","notResumable","optInProgress","optRemaining","chunkingState","paused","totalChunks","parts","newBlob","chunkId","_createXhr","optChunkIdx","_registerXhr","chunkIndex","fileSize","startBytes","endBytes","part","count","startByte","endByte","localStorageId","_getMimeType","_getPersistableData","ceil","_markNotResumable","persistedData","lastUpdated","_registerProgressHandler","progressCalculator","totalSuccessfullyLoadedForFile","loadedForRequest","totalForRequest","estActualChunkLoaded","totalLoadedForFile","chunkLoaded","optAjaxRequester","xhrsId","expirationDays","expirationDate","setDate","getDate","requester","_method","renderImageToCanvas","img","doSquash","modifiedDimensions","iw","naturalWidth","ih","naturalHeight","ctx","getContext","save","resizeInfo","imageHeight","imageWidth","orientation","sourceCanvas","sourceCanvasContext","targetCanvas","targetHeight","targetWidth","transformCoordinate","drawImage","qqImageRendered","renderImageToCanvasWithCustomResizer","origHeight","origWidth","newHeight","sqrt","newWidth","maybeCalculateDownsampledDimensions","getImageData","detectSubsampling","tmpCtx","sx","dx","tmpCanvas","vertSquashRatio","ratio","sy","ey","py","detectVerticalSquash","dw","dh","dy","clearRect","restore","translate","rotate","PI","MegaPixImage","srcImage","errorCallback","Image","URL","createObjectURL","webkitURL","imageLoadListeners","render","oldTargetSrc","imgWidth","imgHeight","optionsKey","optionsValue","renderImageToDataURL","onrender","isImg","isCanvas","determineMimeOfFileName","nameWithPath","pathSegments","isCrossOrigin","targetProtocol","targetHostname","targetPort","targetAnchor","href","protocol","port","hostname","registerThumbnailRenderedListener","registered","registerImgLoadListeners","registerCanvasDrawImageListener","drawOnCanvasOrImgFromUrl","canvasOrImg","draw","tempImg","tempImgRender","crossOrigin","drawOnImgFromUrlWithCssScaling","drawFromUrl","fileBlobOrUrl","drawPreview","Identify","megapixErrorHandler","isPreviewable","dummyExif","exif","Exif","mpImg","Orientation","failureMsg","_testing","TAG_IDS","TAG_INFO","274","parseLittleEndian","hex","getApp1Offset","seekToApp1","theOffset","thePromise","segmentLength","parser","onParseFailure","app1Offset","app1Start","littleEndian","getDirEntryCount","dirEntryCount","dirEntries","getIfd","ifdHex","getDirEntries","tagValues","tagsToFind","vals","tagValHex","tagValLength","idHex","tagsToFindIdx","getTagValues","previewable","isPreviewableSync","PREVIEWABLE_MIME_TYPES","questionableBytes","identifiable","magicBytesEntries","magicBytesArrayEntry","fileMime","isRecognizedImage","limits","sizeDetermination","validationEffort","atLeastOne","hasNonZeroLimits","dimensions","failingLimit","limitName","limitValue","limitMatcher","dimensionPropName","actualValue","getFailingLimit","handleFileItems","fileItems","someItemsIgnored","isJsonResponseValid","refreshEffort","requesterOptions","SessionAjaxRequester","queryServer","responseText","includeOriginal","failedToScaleText","_getSortedSizes","getFileRecords","originalFileUuid","originalFileName","originalBlobOrBlobData","originalBlob","sizeRecord","outputType","_determineOutputType","requestedType","refType","_getName","_generateScaledImage","failedText","api","param","scaledIds","originalId","blobSize","scaledId","qqparentuuid","qqparentsize","scalingEffort","scalingOptions","scaler","referenceType","scaledVersionProperties","startOfExt","versionType","scaledName","scaledExt","nameAppendage","sourceFile","imageGenerator","scaledImageDataUri","signalSuccess","_insertExifHeader","scaledImageDataUriWithExif","originalImage","reader","insertionEffort","originalImageDataUri","readAsDataURL","_dataUriToBlob","_createBlob","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","isNaN","KEY_STR","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","perFileProgress","totalLoaded","totalSize","lastLoadedSent","lastTotalSent","callbackProxy","onNew","updateTotalProgress","newLoaded","newTotal","oldLoaded","oldTotal","retryable","none","failedId","noRetryableFiles","detachPasteHandler","clipboardData","isImage","getAsFile","startUpload","formEl","validateForm","nativeSubmit","checkValidity","_form2Obj","determineNewEndpoint","submit","maybeUploadOnSubmit","determineFormEl","ignoreValue","selectValue","createForm","responseFromMessage","innerHtml","contentWindow","nodeValue","getIframeContentJson","multipart","allChunksDoneRequester","AllChunksDoneAjaxRequester","createReadyStateChangedHandler","onUploadOrChunkComplete","isErrorUploadResponse","parseResponse","sendChunksCompleteRequest","complete","getChunksCompleteParams","setParamsAndGetEntityToSend","entityToSendParams","xhrOverrides","customParams","defaultParams","xhrOverrideParams","setUploadHeaders","headersOptions","headerOverrides","headerName","headerValue","extraHeaders","uploadChunkParams","toSend","addChunkingSpecificParams","promises","endpointHandler","DragAndDrop","dropZones","maybeHideDropZones","uploadDropZones","droppedFiles","traverseFileTree","parseEntryPromise","qqPath","extractDirectoryPath","fileError","dropLog","fullPath","isDirectory","getFilesInDirectory","accumEntries","existingPromise","dirReader","createReader","readEntries","newEntries","entriesLeft","indexOfNameInFullPath","setupDropzone","dropArea","dropZone","UploadDropZone","HIDE_ZONES_EVENT_NAME","onEnter","dropActive","onLeaveNotDescendants","onDrop","uploadDropZone","pendingFolderPromises","handleDataTransferPromise","processingDroppedFiles","dropDisabled","allowMultipleItems","processingDroppedFilesComplete","dropError","filesAsArray","getElement","uploadDroppedFiles","isFileDrag","dragEvent","fileDrag","types","dropZoneElements","leavingDocumentOut","setupExtraDropzone","removeDropzone","dzs","targetEl","errorSpecifics","preventDrop","dropOutsideDisabled","dragoverShouldBeCanceled","isValidFileDrag","effectTest","dt","isSafari","effectAllowed","isOrSetDropDisabled","dropEffect","relatedTarget","elementFromPoint","clientX","clientY","hideZonesEvent","triggerUsingOldApi","createEvent","initEvent","triggerHidezonesEvent","uiPublicApi","_parent","_templating","addCacheToDom","clearFiles","addExtraDropzone","_dnd","removeExtraDropzone","getItemByFileId","isHiddenForever","getFileContainer","_setupDragAndDrop","_totalFilesInBatch","_filesInBatchAddedToUi","_setupClickAndEditEventHandlers","formattedFilename","updateFilename","uploadPaused","continued","uploadContinued","getId","fileContainerOrChildEl","getFileId","getDropTarget","qqDropTarget","uiPrivateApi","_removeFileItem","removeFile","_fileButtonsClickHandler","FileButtonsClickHandler","_bindFileButtonsClickEvent","_focusinEventSupported","_isEditFilenameEnabled","_filenameClickHandler","_bindFilenameClickEvent","_filenameInputFocusInHandler","_bindFilenameInputFocusInEvent","_filenameInputFocusHandler","_bindFilenameInputFocusEvent","dragAndDrop","extraDropzones","templating","defaultDropZone","getDropZone","showDropProcessing","hideDropProcessing","errorData","lvl","onDeleteFile","onRetry","onPause","onContinue","onGetName","isEditFilenamePossible","FilenameClickHandler","FilenameInputFocusHandler","_filenameEditHandler","onGetUploadStatus","onSetName","onEditingStatusChange","isEditing","qqInput","getEditInput","qqFileContainer","hideFilename","hideEditIcon","showFilename","showEditIcon","markFilenameEditable","hideRetry","setStatusText","_classes","retrying","hidePause","FilenameInputFocusInHandler","hideSpinner","resetTotalProgress","reportDirectoryPaths","qqpath","_addToList","addHandler","updateProgress","hideCancel","hideProgress","waitingForResponse","_displayFileSize","parentRetVal","completeUpload","_markFileAsSuccessful","fail","showCancel","isRetryPossible","showRetry","_controlFailureTextDisplay","newResult","showDeleteButton","_maybeUpdateThumbnail","showSpinner","allowPause","retryNumForDisplay","maxAuto","retryNote","_showCancelLink","showAutoRetryNote","autoRetryNote","resetProgress","_onSubmitDeleteSuccess","forceConfirm","_showDeleteConfirm","_sendDeleteRequest","deletingFailedText","hideDeleteButton","deletingStatusText","confirmMessage","deleteRequestArgs","showConfirm","canned","prependData","prependIndex","dontDisplay","hideScaled","prependFiles","disableCancel","_handledProxyGroup","_clearList","addFileToCache","updateThumbnail","generatePreview","fileSizeOnSubmit","loadedSize","sizeForDisplay","_formatProgress","uploadedSize","formatProgress","responseProperty","failureReason","failedUploadTextDisplay","failUpload","enableTooltip","_showTooltip","showMessage","_setupPastePrompt","namePromptMessage","defaultVal","showPrompt","waitUntilResponse","listElement","editable","tooManyFilesError","unsupportedBrowser","promptForName","maxCount","notAvailablePath","waitingPath","timeBetweenThumbs","hasDialog","showDialog","confirm","defaultValue","prompt","Templating","templateIdOrEl","containerEl","fileContainerEl","maxThumbs","waitUntilUpdate","thumbnailNotAvailable","waitingForThumbnail","renderFailure","isEditElementsExist","isRetryElementExist","templateDom","showThumbnails","serverScale","fileBatch","isCancelDisabled","generatedThumbnails","thumbnailQueueMonitorRunning","thumbGenerationQueue","thumbnailMaxSize","selectorClasses","alertDialog","dialogCancelButton","confirmDialog","dialogMessage","dialogOkButton","promptDialog","uploader","drop","progressBarContainer","totalProgressBarContainer","totalProgressBar","spinner","continueButton","deleteButton","statusText","editFilenameInput","editNameIcon","dropText","dropProcessing","dropProcessingSpinner","thumbnail","previewGeneration","cachedThumbnailNotAvailableImg","cachedWaitingForThumbnailImg","displayWaitingImg","waitingImgPlacement","maybeScalePlaceholderViaCss","generateNextQueuedPreview","queuedThumbRequest","processUpdateQueuedPreviewRequest","processNewQueuedPreviewRequest","getCancel","getTemplateEl","getContinue","getDialog","getDelete","getDropProcessing","getEditIcon","getPause","getProgress","getRetry","getSpinner","cssClass","getThumbnail","maybeSetDisplayNotAvailableImg","previewing","notAvailableImgPlacement","optFileOrBlob","relatedThumbnailId","qqThumbnailId","useCachedPreview","generateNewPreview","showWaitingImg","setProgressBarWidth","percent","bar","progressBarSelector","targetThumbnailId","cachedThumbnailId","targetThumbnail","cachedThumbnail","scriptEl","scriptHtml","fileListNode","tempTemplateEl","fileListEl","defaultButton","dropTextEl","uploaderEl","cloneNode","fileTemplate","parseAndGetTemplate","notAvailableUrl","waitingUrl","updatedImg","cacheThumbnailPlaceholders","hideTotalProgress","cantRenderEl","prependInfo","hideForever","batch","thumb","fileEl","fileNameEl","parentEl","beforeEl","prependFile","waitingImg","getFileList","filenameEl","isFileName","icon","isEditIcon","isEditInput","isCancel","allowContinueButton","isPause","isContinueButton","isDeleteButton","isRetry","textEl","dialog","messageEl","inputEl","cancelBtn","okBtn","closeHandler","cancelClickHandler","okClickHandler","showModal","UiEventHandler","protectedApi","attachTo","onHandled","srcElement","getFileIdFromItem","qqFileId","getDisposeSupport","buttonHandlers","buttonType","firstLetterCapButtonType","inheritedInternalApi","handleFilenameEdit","FilenameEditHandler","handleNameUpdate","newFilenameInputEl","origExtension","origName","getOriginalExtension","focusInput","filenameSansExt","registerInputBlurHandler","which","registerInputEnterKeyHandler","iterator","targetModal","triggers","onShow","onClose","openTrigger","u","f","closeTrigger","h","openClass","g","disableScroll","disableFocus","w","awaitCloseAnimation","E","awaitOpenAnimation","M","A","debugMode","C","modal","registerTriggers","onClick","onKeydown","Boolean","scrollBehaviour","setFocusToFirstNode","closeModal","retainFocus","getFocusableNodes","closeModalById","argumentAsArray","argument","Node","eachNode","nodeList","NodeList","isElementList","throwError","arrayAsSelector","nodeListAsArray","nodes","findParentBySelector","$el","$root","elementHasSelector","elementHasOverflowHidden","elementScrollTopOnStart","elementScrollTopOnEnd","elementScrollLeftOnStart","elementScrollLeftOnEnd","elementIsScrollableField","elementIsInputRange","getScrollState","clearQueueScrollLocks","scroll_lock_getTargetScrollBarWidth","scroll_lock_getCurrentTargetScrollBarWidth","getPageScrollBarWidth","getCurrentPageScrollBarWidth","scroll_lock_addScrollableTarget","scroll_lock_removeScrollableTarget","scroll_lock_addScrollableSelector","scroll_lock_removeScrollableSelector","scroll_lock_addLockableTarget","scroll_lock_addLockableSelector","scroll_lock_setFillGapMethod","scroll_lock_addFillGapTarget","scroll_lock_removeFillGapTarget","scroll_lock_addFillGapSelector","scroll_lock_removeFillGapSelector","refillGaps","FILL_GAP_AVAILABLE_METHODS","scrollableSelectors","lockableSelectors","fillGapSelectors","fillGapMethod","startTouchY","startTouchX","scroll_lock_hideLockableOverflow","fillGaps","scroll_lock_showLockableOverflow","unfillGaps","$target","onlyExists","currentOverflowYProperty","documentWidth","innerWidth","borderLeftWidthCurrentProperty","borderLeftWidth","borderRightWidthCurrentProperty","borderRightWidth","_currentWidth","$targets","sSelector","methods","scroll_lock_fillGapTarget","scroll_lock_unfillGapTarget","scroll_lock_fillGapSelector","fSelector","scroll_lock_unfillGapSelector","scroll_lock_hideLockableOverflowSelector","scroll_lock_showLockableOverflowSelector","scroll_lock_hideLockableOverflowTarget","scroll_lock_showLockableOverflowTarget","computedStyle","isLockable","scrollBarWidth","$lockableParent","currentMargin","currentPadding","paddingRight","currentFillGapMethod","currentClientY","currentClientX","up","down","directionWithOffset","handle","skip","parentScrollableEl","prevent","deprecatedMethods","toggle","getWidth","getCurrentWidth","setScrollableTargets","setFillGapSelectors","setFillGapTargets","clearQueue","scrollLock","_objectSpread","getTargetScrollBarWidth","getCurrentTargetScrollBarWidth","addScrollableSelector","removeScrollableSelector","addScrollableTarget","removeScrollableTarget","addLockableSelector","addLockableTarget","addFillGapSelector","removeFillGapSelector","addFillGapTarget","removeFillGapTarget","setFillGapMethod","_state","ROUND_ARROW","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","invokeWithArgsOrReturn","ms","timeout","removeProperties","normalizeToArray","pushIfUnique","arrayFrom","removeUndefinedProps","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","setTransitionDuration","els","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","updateTransitionEndListener","box","actualContains","_target$getRootNode","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","onWindowBlur","isVisible","visitedMessages","isIE11","msCrypto","createMemoryLeakWarning","clean","getDevMessage","getFormattedMessage","warnWhen","_console","errorWhen","_console2","pluginProps","animateFill","followCursor","inlinePositioning","sticky","defaultProps","appendTo","aria","expanded","delay","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveBorder","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onDestroy","onHidden","onHide","onMount","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","showOnCreate","touch","trigger","triggerTarget","animation","inertia","role","theme","zIndex","defaultKeys","getExtendedPassedProps","passedProps","plugin","_name","evaluateProps","props","out","valueAsString","getDataAttributeProps","validateProps","partialProps","nonPluginProps","didPassUnknownProp","dangerouslySetInnerHTML","createArrowElement","setContent","getChildren","boxChildren","backdrop","onUpdate","prevProps","nextProps","_getChildren","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentTransitionEndListener","currentTarget","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","debouncedOnMouseMove","onMouseMove","popperInstance","isEnabled","isMounted","isShown","clearDelayTimeouts","cancelAnimationFrame","setProps","invokeHook","removeListeners","addListeners","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","handleStyles","createPopperInstance","getNestedPopperTree","nestedPopper","isAlreadyVisible","isTouchAndTouchDisabled","getCurrentTarget","getIsDefaultRenderFn","visibility","addDocumentPress","transition","_getDefaultTemplateCh2","getDefaultTemplateChildren","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","handleAriaContentAttribute","onTransitionEnd","onTransitionedIn","nextElementSibling","mount","isAlreadyHidden","removeDocumentPress","_getDefaultTemplateCh4","onTransitionedOut","unmount","hideWithInteractivity","getDocument","destroyPopperInstance","_props$render","pluginsHooks","hasAriaExpanded","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","_instance$props$rende","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","nextValue","onDocumentPress","actualTarget","composedPath","onTouchMove","onTouchStart","on","onMouseLeave","onBlurOrFocusOut","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","popperTreeData","popperState","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","_instance$popperInsta","_instance$props2","computedReference","_getNormalizedTouchSe","touchValue","touchDelay","targets","optionalProps","didPassFalsyValue","didPassPlainObject","validateTargets","isSingleContentElement","isMoreThanOneReferenceElement","instances","setDefaultProps","hideAll","_temp","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","createSingleton","tippyInstances","_optionalProps$popper","individualInstances","references","triggerTargets","interceptSetPropsCleanups","shownOnCreate","setTriggerTargets","setReferences","enableInstances","interceptSetProps","singleton","originalSetProps","prepareInstance","overrideProps","_references$index","originalShow","ref","showNext","showPrevious","last","setInstances","nextInstances","BUBBLING_EVENTS_MAP","mouseover","focusin","click","delegate","childTippyInstances","nativeProps","parentProps","childProps","targetNode","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","createBackdropElement","transitionDelay","mouseCoords","activeInstances","storeMouseCoords","isInternalUpdate","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","isCursorOverReference","relativeX","relativeY","addMouseCoordsListener","removeMouseCoordsListener","cursorRectIndex","triedPlacements","currentBasePlacement","boundingRect","clientRects","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","_top","_bottom","getInlineBoundingClientRect","getClientRects","_getReferenceClientRect","addModifier","_props$popperOptions","getProps","cursorRect","shouldCheck","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","rectA","rectB"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./#src/js/script.js\");\n","export function adaptiveSizes() {\r\n    const mainW = document.querySelector('.main-w');\r\n    const headerMenu = document.querySelector('.header__menu');\r\n    const aside = document.querySelector('.aside');\r\n    const modal = document.querySelectorAll('.modal__content');\r\n\r\n    const sizes = {\r\n        desktop: 1250,\r\n        tablet: 768,\r\n        mobile: 320\r\n    };\r\n    \r\n\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n    //media\r\n\r\n    \r\n}","export function addField() {\r\n\r\n    const addEmail = document.querySelector('.addEmail');\r\n    const addTel = document.querySelector('.addTel');\r\n\r\n    const emailInput = document.createElement('input');\r\n    emailInput.setAttribute('type', 'text');\r\n    emailInput.setAttribute('placeholder', 'Укажите E-mail');\r\n    emailInput.style.cssText = 'margin-top: 10px';\r\n\r\n\r\n    const telInput = document.createElement('input');\r\n    telInput.setAttribute('type', 'text');\r\n    telInput.setAttribute('placeholder', 'Укажите номер телефона');\r\n    telInput.style.cssText = 'margin-top: 10px';\r\n\r\n\r\n    const addEmailBtn = document.querySelector('#addEmail');\r\n    const addTelBtn = document.querySelector('#addTel');\r\n\r\n    let counter = 0;\r\n\r\n    if(addEmailBtn) {\r\n        addEmailBtn.addEventListener('click', () => {\r\n            addEmail.append(emailInput);\r\n        });\r\n    }\r\n    \r\n\r\n    if(addTelBtn) {\r\n        addTelBtn.addEventListener('click', (e) => {\r\n            addTel.append(telInput);\r\n        });\r\n    }\r\n}","export function addFieldGroup() {\r\n    const flGrAadd = document.querySelector('#fsd');\r\n    \r\n    const flGr = `\r\n    <div class=\"partner-edit__form_wr\">\r\n    <div class=\"partner-edit__form_wr_del\" id=\"formGroupDel\">\r\n                                Удалить\r\n                            </div>\r\n    <div class=\"partner-edit__form_item w-100 input\">\r\n        <div class=\"form__name\">\r\n            Контактное лицо\r\n        </div>\r\n        <input type=\"text\" placeholder=\"Иванов Иван Иванович\">\r\n    </div>\r\n\r\n    <div class=\"partner-edit__form_item input\">\r\n        <div class=\"form__name\">\r\n            E-mail\r\n        </div>\r\n        <input type=\"email\" placeholder=\"ivanov@mail.ru\">\r\n    </div>\r\n\r\n    <div class=\"partner-edit__form_item input\">\r\n        <div class=\"form__name\">\r\n            Телефон\r\n        </div>\r\n        <input type=\"tel\" placeholder=\"+79990000000\">\r\n    </div>\r\n</div>\r\n    `\r\n\r\n    function delField() {\r\n        let delBtn = document.querySelectorAll('#formGroupDel');\r\n\r\n        delBtn.forEach(i => {\r\n            console.log(i.parentElement);\r\n            i.addEventListener('click', () => {\r\n                i.parentElement.remove();\r\n            });\r\n        });\r\n    }\r\n\r\n    delField();\r\n\r\n    if(flGrAadd) {\r\n        flGrAadd.addEventListener('click', () => {\r\n            flGrAadd.insertAdjacentHTML('beforebegin', flGr);\r\n            delField();\r\n            \r\n        });\r\n    }\r\n\r\n    // delBtn.forEach(i => {\r\n    //     console.log(i.parentElement);\r\n    //     i.addEventListener('click', () => {\r\n    //         i.parentElement.remove();\r\n    //     });\r\n    // });\r\n\r\n    \r\n\r\n\r\n}","import { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\n\r\nexport function decMoreInfo() {\r\n    const infoEl = document.querySelector('.dec-new__form_info');\r\n    const infoBtn = document.querySelector('.dec-new__form_more');\r\n    const infoClose = document.querySelector('.dec-new__form_info_close');\r\n\r\n\r\n    if(infoBtn) {\r\n\r\n        infoBtn.addEventListener('click', () => {\r\n            infoEl.classList.add('active');\r\n            disablePageScroll(infoEl);\r\n        });\r\n\r\n        infoClose.addEventListener('click', () => {\r\n            infoEl.classList.remove('active');\r\n            enablePageScroll(infoEl);\r\n\r\n        });\r\n\r\n    }\r\n}","import { FineUploader } from \"fine-uploader\";\r\n\r\nexport function dropFiles() {\r\n    \r\n    const ff = document.querySelectorAll(\"#fine-uploader-gallery\");\r\n    if(ff.length >= 0) {\r\n        ff.forEach(i => {\r\n            var galleryUploader = new FineUploader({\r\n                element: i,\r\n                template: 'qq-template-gallery',\r\n                request: {\r\n                    endpoint: '/server/uploads'\r\n                },\r\n                thumbnails: {\r\n                    placeholders: {\r\n                        // waitingPath: '/source/placeholders/waiting-generic.png',\r\n                        // notAvailablePath: '/source/placeholders/not_available-generic.png'\r\n                    }\r\n                },\r\n                validation: {\r\n                    allowedExtensions: ['pdf', 'doc', 'txt']\r\n                }\r\n            });\r\n        })\r\n    }\r\n    \r\n}","import { disablePageScroll, enablePageScroll } from \"scroll-lock\";\r\n\r\nexport function mobMenu() {\r\n\r\n    const menu = document.querySelector('.aside');\r\n    const menuContent = document.querySelector('.aside__mob');\r\n    const menuBtn = document.querySelector('.header__menu_burger');\r\n\r\n\r\n    if(menu && menuBtn) {\r\n\r\n        menuBtn.addEventListener('click', () => {\r\n            menu.classList.add('active');\r\n            disablePageScroll(menuContent);\r\n        });\r\n\r\n        menu.addEventListener('click', (e) => {\r\n            if(e.target && e.target.classList.contains('aside')) {\r\n                menu.classList.remove('active');\r\n                enablePageScroll(menuContent);\r\n            }\r\n        })\r\n    }\r\n}","import MicroModal from 'micromodal';\r\n\r\nexport function modals() {\r\n    MicroModal.init();\r\n} ","export function searchResults() {\r\n    const results = document.querySelectorAll('.partner-add__result_item');\r\n    if(results.length > 0) {\r\n        results.forEach(result => {\r\n            result.addEventListener('click', (e) => {\r\n                results.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n    \r\n                result.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n    \r\n}","import Choices from 'choices.js';\r\n\r\nexport function select() {\r\n\r\n    const selectEls = document.querySelectorAll('.choices');\r\n\r\n    if(selectEls) {\r\n        selectEls.forEach(select => {\r\n            const choiceWithSearch = new Choices(select, {\r\n                allowHTML: true,\r\n                itemSelectText: '',\r\n                noResultsText: 'Нет результатов',\r\n                \r\n            });\r\n        });\r\n    }\r\n}","export function stepChange() {\r\n    const radioBtns = document.querySelectorAll('.legacyType');\r\n    const formNames = document.querySelectorAll('.legacyName');\r\n    radioBtns.forEach((btn, index) => {\r\n        btn.addEventListener('click', (e) => {\r\n            if(index == 0) {\r\n                if(btn.checked) {\r\n\r\n                    formNames.forEach((i, index) =>  {\r\n                        if(index == 0) {\r\n                            i.innerHTML = 'ИНН';\r\n                        }\r\n\r\n                        if(index == 1) {\r\n                            i.innerHTML = 'КПП';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if(index == 1) {\r\n                if(btn.checked) {\r\n\r\n                    formNames.forEach((i, index) =>  {\r\n                        if(index == 0) {\r\n                            i.innerHTML = 'Серия паспорта';\r\n                        }\r\n\r\n                        if(index == 1) {\r\n                            i.innerHTML = 'Номер паспорта';\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        \r\n    });\r\n}","export function tableAdaptive() {\r\n    const tb = document.querySelectorAll('.tbr');\r\n\r\n    if(tb.length > 0) {\r\n\r\n        tb.forEach(i => {\r\n            const tbWrap = i.querySelector('.table-wr');\r\n            const tbItem = i.querySelector('.table');\r\n            const tbGradR = i.querySelector('.grad-r');\r\n            const tbGradL = i.querySelector('.grad-l');\r\n            const fake = i.querySelector('.fake-scroll');\r\n            \r\n            if(tbItem.scrollWidth == i.clientWidth) {\r\n                tbGradR.style.opacity = '0';\r\n                tbGradL.style.opacity = '0';\r\n            }\r\n\r\n            if(tbItem.scrollWidth > i.clientWidth) {\r\n                tbGradR.style.opacity = '1';\r\n                if(tbWrap.scrollLeft > 0) {\r\n                    tbGradL.style.opacity = '1';\r\n                }\r\n                \r\n            }\r\n\r\n            tbWrap.addEventListener('scroll', () => {\r\n                \r\n            })\r\n\r\n\r\n            tbWrap.addEventListener('scroll', (e) => {\r\n                if(tbItem.scrollWidth > i.clientWidth) {\r\n                    tbGradR.style.opacity = '1';\r\n                }\r\n                if(tbItem.scrollWidth == i.clientWidth) {\r\n                    tbGradR.style.opacity = '0';\r\n                }    \r\n\r\n                if(tbWrap.scrollLeft == 0) {\r\n                    tbGradL.style.opacity = '0';\r\n                }\r\n\r\n                if(tbWrap.scrollLeft > 0 && tbWrap.scrollLeft < tbItem.scrollWidth + 15 - tbWrap.clientWidth ) {\r\n                    tbGradL.style.opacity = '1';\r\n                    tbGradR.style.opacity = '1';\r\n                }\r\n        \r\n                if(tbWrap.scrollLeft >= tbItem.scrollWidth + 15 - tbWrap.clientWidth) {\r\n                    tbGradR.style.opacity = '0';\r\n                    \r\n                }\r\n            })\r\n        })\r\n        \r\n    }\r\n    \r\n\r\n    \r\n}","export function tableHead() {\r\n    const tableHeads = document.querySelectorAll('.table__headrow_item');\r\n\r\n    if(tableHeads.length > 0) {\r\n        tableHeads.forEach(item => {\r\n            item.addEventListener('click', (e) => {\r\n                tableHeads.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n\r\n                item.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n}","export function tabsFunc(wrapper, parent, tabs, content) {\r\n    let tabsWrapper = document.querySelectorAll(wrapper);\r\n    \r\n    if(tabsWrapper.length > 0) {\r\n        tabsWrapper.forEach(item => {\r\n\r\n            let tabsParent = item.querySelector(parent);\r\n            let tabsEl = item.querySelectorAll(tabs);\r\n            let tabsContent = item.querySelectorAll(content); \r\n    \r\n            function hideTabs() {\r\n                tabsEl.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n        \r\n                tabsContent.forEach(i => {\r\n                    i.classList.remove('active');\r\n                });\r\n            }\r\n        \r\n        \r\n            function showTabs(index = 0) {\r\n                tabsEl[index].classList.add('active');\r\n                tabsContent[index].classList.add('active');\r\n            }\r\n        \r\n        \r\n            if(tabsContent && tabsEl.length > 0) {\r\n                hideTabs();\r\n                showTabs();\r\n        \r\n                tabsParent.addEventListener('click', (e) => {\r\n                    let tar = e.target;\r\n        \r\n                    if(tar && tar.dataset.tab == 'true') {\r\n                        tabsEl.forEach((item, index) => {\r\n                            if(tar == item) {\r\n                                hideTabs();\r\n                                showTabs(index);\r\n                            }\r\n                        });\r\n                        \r\n                    }\r\n                });\r\n            }\r\n    \r\n        });\r\n    }\r\n    \r\n    \r\n\r\n    \r\n}","export function thirdPart() {\r\n\r\n    // const hiddenBlock = document.querySelector('.third__part');\r\n    // const toggleRadioBtns = document.querySelectorAll('.hiddenBlockToggler');\r\n\r\n    // toggleRadioBtns.forEach((btn, index) => {\r\n    //     btn.addEventListener('click', (e) => {\r\n    //         if(index == 2) {\r\n    //             hiddenBlock.style.display = 'block';\r\n    //         }\r\n\r\n    //         if(index == 3) {\r\n\r\n    //         }\r\n\r\n    //         if(index == 1) {\r\n\r\n    //         }\r\n\r\n    //         if(index == 0) {\r\n\r\n    //         }\r\n    //     });\r\n    // });\r\n\r\n}","import tippy from 'tippy.js';\r\n\r\n\r\nexport function tooltip() {\r\n\r\n    const wr = document.querySelector('.dec-new__form_body_part_checklist');\r\n\r\n    if(wr) {\r\n        tippy('#tt1', {\r\n            content: document.querySelector('#tt1').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n    \r\n        \r\n        tippy('#tt2', {\r\n            content: document.querySelector('#tt2').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt3', {\r\n            content: document.querySelector('#tt3').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt4', {\r\n            content: document.querySelector('#tt4').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt5', {\r\n            content: document.querySelector('#tt5').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt6', {\r\n            content: document.querySelector('#tt6').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt7', {\r\n            content: document.querySelector('#tt7').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt8', {\r\n            content: document.querySelector('#tt8').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n        tippy('#tt9', {\r\n            content: document.querySelector('#tt9').dataset.content,\r\n            placement: 'right',\r\n            arrow: true,\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n}","import { select } from './components/select';\r\nimport { adaptiveSizes } from './components/adaptiveSizes';\r\nimport { searchResults } from './components/searchResults';\r\nimport { dropFiles } from './components/dropFiles';\r\nimport { modals } from './components/modals';\r\nimport { tableHead } from './components/tableHead';\r\nimport { tabsFunc } from './components/tabsFunc';\r\nimport { thirdPart } from './components/thirdPart';\r\nimport { stepChange } from './components/stepChange';\r\nimport { addField } from './components/addField';\r\nimport { addFieldGroup } from './components/addFieldGroup';\r\nimport { decMoreInfo } from './components/decMoreInfo';\r\nimport { mobMenu } from './components/mobMenu';\r\nimport { tooltip } from './components/tooltip';\r\nimport { tableAdaptive } from './components/tableAdaptive';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    modals();\r\n    select();\r\n    adaptiveSizes();\r\n    searchResults();\r\n    dropFiles();\r\n    tableHead();\r\n    tabsFunc('.tab-main-wrapper', '.dec-new__content_top', '.dec-new__content_top_item', '.dec-new__content_tab');\r\n    tabsFunc('.tab-wrapper', '.radio-tabs', '.radio-tabs__item', '.radio-content__item');\r\n    thirdPart();\r\n    stepChange();\r\n    addField();\r\n    addFieldGroup();\r\n    decMoreInfo();\r\n    mobMenu();\r\n    tooltip();\r\n\r\n    tabsFunc('.cp__content', '.cp__content_head_tabs', '.cp__content_head_tab', '.cp__content_body_item');\r\n    tableAdaptive();\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n    \r\n});\r\n\r\n\r\n\r\n\r\n\r\n","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import { isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nexport default function getBoundingClientRect(element, includeScale) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  var rect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (isHTMLElement(element) && includeScale) {\n    var offsetHeight = element.offsetHeight;\n    var offsetWidth = element.offsetWidth; // Do not attempt to divide by 0, otherwise we get `Infinity` as scale\n    // Fallback to 1 in case both values are `0`\n\n    if (offsetWidth > 0) {\n      scaleX = round(rect.width) / offsetWidth || 1;\n    }\n\n    if (offsetHeight > 0) {\n      scaleY = round(rect.height) / offsetHeight || 1;\n    }\n  }\n\n  return {\n    width: rect.width / scaleX,\n    height: rect.height / scaleY,\n    top: rect.top / scaleY,\n    right: rect.right / scaleX,\n    bottom: rect.bottom / scaleY,\n    left: rect.left / scaleX,\n    x: rect.left / scaleX,\n    y: rect.top / scaleY\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}","import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)`\n    .filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    }).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (modifier.effect != null && typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (modifier.requires != null && !Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","/*! choices.js v10.0.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 282:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addChoice = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      groupId = _a.groupId,\n      disabled = _a.disabled,\n      elementId = _a.elementId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addChoice = addChoice;\n\nvar filterChoices = function (results) {\n  return {\n    type: constants_1.ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n\nexports.filterChoices = filterChoices;\n\nvar activateChoices = function (active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: constants_1.ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n\nexports.activateChoices = activateChoices;\n\nvar clearChoices = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n\nexports.clearChoices = clearChoices;\n\n/***/ }),\n\n/***/ 783:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addGroup = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addGroup = function (_a) {\n  var value = _a.value,\n      id = _a.id,\n      active = _a.active,\n      disabled = _a.disabled;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n\nexports.addGroup = addGroup;\n\n/***/ }),\n\n/***/ 464:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.highlightItem = exports.removeItem = exports.addItem = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addItem = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      choiceId = _a.choiceId,\n      groupId = _a.groupId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addItem = addItem;\n\nvar removeItem = function (id, choiceId) {\n  return {\n    type: constants_1.ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n\nexports.removeItem = removeItem;\n\nvar highlightItem = function (id, highlighted) {\n  return {\n    type: constants_1.ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n\nexports.highlightItem = highlightItem;\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setIsLoading = exports.resetTo = exports.clearAll = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar clearAll = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_ALL\n  };\n};\n\nexports.clearAll = clearAll;\n\nvar resetTo = function (state) {\n  return {\n    type: constants_1.ACTION_TYPES.RESET_TO,\n    state: state\n  };\n};\n\nexports.resetTo = resetTo;\n\nvar setIsLoading = function (isLoading) {\n  return {\n    type: constants_1.ACTION_TYPES.SET_IS_LOADING,\n    isLoading: isLoading\n  };\n};\n\nexports.setIsLoading = setIsLoading;\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar deepmerge_1 = __importDefault(__webpack_require__(996));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar fuse_js_1 = __importDefault(__webpack_require__(221));\n\nvar choices_1 = __webpack_require__(282);\n\nvar groups_1 = __webpack_require__(783);\n\nvar items_1 = __webpack_require__(464);\n\nvar misc_1 = __webpack_require__(137);\n\nvar components_1 = __webpack_require__(520);\n\nvar constants_1 = __webpack_require__(883);\n\nvar defaults_1 = __webpack_require__(789);\n\nvar utils_1 = __webpack_require__(799);\n\nvar reducers_1 = __webpack_require__(655);\n\nvar store_1 = __importDefault(__webpack_require__(744));\n\nvar templates_1 = __importDefault(__webpack_require__(686));\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar Choices =\n/** @class */\nfunction () {\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    if (userConfig.allowHTML === undefined) {\n      console.warn('Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message.');\n    }\n\n    this.config = deepmerge_1.default.all([defaults_1.DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function (_, sourceArray) {\n        return __spreadArray([], sourceArray, true);\n      }\n    });\n    var invalidConfigOptions = (0, utils_1.diff)(this.config, defaults_1.DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === constants_1.TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === constants_1.SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === constants_1.SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(\"\".concat(this.config.renderSelectedChoices))) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new components_1.WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new components_1.WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function (data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_1.default();\n    this._initialState = reducers_1.defaultState;\n    this._currentState = reducers_1.defaultState;\n    this._prevState = reducers_1.defaultState;\n    this._currentValue = '';\n    this._canSearch = !!this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = (0, utils_1.generateId)(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var elementDirection = window.getComputedStyle(this.passedElement.element).direction;\n      var documentDirection = window.getComputedStyle(document.documentElement).direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    };\n\n    if (this._isSelectElement) {\n      // Assign preset groups from passed element\n      this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n      this._presetOptions = this.passedElement.options;\n    } // Assign preset choices from passed object\n\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value && this._isTextElement) {\n      var splitValues = this.passedElement.value.split(this.config.delimiter);\n      this._presetItems = this._presetItems.concat(splitValues);\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (option) {\n        _this._presetChoices.push({\n          value: option.value,\n          label: option.innerHTML,\n          selected: !!option.selected,\n          disabled: option.disabled || option.parentNode.disabled,\n          placeholder: option.value === '' || option.hasAttribute('placeholder'),\n          customProperties: option.dataset['custom-properties']\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onSelectKey = this._onSelectKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised', {\n          element: element\n        });\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  Object.defineProperty(Choices, \"defaults\", {\n    get: function () {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return templates_1.default;\n        }\n\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Choices.prototype.init = function () {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure();\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  Choices.prototype.destroy = function () {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = templates_1.default;\n    this.initialised = false;\n  };\n\n  Choices.prototype.enable = function () {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.disable = function () {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.highlightItem = function (item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightItem = function (item) {\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, false));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  Choices.prototype.highlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItemsByValue = function (value) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItems = function (excludedId) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (_a) {\n      var id = _a.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeHighlightedItems = function (runEvent) {\n    var _this = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  Choices.prototype.showDropdown = function (preventInputFocus) {\n    var _this = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.show();\n\n      _this.containerOuter.open(_this.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this._canSearch) {\n        _this.input.focus();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.hideDropdown = function (preventInputBlur) {\n    var _this = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.hide();\n\n      _this.containerOuter.close();\n\n      if (!preventInputBlur && _this._canSearch) {\n        _this.input.removeActiveDescendant();\n\n        _this.input.blur();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.getValue = function (valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  };\n\n  Choices.prototype.setValue = function (items) {\n    var _this = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  Choices.prototype.setChoiceByValue = function (value) {\n    var _this = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  };\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n\n\n  Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher_1 = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line no-promise-executor-return\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this._handleLoadingState(true);\n        }).then(function () {\n          return fetcher_1;\n        }).then(function (data) {\n          return _this.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this._handleLoadingState(false);\n        }).then(function () {\n          return _this;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher_1)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher_1, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this._addGroup({\n          id: groupOrChoice.id ? parseInt(\"\".concat(groupOrChoice.id), 10) : null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        var choice = groupOrChoice;\n\n        _this._addChoice({\n          value: choice[value],\n          label: choice[label],\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: choice.customProperties\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  Choices.prototype.clearChoices = function () {\n    this._store.dispatch((0, choices_1.clearChoices)());\n\n    return this;\n  };\n\n  Choices.prototype.clearStore = function () {\n    this._store.dispatch((0, misc_1.clearAll)());\n\n    return this;\n  };\n\n  Choices.prototype.clearInput = function () {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n\n    return this;\n  };\n\n  Choices.prototype._render = function () {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  Choices.prototype._renderChoices = function () {\n    var _this = this;\n\n    var _a = this._store,\n        activeGroups = _a.activeGroups,\n        activeChoices = _a.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        var notice = this._getTemplate('notice', canAddItem.notice);\n\n        this.choiceList.append(notice);\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem = void 0;\n      var notice = void 0;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  Choices.prototype._renderItems = function () {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  Choices.prototype._createGroupsFragment = function (groups, choices, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function (group) {\n      return choices.filter(function (choice) {\n        if (_this._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  Choices.prototype._createChoicesFragment = function (choices, fragment, withinGroup) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    } // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n\n\n    var _a = this.config,\n        renderSelectedChoices = _a.renderSelectedChoices,\n        searchResultLimit = _a.searchResultLimit,\n        renderChoiceLimit = _a.renderChoiceLimit;\n    var filter = this._isSearching ? utils_1.sortByScore : this.config.sorter;\n\n    var appendChoice = function (choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this._getTemplate('choice', choice, _this.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _b = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _b.placeholderChoices,\n        normalChoices = _b.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? __spreadArray(__spreadArray([], placeholderChoices, true), normalChoices, true) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  Choices.prototype._createItemsFragment = function (items, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    } // Create fragment to add elements to\n\n\n    var _a = this.config,\n        shouldSortItems = _a.shouldSortItems,\n        sorter = _a.sorter,\n        removeItemButton = _a.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items.map(function (_a) {\n        var value = _a.value;\n        return value;\n      }).join(this.config.delimiter);\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function (item) {\n      // Create new list element\n      var listItem = _this._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  Choices.prototype._triggerChange = function (value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.change, {\n      value: value\n    });\n  };\n\n  Choices.prototype._selectPlaceholderChoice = function (placeholderChoice) {\n    this._addItem({\n      value: placeholderChoice.value,\n      label: placeholderChoice.label,\n      choiceId: placeholderChoice.id,\n      groupId: placeholderChoice.groupId,\n      placeholder: placeholderChoice.placeholder\n    });\n\n    this._triggerChange(placeholderChoice.value);\n  };\n\n  Choices.prototype._handleButtonAction = function (activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode && element.parentNode.dataset.id;\n    var itemToRemove = itemId && activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    });\n\n    if (!itemToRemove) {\n      return;\n    } // Remove item associated with button\n\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement && this._store.placeholderChoice) {\n      this._selectPlaceholderChoice(this._store.placeholderChoice);\n    }\n  };\n\n  Choices.prototype._handleItemAction = function (activeItems, element, hasShiftKey) {\n    var _this = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.dataset.id; // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(\"\".concat(passedId), 10) && !item.highlighted) {\n        _this.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  Choices.prototype._handleChoiceAction = function (activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = id && this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : undefined;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(constants_1.EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._handleBackspace = function (activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  Choices.prototype._startLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(true));\n  };\n\n  Choices.prototype._stopLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(false));\n  };\n\n  Choices.prototype._handleLoadingState = function (setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\".concat(this.config.classNames.placeholder));\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n\n          if (placeholderItem) {\n            this.itemList.append(placeholderItem);\n          }\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (placeholderItem) {\n          placeholderItem.innerHTML = this._placeholderValue || '';\n        }\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  Choices.prototype._handleSearch = function (value) {\n    if (!this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _a = this.config,\n        searchFloor = _a.searchFloor,\n        searchChoices = _a.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value !== null && typeof value !== 'undefined' && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(constants_1.EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n  };\n\n  Choices.prototype._canAddItem = function (activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = (0, utils_1.existsInArray)(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  Choices.prototype._searchChoices = function (value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === \"\".concat(currentValue, \" \")) {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: __spreadArray([], this.config.searchFields, true),\n      includeMatches: true\n    });\n    var fuse = new fuse_js_1.default(haystack, options);\n    var results = fuse.search(needle); // see https://github.com/krisk/Fuse/issues/303\n\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch((0, choices_1.filterChoices)(results));\n\n    return results.length;\n  };\n\n  Choices.prototype._addEventListeners = function () {\n    var documentElement = document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  Choices.prototype._removeEventListeners = function () {\n    var documentElement = document.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  };\n\n  Choices.prototype._onKeyDown = function (event) {\n    var keyCode = event.keyCode;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var wasAlphaNumericChar = /[a-zA-Z0-9-_ ]/.test(keyString);\n    var BACK_KEY = constants_1.KEY_CODES.BACK_KEY,\n        DELETE_KEY = constants_1.KEY_CODES.DELETE_KEY,\n        ENTER_KEY = constants_1.KEY_CODES.ENTER_KEY,\n        A_KEY = constants_1.KEY_CODES.A_KEY,\n        ESC_KEY = constants_1.KEY_CODES.ESC_KEY,\n        UP_KEY = constants_1.KEY_CODES.UP_KEY,\n        DOWN_KEY = constants_1.KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = constants_1.KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = constants_1.KEY_CODES.PAGE_DOWN_KEY;\n\n    if (!this._isTextElement && !hasActiveDropdown && wasAlphaNumericChar) {\n      this.showDropdown();\n\n      if (!this.input.isFocussed) {\n        /*\n          We update the input value with the pressed key as\n          the input was not focussed at the time of key press\n          therefore does not have the value of the key.\n        */\n        this.input.value += keyString.toLowerCase();\n      }\n    }\n\n    switch (keyCode) {\n      case A_KEY:\n        return this._onSelectKey(event, hasItems);\n\n      case ENTER_KEY:\n        return this._onEnterKey(event, activeItems, hasActiveDropdown);\n\n      case ESC_KEY:\n        return this._onEscapeKey(hasActiveDropdown);\n\n      case UP_KEY:\n      case PAGE_UP_KEY:\n      case DOWN_KEY:\n      case PAGE_DOWN_KEY:\n        return this._onDirectionKey(event, hasActiveDropdown);\n\n      case DELETE_KEY:\n      case BACK_KEY:\n        return this._onDeleteKey(event, activeItems, hasFocusedInput);\n\n      default:\n    }\n  };\n\n  Choices.prototype._onKeyUp = function (_a) {\n    var target = _a.target,\n        keyCode = _a.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = constants_1.KEY_CODES.BACK_KEY,\n        deleteKey = constants_1.KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var wasRemovalKeyCode = keyCode === backKey || keyCode === deleteKey;\n      var userHasRemovedValue = wasRemovalKeyCode && target && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch((0, choices_1.activateChoices)(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.rawValue);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  Choices.prototype._onSelectKey = function (event, hasItems) {\n    var ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If CTRL + A or CMD + A have been pressed and there are items to select\n\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  Choices.prototype._onEnterKey = function (event, activeItems, hasActiveDropdown) {\n    var target = event.target;\n    var enterKey = constants_1.KEY_CODES.ENTER_KEY;\n    var targetWasButton = target && target.hasAttribute('data-button');\n\n    if (this._isTextElement && target && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\".concat(this.config.classNames.highlightedState));\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onEscapeKey = function (hasActiveDropdown) {\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n    var keyCode = event.keyCode,\n        metaKey = event.metaKey;\n    var downKey = constants_1.KEY_CODES.DOWN_KEY,\n        pageUpKey = constants_1.KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = constants_1.KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl = void 0;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\".concat(this.config.classNames.highlightedState));\n\n        if (currentEl) {\n          nextEl = (0, utils_1.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!(0, utils_1.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onDeleteKey = function (event, activeItems, hasFocusedInput) {\n    var target = event.target; // If backspace or delete key is pressed and the input has no value\n\n    if (!this._isSelectOneElement && !target.value && hasFocusedInput) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onTouchMove = function () {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  Choices.prototype._onTouchEnd = function (event) {\n    var target = (event || event.touches[0]).target;\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  };\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   */\n\n\n  Choices.prototype._onMouseDown = function (event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice = this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  };\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n\n\n  Choices.prototype._onMouseOver = function (_a) {\n    var target = _a.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  Choices.prototype._onClick = function (_a) {\n    var target = _a.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  Choices.prototype._onFocus = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var focusWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.containerOuter.addFocusState();\n      }\n    }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n      _this.containerOuter.addFocusState();\n\n      if (target === _this.input.element) {\n        _this.showDropdown(true);\n      }\n    }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this.containerOuter.addFocusState();\n      }\n    }, _b);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  Choices.prototype._onBlur = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var blurWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems_1 = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n        _this.containerOuter.removeFocusState();\n\n        if (target === _this.input.element || target === _this.containerOuter.element && !_this._canSearch) {\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          _this.hideDropdown(true);\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n        }\n      }, _b);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  Choices.prototype._onFormReset = function () {\n    this._store.dispatch((0, misc_1.resetTo)(this._initialState));\n  };\n\n  Choices.prototype._highlightChoice = function (el) {\n    var _this = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\".concat(this.config.classNames.highlightedState))); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  Choices.prototype._addItem = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.choiceId,\n        choiceId = _c === void 0 ? -1 : _c,\n        _d = _a.groupId,\n        groupId = _d === void 0 ? -1 : _d,\n        _e = _a.customProperties,\n        customProperties = _e === void 0 ? {} : _e,\n        _f = _a.placeholder,\n        placeholder = _f === void 0 ? false : _f,\n        _g = _a.keyCode,\n        keyCode = _g === void 0 ? -1 : _g;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch((0, items_1.addItem)({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null,\n      keyCode: keyCode\n    });\n  };\n\n  Choices.prototype._removeItem = function (item) {\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        customProperties = item.customProperties,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId && groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    if (!id || !choiceId) {\n      return;\n    }\n\n    this._store.dispatch((0, items_1.removeItem)(id, choiceId));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.removeItem, {\n      id: id,\n      value: value,\n      label: label,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null\n    });\n  };\n\n  Choices.prototype._addChoice = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.isSelected,\n        isSelected = _c === void 0 ? false : _c,\n        _d = _a.isDisabled,\n        isDisabled = _d === void 0 ? false : _d,\n        _e = _a.groupId,\n        groupId = _e === void 0 ? -1 : _e,\n        _f = _a.customProperties,\n        customProperties = _f === void 0 ? {} : _f,\n        _g = _a.placeholder,\n        placeholder = _g === void 0 ? false : _g,\n        _h = _a.keyCode,\n        keyCode = _h === void 0 ? -1 : _h;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choiceId);\n\n    this._store.dispatch((0, choices_1.addChoice)({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  Choices.prototype._addGroup = function (_a) {\n    var _this = this;\n\n    var group = _a.group,\n        id = _a.id,\n        _b = _a.valueKey,\n        valueKey = _b === void 0 ? 'value' : _b,\n        _c = _a.labelKey,\n        labelKey = _c === void 0 ? 'label' : _c;\n    var groupChoices = (0, utils_1.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function (choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this._addChoice({\n          value: choice[valueKey],\n          label: (0, utils_1.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  Choices.prototype._getTemplate = function (template) {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return (_a = this._templates[template]).call.apply(_a, __spreadArray([this, this.config], args, false));\n  };\n\n  Choices.prototype._createTemplates = function () {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, utils_1.strToEl);\n    }\n\n    this._templates = (0, deepmerge_1.default)(templates_1.default, userTemplates);\n  };\n\n  Choices.prototype._createElements = function () {\n    this.containerOuter = new components_1.Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new components_1.Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new components_1.Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new components_1.List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new components_1.List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new components_1.Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  Choices.prototype._createStructure = function () {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  Choices.prototype._addPredefinedGroups = function (groups) {\n    var _this = this; // If we have a placeholder option\n\n\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  Choices.prototype._addPredefinedChoices = function (choices) {\n    var _this = this; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var _a = choice.value,\n          value = _a === void 0 ? '' : _a,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this._addChoice({\n            value: value,\n            label: label,\n            isSelected: !!isSelected,\n            isDisabled: !!isDisabled,\n            placeholder: !!placeholder,\n            customProperties: customProperties\n          });\n        }\n      } else {\n        _this._addChoice({\n          value: value,\n          label: label,\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: customProperties\n        });\n      }\n    });\n  };\n\n  Choices.prototype._addPredefinedItems = function (items) {\n    var _this = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  Choices.prototype._setChoiceOrItem = function (item) {\n    var _this = this;\n\n    var itemType = (0, utils_1.getType)(item).toLowerCase();\n    var handleType = {\n      object: function () {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function () {\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  Choices.prototype._findAndSelectChoiceByValue = function (value) {\n    var _this = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this.config.valueComparer(choice.value, value);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  Choices.prototype._generatePlaceholderValue = function () {\n    if (this._isSelectElement && this.passedElement.placeholderOption) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : null;\n    }\n\n    var _a = this.config,\n        placeholder = _a.placeholder,\n        placeholderValue = _a.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return null;\n  };\n\n  return Choices;\n}();\n\nexports[\"default\"] = Choices;\n\n/***/ }),\n\n/***/ 613:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Container =\n/** @class */\nfunction () {\n  function Container(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        position = _a.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Container.prototype.addEventListeners = function () {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  Container.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   */\n\n\n  Container.prototype.shouldFlip = function (dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  };\n\n  Container.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Container.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Container.prototype.open = function (dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  Container.prototype.close = function () {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  Container.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Container.prototype.addFocusState = function () {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  Container.prototype.removeFocusState = function () {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  Container.prototype.enable = function () {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  Container.prototype.disable = function () {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  };\n\n  Container.prototype.wrap = function (element) {\n    (0, utils_1.wrap)(element, this.element);\n  };\n\n  Container.prototype.unwrap = function (element) {\n    if (this.element.parentNode) {\n      // Move passed element outside this element\n      this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n      this.element.parentNode.removeChild(this.element);\n    }\n  };\n\n  Container.prototype.addLoadingState = function () {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  Container.prototype.removeLoadingState = function () {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  Container.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Container.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\nexports[\"default\"] = Container;\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar Dropdown =\n/** @class */\nfunction () {\n  function Dropdown(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n\n  Object.defineProperty(Dropdown.prototype, \"distanceFromTopWindow\", {\n    /**\n     * Bottom position of dropdown in viewport coordinates\n     */\n    get: function () {\n      return this.element.getBoundingClientRect().bottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Dropdown.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n  /**\n   * Show dropdown to user by adding active state class\n   */\n\n\n  Dropdown.prototype.show = function () {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  };\n  /**\n   * Hide dropdown from user\n   */\n\n\n  Dropdown.prototype.hide = function () {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  return Dropdown;\n}();\n\nexports[\"default\"] = Dropdown;\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WrappedSelect = exports.WrappedInput = exports.List = exports.Input = exports.Container = exports.Dropdown = void 0;\n\nvar dropdown_1 = __importDefault(__webpack_require__(217));\n\nexports.Dropdown = dropdown_1.default;\n\nvar container_1 = __importDefault(__webpack_require__(613));\n\nexports.Container = container_1.default;\n\nvar input_1 = __importDefault(__webpack_require__(11));\n\nexports.Input = input_1.default;\n\nvar list_1 = __importDefault(__webpack_require__(624));\n\nexports.List = list_1.default;\n\nvar wrapped_input_1 = __importDefault(__webpack_require__(541));\n\nexports.WrappedInput = wrapped_input_1.default;\n\nvar wrapped_select_1 = __importDefault(__webpack_require__(982));\n\nexports.WrappedSelect = wrapped_select_1.default;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Input =\n/** @class */\nfunction () {\n  function Input(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        preventPaste = _a.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element.isEqualNode(document.activeElement);\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Object.defineProperty(Input.prototype, \"placeholder\", {\n    set: function (placeholder) {\n      this.element.placeholder = placeholder;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"value\", {\n    get: function () {\n      return (0, utils_1.sanitise)(this.element.value);\n    },\n    set: function (value) {\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"rawValue\", {\n    get: function () {\n      return this.element.value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Input.prototype.addEventListeners = function () {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  Input.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('input', this._onInput);\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n\n  Input.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  Input.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  Input.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Input.prototype.blur = function () {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  };\n\n  Input.prototype.clear = function (setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  };\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n\n\n  Input.prototype.setWidth = function () {\n    // Resize input to contents or placeholder\n    var _a = this.element,\n        style = _a.style,\n        value = _a.value,\n        placeholder = _a.placeholder;\n    style.minWidth = \"\".concat(placeholder.length + 1, \"ch\");\n    style.width = \"\".concat(value.length + 1, \"ch\");\n  };\n\n  Input.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Input.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Input.prototype._onInput = function () {\n    if (this.type !== constants_1.SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  };\n\n  Input.prototype._onPaste = function (event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  Input.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Input.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Input;\n}();\n\nexports[\"default\"] = Input;\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar constants_1 = __webpack_require__(883);\n\nvar List =\n/** @class */\nfunction () {\n  function List(_a) {\n    var element = _a.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  List.prototype.clear = function () {\n    this.element.innerHTML = '';\n  };\n\n  List.prototype.append = function (node) {\n    this.element.appendChild(node);\n  };\n\n  List.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n\n  List.prototype.hasChildren = function () {\n    return this.element.hasChildNodes();\n  };\n\n  List.prototype.scrollToTop = function () {\n    this.element.scrollTop = 0;\n  };\n\n  List.prototype.scrollToChildElement = function (element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  };\n\n  List.prototype._scrollDown = function (scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  };\n\n  List.prototype._scrollUp = function (scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  };\n\n  List.prototype._animateScroll = function (destination, direction) {\n    var _this = this;\n\n    var strength = constants_1.SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\nexports[\"default\"] = List;\n\n/***/ }),\n\n/***/ 730:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar WrappedElement =\n/** @class */\nfunction () {\n  function WrappedElement(_a) {\n    var element = _a.element,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n    get: function () {\n      return this.element.dataset.choice === 'active';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"dir\", {\n    get: function () {\n      return this.element.dir;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedElement.prototype.conceal = function () {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  WrappedElement.prototype.reveal = function () {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  WrappedElement.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  WrappedElement.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  WrappedElement.prototype.triggerEvent = function (eventType, data) {\n    (0, utils_1.dispatchEvent)(this.element, eventType, data);\n  };\n\n  return WrappedElement;\n}();\n\nexports[\"default\"] = WrappedElement;\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedInput =\n/** @class */\nfunction (_super) {\n  __extends(WrappedInput, _super);\n\n  function WrappedInput(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        delimiter = _a.delimiter;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.delimiter = delimiter;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedInput.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      this.element.setAttribute('value', value);\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return WrappedInput;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedInput;\n\n/***/ }),\n\n/***/ 982:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedSelect =\n/** @class */\nfunction (_super) {\n  __extends(WrappedSelect, _super);\n\n  function WrappedSelect(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        template = _a.template;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.template = template;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n    get: function () {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"optionGroups\", {\n    get: function () {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"options\", {\n    get: function () {\n      return Array.from(this.element.options);\n    },\n    set: function (options) {\n      var _this = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function (data) {\n        // Create a standard select option\n        var option = _this.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedSelect.prototype.appendDocFragment = function (fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  return WrappedSelect;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedSelect;\n\n/***/ }),\n\n/***/ 883:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SCROLLING_SPEED = exports.SELECT_MULTIPLE_TYPE = exports.SELECT_ONE_TYPE = exports.TEXT_TYPE = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = void 0;\nexports.EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice',\n  unhighlightItem: 'unhighlightItem'\n};\nexports.ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL',\n  RESET_TO: 'RESET_TO',\n  SET_IS_LOADING: 'SET_IS_LOADING'\n};\nexports.KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nexports.TEXT_TYPE = 'text';\nexports.SELECT_ONE_TYPE = 'select-one';\nexports.SELECT_MULTIPLE_TYPE = 'select-multiple';\nexports.SCROLLING_SPEED = 4;\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;\n\nvar utils_1 = __webpack_require__(799);\n\nexports.DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\nexports.DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  allowHTML: true,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: utils_1.sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function (value) {\n    return \"Press Enter to add <b>\\\"\".concat((0, utils_1.sanitise)(value), \"\\\"</b>\");\n  },\n  maxItemText: function (maxItemCount) {\n    return \"Only \".concat(maxItemCount, \" values can be added\");\n  },\n  valueComparer: function (value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: exports.DEFAULT_CLASSNAMES\n};\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 978:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 948:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n__exportStar(__webpack_require__(18), exports);\n\n__exportStar(__webpack_require__(978), exports);\n\n__exportStar(__webpack_require__(948), exports);\n\n__exportStar(__webpack_require__(359), exports);\n\n__exportStar(__webpack_require__(285), exports);\n\n__exportStar(__webpack_require__(533), exports);\n\n__exportStar(__webpack_require__(287), exports);\n\n__exportStar(__webpack_require__(132), exports);\n\n__exportStar(__webpack_require__(837), exports);\n\n__exportStar(__webpack_require__(598), exports);\n\n__exportStar(__webpack_require__(369), exports);\n\n__exportStar(__webpack_require__(37), exports);\n\n__exportStar(__webpack_require__(47), exports);\n\n__exportStar(__webpack_require__(923), exports);\n\n__exportStar(__webpack_require__(876), exports);\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 369:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 923:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.diff = exports.cloneObject = exports.existsInArray = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.wrap = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;\n\nvar getRandomNumber = function (min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexports.getRandomNumber = getRandomNumber;\n\nvar generateChars = function (length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return (0, exports.getRandomNumber)(0, 36).toString(36);\n  }).join('');\n};\n\nexports.generateChars = generateChars;\n\nvar generateId = function (element, prefix) {\n  var id = element.id || element.name && \"\".concat(element.name, \"-\").concat((0, exports.generateChars)(2)) || (0, exports.generateChars)(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = \"\".concat(prefix, \"-\").concat(id);\n  return id;\n};\n\nexports.generateId = generateId;\n\nvar getType = function (obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n\nexports.getType = getType;\n\nvar isType = function (type, obj) {\n  return obj !== undefined && obj !== null && (0, exports.getType)(obj) === type;\n};\n\nexports.isType = isType;\n\nvar wrap = function (element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.parentNode) {\n    if (element.nextSibling) {\n      element.parentNode.insertBefore(wrapper, element.nextSibling);\n    } else {\n      element.parentNode.appendChild(wrapper);\n    }\n  }\n\n  return wrapper.appendChild(element);\n};\n\nexports.wrap = wrap;\n\nvar getAdjacentEl = function (startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n\nexports.getAdjacentEl = getAdjacentEl;\n\nvar isScrolledIntoView = function (element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n\nexports.isScrolledIntoView = isScrolledIntoView;\n\nvar sanitise = function (value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n\nexports.sanitise = sanitise;\n\nexports.strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n\nvar sortByAlpha = function (_a, _b) {\n  var value = _a.value,\n      _c = _a.label,\n      label = _c === void 0 ? value : _c;\n  var value2 = _b.value,\n      _d = _b.label,\n      label2 = _d === void 0 ? value2 : _d;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n\nexports.sortByAlpha = sortByAlpha;\n\nvar sortByScore = function (a, b) {\n  var _a = a.score,\n      scoreA = _a === void 0 ? 0 : _a;\n  var _b = b.score,\n      scoreB = _b === void 0 ? 0 : _b;\n  return scoreA - scoreB;\n};\n\nexports.sortByScore = sortByScore;\n\nvar dispatchEvent = function (element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n\nexports.dispatchEvent = dispatchEvent;\n\nvar existsInArray = function (array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n\nexports.existsInArray = existsInArray;\n\nvar cloneObject = function (obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nexports.cloneObject = cloneObject;\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n\nvar diff = function (a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n\nexports.diff = diff;\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction choices(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        var addChoiceAction = action;\n        var choice = {\n          id: addChoiceAction.id,\n          elementId: addChoiceAction.elementId,\n          groupId: addChoiceAction.groupId,\n          value: addChoiceAction.value,\n          label: addChoiceAction.label || addChoiceAction.value,\n          disabled: addChoiceAction.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: addChoiceAction.customProperties,\n          placeholder: addChoiceAction.placeholder || false\n        };\n        /*\n          A disabled choice appears in the choice dropdown but cannot be selected\n          A selected choice has been added to the passed input's value (added as an item)\n          An active choice appears within the choice dropdown\n        */\n\n        return __spreadArray(__spreadArray([], state, true), [choice], false);\n      }\n\n    case 'ADD_ITEM':\n      {\n        var addItemAction_1 = action; // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n        if (addItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(addItemAction_1.choiceId), 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        var removeItemAction_1 = action; // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n\n        if (removeItemAction_1.choiceId && removeItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(removeItemAction_1.choiceId), 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        var filterChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = filterChoicesAction_1.results.some(function (_a) {\n            var item = _a.item,\n                score = _a.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        var activateChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = activateChoicesAction_1.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return exports.defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = choices;\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        var addGroupAction = action;\n        return __spreadArray(__spreadArray([], state, true), [{\n          id: addGroupAction.id,\n          value: addGroupAction.value,\n          active: addGroupAction.active,\n          disabled: addGroupAction.disabled\n        }], false);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = groups;\n\n/***/ }),\n\n/***/ 655:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\n\nvar redux_1 = __webpack_require__(857);\n\nvar items_1 = __importDefault(__webpack_require__(52));\n\nvar groups_1 = __importDefault(__webpack_require__(871));\n\nvar choices_1 = __importDefault(__webpack_require__(273));\n\nvar loading_1 = __importDefault(__webpack_require__(502));\n\nvar utils_1 = __webpack_require__(799);\n\nexports.defaultState = {\n  groups: [],\n  items: [],\n  choices: [],\n  loading: false\n};\nvar appReducer = (0, redux_1.combineReducers)({\n  items: items_1.default,\n  groups: groups_1.default,\n  choices: choices_1.default,\n  loading: loading_1.default\n});\n\nvar rootReducer = function (passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = exports.defaultState;\n  } else if (action.type === 'RESET_TO') {\n    return (0, utils_1.cloneObject)(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\nexports[\"default\"] = rootReducer;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction items(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        var addItemAction = action; // Add object to items array\n\n        var newState = __spreadArray(__spreadArray([], state, true), [{\n          id: addItemAction.id,\n          choiceId: addItemAction.choiceId,\n          groupId: addItemAction.groupId,\n          value: addItemAction.value,\n          label: addItemAction.label,\n          active: true,\n          highlighted: false,\n          customProperties: addItemAction.customProperties,\n          placeholder: addItemAction.placeholder || false,\n          keyCode: null\n        }], false);\n\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        var highlightItemAction_1 = action;\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === highlightItemAction_1.id) {\n            item.highlighted = highlightItemAction_1.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = items;\n\n/***/ }),\n\n/***/ 502:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = false;\n\nvar general = function (state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return action.isLoading;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexports[\"default\"] = general;\n\n/***/ }),\n\n/***/ 744:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nvar redux_1 = __webpack_require__(857);\n\nvar index_1 = __importDefault(__webpack_require__(655));\n\nvar Store =\n/** @class */\nfunction () {\n  function Store() {\n    this._store = (0, redux_1.createStore)(index_1.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   */\n\n\n  Store.prototype.subscribe = function (onChange) {\n    this._store.subscribe(onChange);\n  };\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   */\n\n\n  Store.prototype.dispatch = function (action) {\n    this._store.dispatch(action);\n  };\n\n  Object.defineProperty(Store.prototype, \"state\", {\n    /**\n     * Get store object (wrapping Redux method)\n     */\n    get: function () {\n      return this._store.getState();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"items\", {\n    /**\n     * Get items from store\n     */\n    get: function () {\n      return this.state.items;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeItems\", {\n    /**\n     * Get active items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n    /**\n     * Get highlighted items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"choices\", {\n    /**\n     * Get choices from store\n     */\n    get: function () {\n      return this.state.choices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeChoices\", {\n    /**\n     * Get active choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"selectableChoices\", {\n    /**\n     * Get selectable choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"searchableChoices\", {\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     */\n    get: function () {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"placeholderChoice\", {\n    /**\n     * Get placeholder choice from store\n     */\n    get: function () {\n      return __spreadArray([], this.choices, true).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"groups\", {\n    /**\n     * Get groups from store\n     */\n    get: function () {\n      return this.state.groups;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeGroups\", {\n    /**\n     * Get active groups from store\n     */\n    get: function () {\n      var _a = this,\n          groups = _a.groups,\n          choices = _a.choices;\n\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Get loading state from store\n   */\n\n  Store.prototype.isLoading = function () {\n    return this.state.loading;\n  };\n  /**\n   * Get single choice by it's ID\n   */\n\n\n  Store.prototype.getChoiceById = function (id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  };\n  /**\n   * Get group by group id\n   */\n\n\n  Store.prototype.getGroupById = function (id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  return Store;\n}();\n\nexports[\"default\"] = Store;\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar templates = {\n  containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n    var containerOuter = _a.classNames.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  containerInner: function (_a) {\n    var containerInner = _a.classNames.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: containerInner\n    });\n  },\n  itemList: function (_a, isSelectOneElement) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listSingle = _b.listSingle,\n        listItems = _b.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: \"\".concat(list, \" \").concat(isSelectOneElement ? listSingle : listItems)\n    });\n  },\n  placeholder: function (_a, value) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        placeholder = _a.classNames.placeholder;\n    return Object.assign(document.createElement('div'), (_b = {\n      className: placeholder\n    }, _b[allowHTML ? 'innerHTML' : 'innerText'] = value, _b));\n  },\n  item: function (_a, _b, removeItemButton) {\n    var _c, _d;\n\n    var allowHTML = _a.allowHTML,\n        _e = _a.classNames,\n        item = _e.item,\n        button = _e.button,\n        highlightedState = _e.highlightedState,\n        itemSelectable = _e.itemSelectable,\n        placeholder = _e.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        customProperties = _b.customProperties,\n        active = _b.active,\n        disabled = _b.disabled,\n        highlighted = _b.highlighted,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      className: item\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c));\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), (_d = {\n        type: 'button',\n        className: button\n      }, _d[allowHTML ? 'innerHTML' : 'innerText'] = REMOVE_ITEM_TEXT, _d));\n      removeButton.setAttribute('aria-label', \"\".concat(REMOVE_ITEM_TEXT, \": '\").concat(value, \"'\"));\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n  choiceList: function (_a, isSelectOneElement) {\n    var list = _a.classNames.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n  choiceGroup: function (_a, _b) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        group = _d.group,\n        groupHeading = _d.groupHeading,\n        itemDisabled = _d.itemDisabled;\n    var id = _b.id,\n        value = _b.value,\n        disabled = _b.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: \"\".concat(group, \" \").concat(disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), (_c = {\n      className: groupHeading\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = value, _c)));\n    return div;\n  },\n  choice: function (_a, _b, selectText) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        item = _d.item,\n        itemChoice = _d.itemChoice,\n        itemSelectable = _d.itemSelectable,\n        selectedState = _d.selectedState,\n        itemDisabled = _d.itemDisabled,\n        placeholder = _d.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        groupId = _b.groupId,\n        elementId = _b.elementId,\n        isDisabled = _b.disabled,\n        isSelected = _b.selected,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      id: elementId\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c.className = \"\".concat(item, \" \").concat(itemChoice), _c));\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId && groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n  input: function (_a, placeholderValue) {\n    var _b = _a.classNames,\n        input = _b.input,\n        inputCloned = _b.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'search',\n      name: 'search_terms',\n      className: \"\".concat(input, \" \").concat(inputCloned),\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n  dropdown: function (_a) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listDropdown = _b.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  notice: function (_a, innerText, type) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        _c = _a.classNames,\n        item = _c.item,\n        itemChoice = _c.itemChoice,\n        noResults = _c.noResults,\n        noChoices = _c.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), (_b = {}, _b[allowHTML ? 'innerHTML' : 'innerText'] = innerText, _b.className = classes.join(' '), _b));\n  },\n  option: function (_a) {\n    var label = _a.label,\n        value = _a.value,\n        customProperties = _a.customProperties,\n        active = _a.active,\n        disabled = _a.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = \"\".concat(customProperties);\n    }\n\n    opt.disabled = !!disabled;\n    return opt;\n  }\n};\nexports[\"default\"] = templates;\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module) {\n\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Fuse; }\n/* harmony export */ });\n/**\n * Fuse.js v6.5.3 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      totalWeight += obj.weight;\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return { path, id, weight, src }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      // console.log(key)\n      let value = this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (!isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {}\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '6.5.3';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\n\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"__DO_NOT_USE__ActionTypes\": function() { return /* binding */ ActionTypes; },\n  \"applyMiddleware\": function() { return /* binding */ applyMiddleware; },\n  \"bindActionCreators\": function() { return /* binding */ bindActionCreators; },\n  \"combineReducers\": function() { return /* binding */ combineReducers; },\n  \"compose\": function() { return /* binding */ compose; },\n  \"createStore\": function() { return /* binding */ createStore; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n;// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (false) {}\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( true ? formatProdErrorMessage(0) : 0);\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(1) : 0);\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( true ? formatProdErrorMessage(2) : 0);\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(3) : 0);\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(4) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(5) : 0);\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( true ? formatProdErrorMessage(6) : 0);\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( true ? formatProdErrorMessage(7) : 0);\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(8) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(9) : 0);\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(10) : 0);\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( true ? formatProdErrorMessage(11) : 0);\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(12) : 0);\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(13) : 0);\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( true ? formatProdErrorMessage(14) : 0);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( true ? formatProdErrorMessage(16) : 0);\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( true ? formatProdErrorMessage(15) : 0);\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2(_objectSpread2({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(373);\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scripts_choices__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(187);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(883);\n/* harmony import */ var _scripts_defaults__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(789);\n/* harmony import */ var _scripts_templates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(686);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default()));\n\n}();\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    (function() {\n        \"use strict\";\n        qq.Error = function(message) {\n            this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n        };\n        qq.Error.prototype = new Error();\n    })();\n    qq.version = \"5.16.2\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.BlobProxy = function(referenceBlob, onCreate) {\n        \"use strict\";\n        qq.extend(this, {\n            referenceBlob: referenceBlob,\n            create: function() {\n                return onCreate(referenceBlob);\n            }\n        });\n    };\n    qq.UploadButton = function(o) {\n        \"use strict\";\n        var self = this, disposeSupport = new qq.DisposeSupport(), options = {\n            acceptFiles: null,\n            element: null,\n            focusClass: \"qq-upload-button-focus\",\n            folders: false,\n            hoverClass: \"qq-upload-button-hover\",\n            ios8BrowserCrashWorkaround: false,\n            multiple: false,\n            name: \"qqfile\",\n            onChange: function(input) {},\n            title: null\n        }, input, buttonId;\n        qq.extend(options, o);\n        buttonId = qq.getUniqueId();\n        function createInput() {\n            var input = document.createElement(\"input\");\n            input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n            input.setAttribute(\"title\", options.title);\n            self.setMultiple(options.multiple, input);\n            if (options.folders && qq.supportedFeatures.folderSelection) {\n                input.setAttribute(\"webkitdirectory\", \"\");\n            }\n            if (options.acceptFiles) {\n                input.setAttribute(\"accept\", options.acceptFiles);\n            }\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"name\", options.name);\n            qq(input).css({\n                position: \"absolute\",\n                right: 0,\n                top: 0,\n                fontFamily: \"Arial\",\n                fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n                margin: 0,\n                padding: 0,\n                cursor: \"pointer\",\n                opacity: 0\n            });\n            !qq.ie7() && qq(input).css({\n                height: \"100%\"\n            });\n            options.element.appendChild(input);\n            disposeSupport.attach(input, \"change\", function() {\n                options.onChange(input);\n            });\n            disposeSupport.attach(input, \"mouseover\", function() {\n                qq(options.element).addClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"mouseout\", function() {\n                qq(options.element).removeClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"focus\", function() {\n                qq(options.element).addClass(options.focusClass);\n            });\n            disposeSupport.attach(input, \"blur\", function() {\n                qq(options.element).removeClass(options.focusClass);\n            });\n            return input;\n        }\n        qq(options.element).css({\n            position: \"relative\",\n            overflow: \"hidden\",\n            direction: \"ltr\"\n        });\n        qq.extend(this, {\n            getInput: function() {\n                return input;\n            },\n            getButtonId: function() {\n                return buttonId;\n            },\n            setMultiple: function(isMultiple, optInput) {\n                var input = optInput || this.getInput();\n                if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n                    input.setAttribute(\"multiple\", \"\");\n                } else {\n                    if (isMultiple) {\n                        input.setAttribute(\"multiple\", \"\");\n                    } else {\n                        input.removeAttribute(\"multiple\");\n                    }\n                }\n            },\n            setAcceptFiles: function(acceptFiles) {\n                if (acceptFiles !== options.acceptFiles) {\n                    input.setAttribute(\"accept\", acceptFiles);\n                }\n            },\n            reset: function() {\n                if (input.parentNode) {\n                    qq(input).remove();\n                }\n                qq(options.element).removeClass(options.focusClass);\n                input = null;\n                input = createInput();\n            }\n        });\n        input = createInput();\n    };\n    qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n    qq.UploadData = function(uploaderProxy) {\n        \"use strict\";\n        var data = [], byUuid = {}, byStatus = {}, byProxyGroupId = {}, byBatchId = {};\n        function getDataByIds(idOrIds) {\n            if (qq.isArray(idOrIds)) {\n                var entries = [];\n                qq.each(idOrIds, function(idx, id) {\n                    entries.push(data[id]);\n                });\n                return entries;\n            }\n            return data[idOrIds];\n        }\n        function getDataByUuids(uuids) {\n            if (qq.isArray(uuids)) {\n                var entries = [];\n                qq.each(uuids, function(idx, uuid) {\n                    entries.push(data[byUuid[uuid]]);\n                });\n                return entries;\n            }\n            return data[byUuid[uuids]];\n        }\n        function getDataByStatus(status) {\n            var statusResults = [], statuses = [].concat(status);\n            qq.each(statuses, function(index, statusEnum) {\n                var statusResultIndexes = byStatus[statusEnum];\n                if (statusResultIndexes !== undefined) {\n                    qq.each(statusResultIndexes, function(i, dataIndex) {\n                        statusResults.push(data[dataIndex]);\n                    });\n                }\n            });\n            return statusResults;\n        }\n        qq.extend(this, {\n            addFile: function(spec) {\n                var status = spec.status || qq.status.SUBMITTING, id = data.push({\n                    name: spec.name,\n                    originalName: spec.name,\n                    uuid: spec.uuid,\n                    size: spec.size == null ? -1 : spec.size,\n                    status: status,\n                    file: spec.file\n                }) - 1;\n                if (spec.batchId) {\n                    data[id].batchId = spec.batchId;\n                    if (byBatchId[spec.batchId] === undefined) {\n                        byBatchId[spec.batchId] = [];\n                    }\n                    byBatchId[spec.batchId].push(id);\n                }\n                if (spec.proxyGroupId) {\n                    data[id].proxyGroupId = spec.proxyGroupId;\n                    if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n                        byProxyGroupId[spec.proxyGroupId] = [];\n                    }\n                    byProxyGroupId[spec.proxyGroupId].push(id);\n                }\n                data[id].id = id;\n                byUuid[spec.uuid] = id;\n                if (byStatus[status] === undefined) {\n                    byStatus[status] = [];\n                }\n                byStatus[status].push(id);\n                spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n                uploaderProxy.onStatusChange(id, null, status);\n                return id;\n            },\n            retrieve: function(optionalFilter) {\n                if (qq.isObject(optionalFilter) && data.length) {\n                    if (optionalFilter.id !== undefined) {\n                        return getDataByIds(optionalFilter.id);\n                    } else if (optionalFilter.uuid !== undefined) {\n                        return getDataByUuids(optionalFilter.uuid);\n                    } else if (optionalFilter.status) {\n                        return getDataByStatus(optionalFilter.status);\n                    }\n                } else {\n                    return qq.extend([], data, true);\n                }\n            },\n            removeFileRef: function(id) {\n                var record = getDataByIds(id);\n                if (record) {\n                    delete record.file;\n                }\n            },\n            reset: function() {\n                data = [];\n                byUuid = {};\n                byStatus = {};\n                byBatchId = {};\n            },\n            setStatus: function(id, newStatus) {\n                var oldStatus = data[id].status, byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n                byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n                data[id].status = newStatus;\n                if (byStatus[newStatus] === undefined) {\n                    byStatus[newStatus] = [];\n                }\n                byStatus[newStatus].push(id);\n                uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n            },\n            uuidChanged: function(id, newUuid) {\n                var oldUuid = data[id].uuid;\n                data[id].uuid = newUuid;\n                byUuid[newUuid] = id;\n                delete byUuid[oldUuid];\n            },\n            updateName: function(id, newName) {\n                data[id].name = newName;\n            },\n            updateSize: function(id, newSize) {\n                data[id].size = newSize;\n            },\n            setParentId: function(targetId, parentId) {\n                data[targetId].parentId = parentId;\n            },\n            getIdsInProxyGroup: function(id) {\n                var proxyGroupId = data[id].proxyGroupId;\n                if (proxyGroupId) {\n                    return byProxyGroupId[proxyGroupId];\n                }\n                return [];\n            },\n            getIdsInBatch: function(id) {\n                var batchId = data[id].batchId;\n                return byBatchId[batchId];\n            }\n        });\n    };\n    qq.status = {\n        SUBMITTING: \"submitting\",\n        SUBMITTED: \"submitted\",\n        REJECTED: \"rejected\",\n        QUEUED: \"queued\",\n        CANCELED: \"canceled\",\n        PAUSED: \"paused\",\n        UPLOADING: \"uploading\",\n        UPLOAD_FINALIZING: \"upload finalizing\",\n        UPLOAD_RETRYING: \"retrying upload\",\n        UPLOAD_SUCCESSFUL: \"upload successful\",\n        UPLOAD_FAILED: \"upload failed\",\n        DELETE_FAILED: \"delete failed\",\n        DELETING: \"deleting\",\n        DELETED: \"deleted\"\n    };\n    (function() {\n        \"use strict\";\n        qq.basePublicApi = {\n            addBlobs: function(blobDataOrArray, params, endpoint) {\n                this.addFiles(blobDataOrArray, params, endpoint);\n            },\n            addInitialFiles: function(cannedFileList) {\n                var self = this;\n                qq.each(cannedFileList, function(index, cannedFile) {\n                    self._addCannedFile(cannedFile);\n                });\n            },\n            addFiles: function(data, params, endpoint) {\n                this._maybeHandleIos8SafariWorkaround();\n                var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId, processBlob = qq.bind(function(blob) {\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName\n                    }, batchId, verifiedFiles);\n                }, this), processBlobData = qq.bind(function(blobData) {\n                    this._handleNewFile(blobData, batchId, verifiedFiles);\n                }, this), processCanvas = qq.bind(function(canvas) {\n                    var blob = qq.canvasToBlob(canvas);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName + \".png\"\n                    }, batchId, verifiedFiles);\n                }, this), processCanvasData = qq.bind(function(canvasData) {\n                    var normalizedQuality = canvasData.quality && canvasData.quality / 100, blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: canvasData.name\n                    }, batchId, verifiedFiles);\n                }, this), processFileOrInput = qq.bind(function(fileOrInput) {\n                    if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n                        var files = Array.prototype.slice.call(fileOrInput.files), self = this;\n                        qq.each(files, function(idx, file) {\n                            self._handleNewFile(file, batchId, verifiedFiles);\n                        });\n                    } else {\n                        this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n                    }\n                }, this), normalizeData = function() {\n                    if (qq.isFileList(data)) {\n                        data = Array.prototype.slice.call(data);\n                    }\n                    data = [].concat(data);\n                }, self = this, verifiedFiles = [];\n                this._currentBatchId = batchId;\n                if (data) {\n                    normalizeData();\n                    qq.each(data, function(idx, fileContainer) {\n                        if (qq.isFileOrInput(fileContainer)) {\n                            processFileOrInput(fileContainer);\n                        } else if (qq.isBlob(fileContainer)) {\n                            processBlob(fileContainer);\n                        } else if (qq.isObject(fileContainer)) {\n                            if (fileContainer.blob && fileContainer.name) {\n                                processBlobData(fileContainer);\n                            } else if (fileContainer.canvas && fileContainer.name) {\n                                processCanvasData(fileContainer);\n                            }\n                        } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n                            processCanvas(fileContainer);\n                        } else {\n                            self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n                        }\n                    });\n                    this.log(\"Received \" + verifiedFiles.length + \" files.\");\n                    this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n                }\n            },\n            cancel: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n                    this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n                } else {\n                    this._handler.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var storedIdsCopy = [], self = this;\n                qq.extend(storedIdsCopy, this._storedIds);\n                qq.each(storedIdsCopy, function(idx, storedFileId) {\n                    self.cancel(storedFileId);\n                });\n                this._handler.cancelAll();\n            },\n            clearStoredFiles: function() {\n                this._storedIds = [];\n            },\n            continueUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (uploadData.status === qq.status.PAUSED) {\n                    this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n                    this._uploadFile(id);\n                    return true;\n                } else {\n                    this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            deleteFile: function(id) {\n                return this._onSubmitDelete(id);\n            },\n            doesExist: function(fileOrBlobId) {\n                return this._handler.isValid(fileOrBlobId);\n            },\n            drawThumbnail: function(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n                var promiseToReturn = new qq.Promise(), fileOrUrl, options;\n                if (this._imageGenerator) {\n                    fileOrUrl = this._thumbnailUrls[fileId];\n                    options = {\n                        customResizeFunction: customResizeFunction,\n                        maxSize: maxSize > 0 ? maxSize : null,\n                        scale: maxSize > 0\n                    };\n                    if (!fromServer && qq.supportedFeatures.imagePreviews) {\n                        fileOrUrl = this.getFile(fileId);\n                    }\n                    if (fileOrUrl == null) {\n                        promiseToReturn.failure({\n                            container: imgOrCanvas,\n                            error: \"File or URL not found.\"\n                        });\n                    } else {\n                        this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n                            promiseToReturn.success(modifiedContainer);\n                        }, function failure(container, reason) {\n                            promiseToReturn.failure({\n                                container: container,\n                                error: reason || \"Problem generating thumbnail\"\n                            });\n                        });\n                    }\n                } else {\n                    promiseToReturn.failure({\n                        container: imgOrCanvas,\n                        error: \"Missing image generator module\"\n                    });\n                }\n                return promiseToReturn;\n            },\n            getButton: function(fileId) {\n                return this._getButton(this._buttonIdsForFileIds[fileId]);\n            },\n            getEndpoint: function(fileId) {\n                return this._endpointStore.get(fileId);\n            },\n            getFile: function(fileOrBlobId) {\n                var file = this._handler.getFile(fileOrBlobId);\n                var uploadDataRecord;\n                if (!file) {\n                    uploadDataRecord = this._uploadData.retrieve({\n                        id: fileOrBlobId\n                    });\n                    if (uploadDataRecord) {\n                        file = uploadDataRecord.file;\n                    }\n                }\n                return file || null;\n            },\n            getInProgress: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED ]\n                }).length;\n            },\n            getName: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).name;\n            },\n            getParentId: function(id) {\n                var uploadDataEntry = this.getUploads({\n                    id: id\n                }), parentId = null;\n                if (uploadDataEntry) {\n                    if (uploadDataEntry.parentId !== undefined) {\n                        parentId = uploadDataEntry.parentId;\n                    }\n                }\n                return parentId;\n            },\n            getResumableFilesData: function() {\n                return this._handler.getResumableFilesData();\n            },\n            getSize: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).size;\n            },\n            getNetUploads: function() {\n                return this._netUploaded;\n            },\n            getRemainingAllowedItems: function() {\n                var allowedItems = this._currentItemLimit;\n                if (allowedItems > 0) {\n                    return allowedItems - this._netUploadedOrQueued;\n                }\n                return null;\n            },\n            getUploads: function(optionalFilter) {\n                return this._uploadData.retrieve(optionalFilter);\n            },\n            getUuid: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).uuid;\n            },\n            isResumable: function(id) {\n                return this._handler.hasResumeRecord(id);\n            },\n            log: function(str, level) {\n                if (this._options.debug && (!level || level === \"info\")) {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n                } else if (level && level !== \"info\") {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n                }\n            },\n            pauseUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (qq.indexOf([ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING ], uploadData.status) >= 0) {\n                    if (this._handler.pause(id)) {\n                        this._uploadData.setStatus(id, qq.status.PAUSED);\n                        return true;\n                    } else {\n                        this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n                    }\n                } else {\n                    this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            removeFileRef: function(id) {\n                this._handler.expunge(id);\n                this._uploadData.removeFileRef(id);\n            },\n            reset: function() {\n                this.log(\"Resetting uploader...\");\n                this._handler.reset();\n                this._storedIds = [];\n                this._autoRetries = [];\n                this._retryTimeouts = [];\n                this._preventRetries = [];\n                this._thumbnailUrls = [];\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n                this._paramsStore.reset();\n                this._endpointStore.reset();\n                this._netUploadedOrQueued = 0;\n                this._netUploaded = 0;\n                this._uploadData.reset();\n                this._buttonIdsForFileIds = [];\n                this._pasteHandler && this._pasteHandler.reset();\n                this._options.session.refreshOnReset && this._refreshSessionData();\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n                this._totalProgress && this._totalProgress.reset();\n                this._customResumeDataStore.reset();\n            },\n            retry: function(id) {\n                return this._manualRetry(id);\n            },\n            scaleImage: function(id, specs) {\n                var self = this;\n                return qq.Scaler.prototype.scaleImage(id, specs, {\n                    log: qq.bind(self.log, self),\n                    getFile: qq.bind(self.getFile, self),\n                    uploadData: self._uploadData\n                });\n            },\n            setCustomHeaders: function(headers, id) {\n                this._customHeadersStore.set(headers, id);\n            },\n            setCustomResumeData: function(id, data) {\n                this._customResumeDataStore.set(data, id);\n            },\n            setDeleteFileCustomHeaders: function(headers, id) {\n                this._deleteFileCustomHeadersStore.set(headers, id);\n            },\n            setDeleteFileEndpoint: function(endpoint, id) {\n                this._deleteFileEndpointStore.set(endpoint, id);\n            },\n            setDeleteFileParams: function(params, id) {\n                this._deleteFileParamsStore.set(params, id);\n            },\n            setEndpoint: function(endpoint, id) {\n                this._endpointStore.set(endpoint, id);\n            },\n            setForm: function(elementOrId) {\n                this._updateFormSupportAndParams(elementOrId);\n            },\n            setItemLimit: function(newItemLimit) {\n                this._currentItemLimit = newItemLimit;\n            },\n            setName: function(id, newName) {\n                this._uploadData.updateName(id, newName);\n            },\n            setParams: function(params, id) {\n                this._paramsStore.set(params, id);\n            },\n            setUuid: function(id, newUuid) {\n                return this._uploadData.uuidChanged(id, newUuid);\n            },\n            setStatus: function(id, newStatus) {\n                var fileRecord = this.getUploads({\n                    id: id\n                });\n                if (!fileRecord) {\n                    throw new qq.Error(id + \" is not a valid file ID.\");\n                }\n                switch (newStatus) {\n                  case qq.status.DELETED:\n                    this._onDeleteComplete(id, null, false);\n                    break;\n\n                  case qq.status.DELETE_FAILED:\n                    this._onDeleteComplete(id, null, true);\n                    break;\n\n                  default:\n                    var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n                    this.log(errorMessage);\n                    throw new qq.Error(errorMessage);\n                }\n            },\n            uploadStoredFiles: function() {\n                if (this._storedIds.length === 0) {\n                    this._itemError(\"noFilesError\");\n                } else {\n                    this._uploadStoredFiles();\n                }\n            }\n        };\n        qq.basePrivateApi = {\n            _addCannedFile: function(sessionData) {\n                var self = this;\n                return this._uploadData.addFile({\n                    uuid: sessionData.uuid,\n                    name: sessionData.name,\n                    size: sessionData.size,\n                    status: qq.status.UPLOAD_SUCCESSFUL,\n                    onBeforeStatusChange: function(id) {\n                        sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n                        sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n                        if (sessionData.thumbnailUrl) {\n                            self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n                        }\n                        self._netUploaded++;\n                        self._netUploadedOrQueued++;\n                    }\n                });\n            },\n            _annotateWithButtonId: function(file, associatedInput) {\n                if (qq.isFile(file)) {\n                    file.qqButtonId = this._getButtonId(associatedInput);\n                }\n            },\n            _batchError: function(message) {\n                this._options.callbacks.onError(null, null, message, undefined);\n            },\n            _createDeleteHandler: function() {\n                var self = this;\n                return new qq.DeleteFileAjaxRequester({\n                    method: this._options.deleteFile.method.toUpperCase(),\n                    maxConnections: this._options.maxConnections,\n                    uuidParamName: this._options.request.uuidName,\n                    customHeaders: this._deleteFileCustomHeadersStore,\n                    paramsStore: this._deleteFileParamsStore,\n                    endpointStore: this._deleteFileEndpointStore,\n                    cors: this._options.cors,\n                    log: qq.bind(self.log, self),\n                    onDelete: function(id) {\n                        self._onDelete(id);\n                        self._options.callbacks.onDelete(id);\n                    },\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {\n                        self._onDeleteComplete(id, xhrOrXdr, isError);\n                        self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n                    }\n                });\n            },\n            _createPasteHandler: function() {\n                var self = this;\n                return new qq.PasteSupport({\n                    targetElement: this._options.paste.targetElement,\n                    callbacks: {\n                        log: qq.bind(self.log, self),\n                        pasteReceived: function(blob) {\n                            self._handleCheckedCallback({\n                                name: \"onPasteReceived\",\n                                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                                identifier: \"pasted image\"\n                            });\n                        }\n                    }\n                });\n            },\n            _createStore: function(initialValue, _readOnlyValues_) {\n                var store = {}, catchall = initialValue, perIdReadOnlyValues = {}, readOnlyValues = _readOnlyValues_, copy = function(orig) {\n                    if (qq.isObject(orig)) {\n                        return qq.extend({}, orig);\n                    }\n                    return orig;\n                }, getReadOnlyValues = function() {\n                    if (qq.isFunction(readOnlyValues)) {\n                        return readOnlyValues();\n                    }\n                    return readOnlyValues;\n                }, includeReadOnlyValues = function(id, existing) {\n                    if (readOnlyValues && qq.isObject(existing)) {\n                        qq.extend(existing, getReadOnlyValues());\n                    }\n                    if (perIdReadOnlyValues[id]) {\n                        qq.extend(existing, perIdReadOnlyValues[id]);\n                    }\n                };\n                return {\n                    set: function(val, id) {\n                        if (id == null) {\n                            store = {};\n                            catchall = copy(val);\n                        } else {\n                            store[id] = copy(val);\n                        }\n                    },\n                    get: function(id) {\n                        var values;\n                        if (id != null && store[id]) {\n                            values = store[id];\n                        } else {\n                            values = copy(catchall);\n                        }\n                        includeReadOnlyValues(id, values);\n                        return copy(values);\n                    },\n                    addReadOnly: function(id, values) {\n                        if (qq.isObject(store)) {\n                            if (id === null) {\n                                if (qq.isFunction(values)) {\n                                    readOnlyValues = values;\n                                } else {\n                                    readOnlyValues = readOnlyValues || {};\n                                    qq.extend(readOnlyValues, values);\n                                }\n                            } else {\n                                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                                qq.extend(perIdReadOnlyValues[id], values);\n                            }\n                        }\n                    },\n                    remove: function(fileId) {\n                        return delete store[fileId];\n                    },\n                    reset: function() {\n                        store = {};\n                        perIdReadOnlyValues = {};\n                        catchall = initialValue;\n                    }\n                };\n            },\n            _createUploadDataTracker: function() {\n                var self = this;\n                return new qq.UploadData({\n                    getName: function(id) {\n                        return self.getName(id);\n                    },\n                    getUuid: function(id) {\n                        return self.getUuid(id);\n                    },\n                    getSize: function(id) {\n                        return self.getSize(id);\n                    },\n                    onStatusChange: function(id, oldStatus, newStatus) {\n                        self._onUploadStatusChange(id, oldStatus, newStatus);\n                        self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n                        self._maybeAllComplete(id, newStatus);\n                        if (self._totalProgress) {\n                            setTimeout(function() {\n                                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n                            }, 0);\n                        }\n                    }\n                });\n            },\n            _createUploadButton: function(spec) {\n                var self = this, acceptFiles = spec.accept || this._options.validation.acceptFiles, allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions, button;\n                function allowMultiple() {\n                    if (qq.supportedFeatures.ajaxUploading) {\n                        if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n                            return false;\n                        }\n                        if (spec.multiple === undefined) {\n                            return self._options.multiple;\n                        }\n                        return spec.multiple;\n                    }\n                    return false;\n                }\n                button = new qq.UploadButton({\n                    acceptFiles: acceptFiles,\n                    element: spec.element,\n                    focusClass: this._options.classes.buttonFocus,\n                    folders: spec.folders,\n                    hoverClass: this._options.classes.buttonHover,\n                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n                    multiple: allowMultiple(),\n                    name: this._options.request.inputName,\n                    onChange: function(input) {\n                        self._onInputChange(input);\n                    },\n                    title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n                });\n                this._disposeSupport.addDisposer(function() {\n                    button.dispose();\n                });\n                self._buttons.push(button);\n                return button;\n            },\n            _createUploadHandler: function(additionalOptions, namespace) {\n                var self = this, lastOnProgress = {}, options = {\n                    debug: this._options.debug,\n                    maxConnections: this._options.maxConnections,\n                    cors: this._options.cors,\n                    paramsStore: this._paramsStore,\n                    endpointStore: this._endpointStore,\n                    chunking: this._options.chunking,\n                    resume: this._options.resume,\n                    blobs: this._options.blobs,\n                    log: qq.bind(self.log, self),\n                    preventRetryParam: this._options.retry.preventRetryResponseProperty,\n                    onProgress: function(id, name, loaded, total) {\n                        if (loaded < 0 || total < 0) {\n                            return;\n                        }\n                        if (lastOnProgress[id]) {\n                            if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                                self._onProgress(id, name, loaded, total);\n                                self._options.callbacks.onProgress(id, name, loaded, total);\n                            }\n                        } else {\n                            self._onProgress(id, name, loaded, total);\n                            self._options.callbacks.onProgress(id, name, loaded, total);\n                        }\n                        lastOnProgress[id] = {\n                            loaded: loaded,\n                            total: total\n                        };\n                    },\n                    onComplete: function(id, name, result, xhr) {\n                        delete lastOnProgress[id];\n                        var status = self.getUploads({\n                            id: id\n                        }).status, retVal;\n                        if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                            return;\n                        }\n                        retVal = self._onComplete(id, name, result, xhr);\n                        if (retVal instanceof qq.Promise) {\n                            retVal.done(function() {\n                                self._options.callbacks.onComplete(id, name, result, xhr);\n                            });\n                        } else {\n                            self._options.callbacks.onComplete(id, name, result, xhr);\n                        }\n                    },\n                    onCancel: function(id, name, cancelFinalizationEffort) {\n                        var promise = new qq.Promise();\n                        self._handleCheckedCallback({\n                            name: \"onCancel\",\n                            callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                            onFailure: promise.failure,\n                            onSuccess: function() {\n                                cancelFinalizationEffort.then(function() {\n                                    self._onCancel(id, name);\n                                });\n                                promise.success();\n                            },\n                            identifier: id\n                        });\n                        return promise;\n                    },\n                    onUploadPrep: qq.bind(this._onUploadPrep, this),\n                    onUpload: function(id, name) {\n                        self._onUpload(id, name);\n                        var onUploadResult = self._options.callbacks.onUpload(id, name);\n                        if (qq.isGenericPromise(onUploadResult)) {\n                            self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                            return onUploadResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunk: function(id, name, chunkData) {\n                        self._onUploadChunk(id, chunkData);\n                        var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n                        if (qq.isGenericPromise(onUploadChunkResult)) {\n                            self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                            return onUploadChunkResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunkSuccess: function(id, chunkData, result, xhr) {\n                        self._onUploadChunkSuccess(id, chunkData);\n                        self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n                    },\n                    onResume: function(id, name, chunkData, customResumeData) {\n                        return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n                    },\n                    onAutoRetry: function(id, name, responseJSON, xhr) {\n                        return self._onAutoRetry.apply(self, arguments);\n                    },\n                    onUuidChanged: function(id, newUuid) {\n                        self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n                        self.setUuid(id, newUuid);\n                    },\n                    getName: qq.bind(self.getName, self),\n                    getUuid: qq.bind(self.getUuid, self),\n                    getSize: qq.bind(self.getSize, self),\n                    setSize: qq.bind(self._setSize, self),\n                    getDataByUuid: function(uuid) {\n                        return self.getUploads({\n                            uuid: uuid\n                        });\n                    },\n                    isQueued: function(id) {\n                        var status = self.getUploads({\n                            id: id\n                        }).status;\n                        return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n                    },\n                    getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n                    getIdsInBatch: self._uploadData.getIdsInBatch,\n                    isInProgress: function(id) {\n                        return self.getUploads({\n                            id: id\n                        }).status === qq.status.UPLOADING;\n                    },\n                    getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n                    setStatus: function(id, status) {\n                        self._uploadData.setStatus(id, status);\n                    }\n                };\n                qq.each(this._options.request, function(prop, val) {\n                    options[prop] = val;\n                });\n                options.customHeaders = this._customHeadersStore;\n                if (additionalOptions) {\n                    qq.each(additionalOptions, function(key, val) {\n                        options[key] = val;\n                    });\n                }\n                return new qq.UploadHandlerController(options, namespace);\n            },\n            _fileOrBlobRejected: function(id) {\n                this._netUploadedOrQueued--;\n                this._uploadData.setStatus(id, qq.status.REJECTED);\n            },\n            _formatSize: function(bytes) {\n                if (bytes === 0) {\n                    return bytes + this._options.text.sizeSymbols[0];\n                }\n                var i = -1;\n                do {\n                    bytes = bytes / 1e3;\n                    i++;\n                } while (bytes > 999);\n                return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n            },\n            _generateExtraButtonSpecs: function() {\n                var self = this;\n                this._extraButtonSpecs = {};\n                qq.each(this._options.extraButtons, function(idx, extraButtonOptionEntry) {\n                    var multiple = extraButtonOptionEntry.multiple, validation = qq.extend({}, self._options.validation, true), extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n                    if (multiple === undefined) {\n                        multiple = self._options.multiple;\n                    }\n                    if (extraButtonSpec.validation) {\n                        qq.extend(validation, extraButtonOptionEntry.validation, true);\n                    }\n                    qq.extend(extraButtonSpec, {\n                        multiple: multiple,\n                        validation: validation\n                    }, true);\n                    self._initExtraButton(extraButtonSpec);\n                });\n            },\n            _getButton: function(buttonId) {\n                var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n                if (extraButtonsSpec) {\n                    return extraButtonsSpec.element;\n                } else if (buttonId === this._defaultButtonId) {\n                    return this._options.button;\n                }\n            },\n            _getButtonId: function(buttonOrFileInputOrFile) {\n                var inputs, fileInput, fileBlobOrInput = buttonOrFileInputOrFile;\n                if (fileBlobOrInput instanceof qq.BlobProxy) {\n                    fileBlobOrInput = fileBlobOrInput.referenceBlob;\n                }\n                if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n                    if (qq.isFile(fileBlobOrInput)) {\n                        return fileBlobOrInput.qqButtonId;\n                    } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n                        return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                    inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n                    qq.each(inputs, function(idx, input) {\n                        if (input.getAttribute(\"type\") === \"file\") {\n                            fileInput = input;\n                            return false;\n                        }\n                    });\n                    if (fileInput) {\n                        return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                }\n            },\n            _getCustomResumeData: function(fileId) {\n                return this._customResumeDataStore.get(fileId);\n            },\n            _getNotFinished: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED ]\n                }).length;\n            },\n            _getValidationBase: function(buttonId) {\n                var extraButtonSpec = this._extraButtonSpecs[buttonId];\n                return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n            },\n            _getValidationDescriptor: function(fileWrapper) {\n                if (fileWrapper.file instanceof qq.BlobProxy) {\n                    return {\n                        name: qq.getFilename(fileWrapper.file.referenceBlob),\n                        size: fileWrapper.file.referenceBlob.size\n                    };\n                }\n                return {\n                    name: this.getUploads({\n                        id: fileWrapper.id\n                    }).name,\n                    size: this.getUploads({\n                        id: fileWrapper.id\n                    }).size\n                };\n            },\n            _getValidationDescriptors: function(fileWrappers) {\n                var self = this, fileDescriptors = [];\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n                });\n                return fileDescriptors;\n            },\n            _handleCameraAccess: function() {\n                if (this._options.camera.ios && qq.ios()) {\n                    var acceptIosCamera = \"image/*;capture=camera\", button = this._options.camera.button, buttonId = button ? this._getButtonId(button) : this._defaultButtonId, optionRoot = this._options;\n                    if (buttonId && buttonId !== this._defaultButtonId) {\n                        optionRoot = this._extraButtonSpecs[buttonId];\n                    }\n                    optionRoot.multiple = false;\n                    if (optionRoot.validation.acceptFiles === null) {\n                        optionRoot.validation.acceptFiles = acceptIosCamera;\n                    } else {\n                        optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n                    }\n                    qq.each(this._buttons, function(idx, button) {\n                        if (button.getButtonId() === buttonId) {\n                            button.setMultiple(optionRoot.multiple);\n                            button.setAcceptFiles(optionRoot.acceptFiles);\n                            return false;\n                        }\n                    });\n                }\n            },\n            _handleCheckedCallback: function(details) {\n                var self = this, callbackRetVal = details.callback();\n                if (qq.isGenericPromise(callbackRetVal)) {\n                    this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n                    return callbackRetVal.then(function(successParam) {\n                        self.log(details.name + \" promise success for \" + details.identifier);\n                        details.onSuccess(successParam);\n                    }, function() {\n                        if (details.onFailure) {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                            details.onFailure();\n                        } else {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                        }\n                    });\n                }\n                if (callbackRetVal !== false) {\n                    details.onSuccess(callbackRetVal);\n                } else {\n                    if (details.onFailure) {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n                        details.onFailure();\n                    } else {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n                    }\n                }\n                return callbackRetVal;\n            },\n            _handleNewFile: function(file, batchId, newFileWrapperList) {\n                var self = this, uuid = qq.getUniqueId(), size = -1, name = qq.getFilename(file), actualFile = file.blob || file, handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n                if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n                    size = actualFile.size;\n                }\n                handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n                    uploadData: self._uploadData,\n                    paramsStore: self._paramsStore,\n                    addFileToHandler: function(id, file) {\n                        self._handler.add(id, file);\n                        self._netUploadedOrQueued++;\n                        self._trackButton(id);\n                    }\n                });\n            },\n            _handleNewFileGeneric: function(file, name, uuid, size, fileList, batchId) {\n                var id = this._uploadData.addFile({\n                    uuid: uuid,\n                    name: name,\n                    size: size,\n                    batchId: batchId,\n                    file: file\n                });\n                this._handler.add(id, file);\n                this._trackButton(id);\n                this._netUploadedOrQueued++;\n                fileList.push({\n                    id: id,\n                    file: file\n                });\n            },\n            _handlePasteSuccess: function(blob, extSuppliedName) {\n                var extension = blob.type.split(\"/\")[1], name = extSuppliedName;\n                if (name == null) {\n                    name = this._options.paste.defaultName;\n                }\n                name += \".\" + extension;\n                this.addFiles({\n                    name: name,\n                    blob: blob\n                });\n            },\n            _handleDeleteSuccess: function(id) {\n                if (this.getUploads({\n                    id: id\n                }).status !== qq.status.DELETED) {\n                    var name = this.getName(id);\n                    this._netUploadedOrQueued--;\n                    this._netUploaded--;\n                    this._handler.expunge(id);\n                    this._uploadData.setStatus(id, qq.status.DELETED);\n                    this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n                }\n            },\n            _handleDeleteFailed: function(id, xhrOrXdr) {\n                var name = this.getName(id);\n                this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n                this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n                if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n                    this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n                } else {\n                    this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n                }\n            },\n            _initExtraButton: function(spec) {\n                var button = this._createUploadButton({\n                    accept: spec.validation.acceptFiles,\n                    allowedExtensions: spec.validation.allowedExtensions,\n                    element: spec.element,\n                    folders: spec.folders,\n                    multiple: spec.multiple,\n                    title: spec.fileInputTitle\n                });\n                this._extraButtonSpecs[button.getButtonId()] = spec;\n            },\n            _initFormSupportAndParams: function() {\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this._options.request.endpoint = this._formSupport.newEndpoint;\n                    }\n                } else {\n                    this._paramsStore = this._createStore(this._options.request.params);\n                }\n            },\n            _isDeletePossible: function() {\n                if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n                    return false;\n                }\n                if (this._options.cors.expected) {\n                    if (qq.supportedFeatures.deleteFileCorsXhr) {\n                        return true;\n                    }\n                    if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n                        return true;\n                    }\n                    return false;\n                }\n                return true;\n            },\n            _isAllowedExtension: function(allowed, fileName) {\n                var valid = false;\n                if (!allowed.length) {\n                    return true;\n                }\n                qq.each(allowed, function(idx, allowedExt) {\n                    if (qq.isString(allowedExt)) {\n                        var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n                        if (fileName.match(extRegex) != null) {\n                            valid = true;\n                            return false;\n                        }\n                    }\n                });\n                return valid;\n            },\n            _itemError: function(code, maybeNameOrNames, item) {\n                var message = this._options.messages[code], allowedExtensions = [], names = [].concat(maybeNameOrNames), name = names[0], buttonId = this._getButtonId(item), validationBase = this._getValidationBase(buttonId), extensionsForMessage, placeholderMatch;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                qq.each(validationBase.allowedExtensions, function(idx, allowedExtension) {\n                    if (qq.isString(allowedExtension)) {\n                        allowedExtensions.push(allowedExtension);\n                    }\n                });\n                extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n                r(\"{file}\", this._options.formatFileName(name));\n                r(\"{extensions}\", extensionsForMessage);\n                r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n                r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n                placeholderMatch = message.match(/(\\{\\w+\\})/g);\n                if (placeholderMatch !== null) {\n                    qq.each(placeholderMatch, function(idx, placeholder) {\n                        r(placeholder, names[idx]);\n                    });\n                }\n                this._options.callbacks.onError(null, name, message, undefined);\n                return message;\n            },\n            _manualRetry: function(id, callback) {\n                if (this._onBeforeManualRetry(id)) {\n                    this._netUploadedOrQueued++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    if (callback) {\n                        callback(id);\n                    } else {\n                        this._handler.retry(id);\n                    }\n                    return true;\n                }\n            },\n            _maybeAllComplete: function(id, status) {\n                var self = this, notFinished = this._getNotFinished();\n                if (status === qq.status.UPLOAD_SUCCESSFUL) {\n                    this._succeededSinceLastAllComplete.push(id);\n                } else if (status === qq.status.UPLOAD_FAILED) {\n                    this._failedSinceLastAllComplete.push(id);\n                }\n                if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n                    setTimeout(function() {\n                        self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n                    }, 0);\n                }\n            },\n            _maybeHandleIos8SafariWorkaround: function() {\n                var self = this;\n                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n                    setTimeout(function() {\n                        window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n                    }, 0);\n                    throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n                }\n            },\n            _maybeParseAndSendUploadError: function(id, name, response, xhr) {\n                if (!response.success) {\n                    if (xhr && xhr.status !== 200 && !response.error) {\n                        this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n                    } else {\n                        var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n                        this._options.callbacks.onError(id, name, errorReason, xhr);\n                    }\n                }\n            },\n            _maybeProcessNextItemAfterOnValidateCallback: function(validItem, items, index, params, endpoint) {\n                var self = this;\n                if (items.length > index) {\n                    if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n                        setTimeout(function() {\n                            var validationDescriptor = self._getValidationDescriptor(items[index]), buttonId = self._getButtonId(items[index].file), button = self._getButton(buttonId);\n                            self._handleCheckedCallback({\n                                name: \"onValidate\",\n                                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n                            });\n                        }, 0);\n                    } else if (!validItem) {\n                        for (;index < items.length; index++) {\n                            self._fileOrBlobRejected(items[index].id);\n                        }\n                    }\n                }\n            },\n            _onAllComplete: function(successful, failed) {\n                this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n                this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n            },\n            _onAutoRetry: function(id, name, responseJSON, xhr, callback) {\n                var self = this;\n                self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n                if (self._shouldAutoRetry(id)) {\n                    var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n                    self._maybeParseAndSendUploadError.apply(self, arguments);\n                    self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n                    self._onBeforeAutoRetry(id, name);\n                    self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    self._retryTimeouts[id] = setTimeout(function() {\n                        self.log(\"Starting retry for \" + name + \"...\");\n                        if (callback) {\n                            callback(id);\n                        } else {\n                            self._handler.retry(id);\n                        }\n                    }, retryWaitPeriod);\n                    return true;\n                }\n            },\n            _onBeforeAutoRetry: function(id, name) {\n                this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n            },\n            _onBeforeManualRetry: function(id) {\n                var itemLimit = this._currentItemLimit, fileName;\n                if (this._preventRetries[id]) {\n                    this.log(\"Retries are forbidden for id \" + id, \"warn\");\n                    return false;\n                } else if (this._handler.isValid(id)) {\n                    fileName = this.getName(id);\n                    if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n                        return false;\n                    }\n                    if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n                        this._itemError(\"retryFailTooManyItems\");\n                        return false;\n                    }\n                    this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n                    return true;\n                } else {\n                    this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n                    return false;\n                }\n            },\n            _onCancel: function(id, name) {\n                this._netUploadedOrQueued--;\n                clearTimeout(this._retryTimeouts[id]);\n                var storedItemIndex = qq.indexOf(this._storedIds, id);\n                if (!this._options.autoUpload && storedItemIndex >= 0) {\n                    this._storedIds.splice(storedItemIndex, 1);\n                }\n                this._uploadData.setStatus(id, qq.status.CANCELED);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                if (!result.success) {\n                    this._netUploadedOrQueued--;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n                    if (result[this._options.retry.preventRetryResponseProperty] === true) {\n                        this._preventRetries[id] = true;\n                    }\n                } else {\n                    if (result.thumbnailUrl) {\n                        this._thumbnailUrls[id] = result.thumbnailUrl;\n                    }\n                    this._netUploaded++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n                }\n                this._maybeParseAndSendUploadError(id, name, result, xhr);\n                return result.success ? true : false;\n            },\n            _onDelete: function(id) {\n                this._uploadData.setStatus(id, qq.status.DELETING);\n            },\n            _onDeleteComplete: function(id, xhrOrXdr, isError) {\n                var name = this.getName(id);\n                if (isError) {\n                    this._handleDeleteFailed(id, xhrOrXdr);\n                } else {\n                    this._handleDeleteSuccess(id);\n                }\n            },\n            _onInputChange: function(input) {\n                var fileIndex;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n                        this._annotateWithButtonId(input.files[fileIndex], input);\n                    }\n                    this.addFiles(input.files);\n                } else if (input.value.length > 0) {\n                    this.addFiles(input);\n                }\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n            },\n            _onSubmit: function(id, name) {},\n            _onSubmitCallbackSuccess: function(id, name) {\n                this._onSubmit.apply(this, arguments);\n                this._uploadData.setStatus(id, qq.status.SUBMITTED);\n                this._onSubmitted.apply(this, arguments);\n                if (this._options.autoUpload) {\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                    this._uploadFile(id);\n                } else {\n                    this._storeForLater(id);\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                }\n            },\n            _onSubmitDelete: function(id, onSuccessCallback, additionalMandatedParams) {\n                var uuid = this.getUuid(id), adjustedOnSuccessCallback;\n                if (onSuccessCallback) {\n                    adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n                }\n                if (this._isDeletePossible()) {\n                    this._handleCheckedCallback({\n                        name: \"onSubmitDelete\",\n                        callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n                        onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n                        identifier: id\n                    });\n                    return true;\n                } else {\n                    this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n                    return false;\n                }\n            },\n            _onSubmitted: function(id) {},\n            _onTotalProgress: function(loaded, total) {\n                this._options.callbacks.onTotalProgress(loaded, total);\n            },\n            _onUploadPrep: function(id) {},\n            _onUpload: function(id, name) {\n                this._uploadData.setStatus(id, qq.status.UPLOADING);\n            },\n            _onUploadChunk: function(id, chunkData) {},\n            _onUploadChunkSuccess: function(id, chunkData) {\n                if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n                    this._autoRetries[id] = 0;\n                }\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.PAUSED) {\n                    clearTimeout(this._retryTimeouts[id]);\n                }\n            },\n            _onValidateBatchCallbackFailure: function(fileWrappers) {\n                var self = this;\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    self._fileOrBlobRejected(fileWrapper.id);\n                });\n            },\n            _onValidateBatchCallbackSuccess: function(validationDescriptors, items, params, endpoint, button) {\n                var errorMessage, itemLimit = this._currentItemLimit, proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n                if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n                    if (items.length > 0) {\n                        this._handleCheckedCallback({\n                            name: \"onValidate\",\n                            callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n                            onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n                            onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n                            identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n                        });\n                    } else {\n                        this._itemError(\"noFilesError\");\n                    }\n                } else {\n                    this._onValidateBatchCallbackFailure(items);\n                    errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n                    this._batchError(errorMessage);\n                }\n            },\n            _onValidateCallbackFailure: function(items, index, params, endpoint) {\n                var nextIndex = index + 1;\n                this._fileOrBlobRejected(items[index].id, items[index].file.name);\n                this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n            },\n            _onValidateCallbackSuccess: function(items, index, params, endpoint) {\n                var self = this, nextIndex = index + 1, validationDescriptor = this._getValidationDescriptor(items[index]);\n                this._validateFileOrBlobData(items[index], validationDescriptor).then(function() {\n                    self._upload(items[index].id, params, endpoint);\n                    self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n                }, function() {\n                    self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n                });\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                if (items.length === 0) {\n                    this._itemError(\"noFilesError\");\n                    return;\n                }\n                var validationDescriptors = this._getValidationDescriptors(items), buttonId = this._getButtonId(items[0].file), button = this._getButton(buttonId);\n                this._handleCheckedCallback({\n                    name: \"onValidateBatch\",\n                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n                    identifier: \"batch validation\"\n                });\n            },\n            _preventLeaveInProgress: function() {\n                var self = this;\n                this._disposeSupport.attach(window, \"beforeunload\", function(e) {\n                    if (self.getInProgress()) {\n                        e = e || window.event;\n                        e.returnValue = self._options.messages.onLeave;\n                        return self._options.messages.onLeave;\n                    }\n                });\n            },\n            _refreshSessionData: function() {\n                var self = this, options = this._options.session;\n                if (qq.Session && this._options.session.endpoint != null) {\n                    if (!this._session) {\n                        qq.extend(options, {\n                            cors: this._options.cors\n                        });\n                        options.log = qq.bind(this.log, this);\n                        options.addFileRecord = qq.bind(this._addCannedFile, this);\n                        this._session = new qq.Session(options);\n                    }\n                    setTimeout(function() {\n                        self._session.refresh().then(function(response, xhrOrXdr) {\n                            self._sessionRequestComplete();\n                            self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n                        }, function(response, xhrOrXdr) {\n                            self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n                        });\n                    }, 0);\n                }\n            },\n            _sessionRequestComplete: function() {},\n            _setSize: function(id, newSize) {\n                this._uploadData.updateSize(id, newSize);\n                this._totalProgress && this._totalProgress.onNewSize(id);\n            },\n            _shouldAutoRetry: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n                    if (this._autoRetries[id] === undefined) {\n                        this._autoRetries[id] = 0;\n                    }\n                    if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n                        this._autoRetries[id] += 1;\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _storeForLater: function(id) {\n                this._storedIds.push(id);\n            },\n            _trackButton: function(id) {\n                var buttonId;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    buttonId = this._handler.getFile(id).qqButtonId;\n                } else {\n                    buttonId = this._getButtonId(this._handler.getInput(id));\n                }\n                if (buttonId) {\n                    this._buttonIdsForFileIds[id] = buttonId;\n                }\n            },\n            _updateFormSupportAndParams: function(formElementOrId) {\n                this._options.form.element = formElementOrId;\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this.setEndpoint(this._formSupport.newEndpoint);\n                    }\n                }\n            },\n            _upload: function(id, params, endpoint) {\n                var name = this.getName(id);\n                if (params) {\n                    this.setParams(params, id);\n                }\n                if (endpoint) {\n                    this.setEndpoint(endpoint, id);\n                }\n                this._handleCheckedCallback({\n                    name: \"onSubmit\",\n                    callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n                    onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n                    identifier: id\n                });\n            },\n            _uploadFile: function(id) {\n                if (!this._handler.upload(id)) {\n                    this._uploadData.setStatus(id, qq.status.QUEUED);\n                }\n            },\n            _uploadStoredFiles: function() {\n                var idToUpload, stillSubmitting, self = this;\n                while (this._storedIds.length) {\n                    idToUpload = this._storedIds.shift();\n                    this._uploadFile(idToUpload);\n                }\n                stillSubmitting = this.getUploads({\n                    status: qq.status.SUBMITTING\n                }).length;\n                if (stillSubmitting) {\n                    qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n                    setTimeout(function() {\n                        self._uploadStoredFiles();\n                    }, 1e3);\n                }\n            },\n            _validateFileOrBlobData: function(fileWrapper, validationDescriptor) {\n                var self = this, file = function() {\n                    if (fileWrapper.file instanceof qq.BlobProxy) {\n                        return fileWrapper.file.referenceBlob;\n                    }\n                    return fileWrapper.file;\n                }(), name = validationDescriptor.name, size = validationDescriptor.size, buttonId = this._getButtonId(fileWrapper.file), validationBase = this._getValidationBase(buttonId), validityChecker = new qq.Promise();\n                validityChecker.then(function() {}, function() {\n                    self._fileOrBlobRejected(fileWrapper.id, name);\n                });\n                if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n                    this._itemError(\"typeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (!this._options.validation.allowEmpty && size === 0) {\n                    this._itemError(\"emptyError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n                    this._itemError(\"sizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && size < validationBase.minSizeLimit) {\n                    this._itemError(\"minSizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n                    new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function(errorCode) {\n                        self._itemError(errorCode + \"ImageError\", name, file);\n                        validityChecker.failure();\n                    });\n                } else {\n                    validityChecker.success();\n                }\n                return validityChecker;\n            },\n            _wrapCallbacks: function() {\n                var self, safeCallback, prop;\n                self = this;\n                safeCallback = function(name, callback, args) {\n                    var errorMsg;\n                    try {\n                        return callback.apply(self, args);\n                    } catch (exception) {\n                        errorMsg = exception.message || exception.toString();\n                        self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n                    }\n                };\n                for (prop in this._options.callbacks) {\n                    (function() {\n                        var callbackName, callbackFunc;\n                        callbackName = prop;\n                        callbackFunc = self._options.callbacks[callbackName];\n                        self._options.callbacks[callbackName] = function() {\n                            return safeCallback(callbackName, callbackFunc, arguments);\n                        };\n                    })();\n                }\n            }\n        };\n    })();\n    (function() {\n        \"use strict\";\n        qq.FineUploaderBasic = function(o) {\n            var self = this;\n            this._options = {\n                debug: false,\n                button: null,\n                multiple: true,\n                maxConnections: 3,\n                disableCancelForFormUploads: false,\n                autoUpload: true,\n                warnBeforeUnload: true,\n                request: {\n                    customHeaders: {},\n                    endpoint: \"/server/upload\",\n                    filenameParam: \"qqfilename\",\n                    forceMultipart: true,\n                    inputName: \"qqfile\",\n                    method: \"POST\",\n                    omitDefaultParams: false,\n                    params: {},\n                    paramsInBody: true,\n                    requireSuccessJson: true,\n                    totalFileSizeName: \"qqtotalfilesize\",\n                    uuidName: \"qquuid\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    sizeLimit: 0,\n                    minSizeLimit: 0,\n                    itemLimit: 0,\n                    stopOnFirstInvalidFile: true,\n                    acceptFiles: null,\n                    image: {\n                        maxHeight: 0,\n                        maxWidth: 0,\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    allowEmpty: false\n                },\n                callbacks: {\n                    onSubmit: function(id, name) {},\n                    onSubmitted: function(id, name) {},\n                    onComplete: function(id, name, responseJSON, maybeXhr) {},\n                    onAllComplete: function(successful, failed) {},\n                    onCancel: function(id, name) {},\n                    onUpload: function(id, name) {},\n                    onUploadChunk: function(id, name, chunkData) {},\n                    onUploadChunkSuccess: function(id, chunkData, responseJSON, xhr) {},\n                    onResume: function(id, fileName, chunkData, customResumeData) {},\n                    onProgress: function(id, name, loaded, total) {},\n                    onTotalProgress: function(loaded, total) {},\n                    onError: function(id, name, reason, maybeXhrOrXdr) {},\n                    onAutoRetry: function(id, name, attemptNumber) {},\n                    onManualRetry: function(id, name) {},\n                    onValidateBatch: function(fileOrBlobData) {},\n                    onValidate: function(fileOrBlobData) {},\n                    onSubmitDelete: function(id) {},\n                    onDelete: function(id) {},\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {},\n                    onPasteReceived: function(blob) {},\n                    onStatusChange: function(id, oldStatus, newStatus) {},\n                    onSessionRequestComplete: function(response, success, xhrOrXdr) {}\n                },\n                messages: {\n                    typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n                    sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n                    minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n                    emptyError: \"{file} is empty, please select files again without it.\",\n                    noFilesError: \"No files to upload.\",\n                    tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n                    maxHeightImageError: \"Image is too tall.\",\n                    maxWidthImageError: \"Image is too wide.\",\n                    minHeightImageError: \"Image is not tall enough.\",\n                    minWidthImageError: \"Image is not wide enough.\",\n                    retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n                    onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n                    unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n                },\n                retry: {\n                    enableAuto: false,\n                    maxAutoAttempts: 3,\n                    autoAttemptDelay: 5,\n                    preventRetryResponseProperty: \"preventRetry\"\n                },\n                classes: {\n                    buttonHover: \"qq-upload-button-hover\",\n                    buttonFocus: \"qq-upload-button-focus\"\n                },\n                chunking: {\n                    enabled: false,\n                    concurrent: {\n                        enabled: false\n                    },\n                    mandatory: false,\n                    paramNames: {\n                        partIndex: \"qqpartindex\",\n                        partByteOffset: \"qqpartbyteoffset\",\n                        chunkSize: \"qqchunksize\",\n                        totalFileSize: \"qqtotalfilesize\",\n                        totalParts: \"qqtotalparts\"\n                    },\n                    partSize: function(id) {\n                        return 2e6;\n                    },\n                    success: {\n                        endpoint: null,\n                        headers: function(id) {\n                            return null;\n                        },\n                        jsonPayload: false,\n                        method: \"POST\",\n                        params: function(id) {\n                            return null;\n                        },\n                        resetOnStatus: []\n                    }\n                },\n                resume: {\n                    enabled: false,\n                    recordsExpireIn: 7,\n                    paramNames: {\n                        resuming: \"qqresume\"\n                    },\n                    customKeys: function(fileId) {\n                        return [];\n                    }\n                },\n                formatFileName: function(fileOrBlobName) {\n                    return fileOrBlobName;\n                },\n                text: {\n                    defaultResponseError: \"Upload failure reason unknown\",\n                    fileInputTitle: \"file input\",\n                    sizeSymbols: [ \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" ]\n                },\n                deleteFile: {\n                    enabled: false,\n                    method: \"DELETE\",\n                    endpoint: \"/server/upload\",\n                    customHeaders: {},\n                    params: {}\n                },\n                cors: {\n                    expected: false,\n                    sendCredentials: false,\n                    allowXdr: false\n                },\n                blobs: {\n                    defaultName: \"misc_data\"\n                },\n                paste: {\n                    targetElement: null,\n                    defaultName: \"pasted_image\"\n                },\n                camera: {\n                    ios: false,\n                    button: null\n                },\n                extraButtons: [],\n                session: {\n                    endpoint: null,\n                    params: {},\n                    customHeaders: {},\n                    refreshOnReset: true\n                },\n                form: {\n                    element: \"qq-form\",\n                    autoUpload: false,\n                    interceptSubmit: true\n                },\n                scaling: {\n                    customResizer: null,\n                    sendOriginal: true,\n                    orient: true,\n                    defaultType: null,\n                    defaultQuality: 80,\n                    failureText: \"Failed to scale\",\n                    includeExif: false,\n                    sizes: []\n                },\n                workarounds: {\n                    iosEmptyVideos: true,\n                    ios8SafariUploads: true,\n                    ios8BrowserCrash: false\n                }\n            };\n            qq.extend(this._options, o, true);\n            this._buttons = [];\n            this._extraButtonSpecs = {};\n            this._buttonIdsForFileIds = [];\n            this._wrapCallbacks();\n            this._disposeSupport = new qq.DisposeSupport();\n            this._storedIds = [];\n            this._autoRetries = [];\n            this._retryTimeouts = [];\n            this._preventRetries = [];\n            this._thumbnailUrls = [];\n            this._netUploadedOrQueued = 0;\n            this._netUploaded = 0;\n            this._uploadData = this._createUploadDataTracker();\n            this._initFormSupportAndParams();\n            this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n            this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n            this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n            this._endpointStore = this._createStore(this._options.request.endpoint);\n            this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n            this._handler = this._createUploadHandler();\n            this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n            if (this._options.button) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._options.button,\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._generateExtraButtonSpecs();\n            this._handleCameraAccess();\n            if (this._options.paste.targetElement) {\n                if (qq.PasteSupport) {\n                    this._pasteHandler = this._createPasteHandler();\n                } else {\n                    this.log(\"Paste support module not found\", \"error\");\n                }\n            }\n            this._options.warnBeforeUnload && this._preventLeaveInProgress();\n            this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n            this._refreshSessionData();\n            this._succeededSinceLastAllComplete = [];\n            this._failedSinceLastAllComplete = [];\n            this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n            if (this._scaler.enabled) {\n                this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n            }\n            if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n                this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(id) {\n                    var entry = self._uploadData.retrieve({\n                        id: id\n                    });\n                    return entry && entry.size || 0;\n                });\n            }\n            this._currentItemLimit = this._options.validation.itemLimit;\n            this._customResumeDataStore = this._createStore();\n        };\n        qq.FineUploaderBasic.prototype = qq.basePublicApi;\n        qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi);\n    })();\n    qq.AjaxRequester = function(o) {\n        \"use strict\";\n        var log, shouldParamsBeInQueryString, queue = [], requestData = {}, options = {\n            acceptHeader: null,\n            validMethods: [ \"PATCH\", \"POST\", \"PUT\" ],\n            method: \"POST\",\n            contentType: \"application/x-www-form-urlencoded\",\n            maxConnections: 3,\n            customHeaders: {},\n            endpointStore: {},\n            paramsStore: {},\n            mandatedParams: {},\n            allowXRequestedWithAndCacheControl: true,\n            successfulResponseCodes: {\n                DELETE: [ 200, 202, 204 ],\n                PATCH: [ 200, 201, 202, 203, 204 ],\n                POST: [ 200, 201, 202, 203, 204 ],\n                PUT: [ 200, 201, 202, 203, 204 ],\n                GET: [ 200 ]\n            },\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onSend: function(id) {},\n            onComplete: function(id, xhrOrXdr, isError) {},\n            onProgress: null\n        };\n        qq.extend(options, o);\n        log = options.log;\n        if (qq.indexOf(options.validMethods, options.method) < 0) {\n            throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n        }\n        function isSimpleMethod() {\n            return qq.indexOf([ \"GET\", \"POST\", \"HEAD\" ], options.method) >= 0;\n        }\n        function containsNonSimpleHeaders(headers) {\n            var containsNonSimple = false;\n            qq.each(containsNonSimple, function(idx, header) {\n                if (qq.indexOf([ \"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\" ], header) < 0) {\n                    containsNonSimple = true;\n                    return false;\n                }\n            });\n            return containsNonSimple;\n        }\n        function isXdr(xhr) {\n            return options.cors.expected && xhr.withCredentials === undefined;\n        }\n        function getCorsAjaxTransport() {\n            var xhrOrXdr;\n            if (window.XMLHttpRequest || window.ActiveXObject) {\n                xhrOrXdr = qq.createXhrInstance();\n                if (xhrOrXdr.withCredentials === undefined) {\n                    xhrOrXdr = new XDomainRequest();\n                    xhrOrXdr.onload = function() {};\n                    xhrOrXdr.onerror = function() {};\n                    xhrOrXdr.ontimeout = function() {};\n                    xhrOrXdr.onprogress = function() {};\n                }\n            }\n            return xhrOrXdr;\n        }\n        function getXhrOrXdr(id, suppliedXhr) {\n            var xhrOrXdr = requestData[id] && requestData[id].xhr;\n            if (!xhrOrXdr) {\n                if (suppliedXhr) {\n                    xhrOrXdr = suppliedXhr;\n                } else {\n                    if (options.cors.expected) {\n                        xhrOrXdr = getCorsAjaxTransport();\n                    } else {\n                        xhrOrXdr = qq.createXhrInstance();\n                    }\n                }\n                requestData[id].xhr = xhrOrXdr;\n            }\n            return xhrOrXdr;\n        }\n        function dequeue(id) {\n            var i = qq.indexOf(queue, id), max = options.maxConnections, nextId;\n            delete requestData[id];\n            queue.splice(i, 1);\n            if (queue.length >= max && i < max) {\n                nextId = queue[max - 1];\n                sendRequest(nextId);\n            }\n        }\n        function onComplete(id, xdrError) {\n            var xhr = getXhrOrXdr(id), method = options.method, isError = xdrError === true;\n            dequeue(id);\n            if (isError) {\n                log(method + \" request for \" + id + \" has failed\", \"error\");\n            } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n                isError = true;\n                log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n            }\n            options.onComplete(id, xhr, isError);\n        }\n        function getParams(id) {\n            var onDemandParams = requestData[id].additionalParams, mandatedParams = options.mandatedParams, params;\n            if (options.paramsStore.get) {\n                params = options.paramsStore.get(id);\n            }\n            if (onDemandParams) {\n                qq.each(onDemandParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            if (mandatedParams) {\n                qq.each(mandatedParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            return params;\n        }\n        function sendRequest(id, optXhr) {\n            var xhr = getXhrOrXdr(id, optXhr), method = options.method, params = getParams(id), payload = requestData[id].payload, url;\n            options.onSend(id);\n            url = createUrl(id, params, requestData[id].additionalQueryParams);\n            if (isXdr(xhr)) {\n                xhr.onload = getXdrLoadHandler(id);\n                xhr.onerror = getXdrErrorHandler(id);\n            } else {\n                xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n            }\n            registerForUploadProgress(id);\n            xhr.open(method, url, true);\n            if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n                xhr.withCredentials = true;\n            }\n            setHeaders(id);\n            log(\"Sending \" + method + \" request for \" + id);\n            if (payload) {\n                xhr.send(payload);\n            } else if (shouldParamsBeInQueryString || !params) {\n                xhr.send();\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n                xhr.send(qq.obj2url(params, \"\"));\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n                xhr.send(JSON.stringify(params));\n            } else {\n                xhr.send(params);\n            }\n            return xhr;\n        }\n        function createUrl(id, params, additionalQueryParams) {\n            var endpoint = options.endpointStore.get(id), addToPath = requestData[id].addToPath;\n            if (addToPath != undefined) {\n                endpoint += \"/\" + addToPath;\n            }\n            if (shouldParamsBeInQueryString && params) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            if (additionalQueryParams) {\n                endpoint = qq.obj2url(additionalQueryParams, endpoint);\n            }\n            return endpoint;\n        }\n        function getXhrReadyStateChangeHandler(id) {\n            return function() {\n                if (getXhrOrXdr(id).readyState === 4) {\n                    onComplete(id);\n                }\n            };\n        }\n        function registerForUploadProgress(id) {\n            var onProgress = options.onProgress;\n            if (onProgress) {\n                getXhrOrXdr(id).upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        onProgress(id, e.loaded, e.total);\n                    }\n                };\n            }\n        }\n        function getXdrLoadHandler(id) {\n            return function() {\n                onComplete(id);\n            };\n        }\n        function getXdrErrorHandler(id) {\n            return function() {\n                onComplete(id, true);\n            };\n        }\n        function setHeaders(id) {\n            var xhr = getXhrOrXdr(id), customHeaders = options.customHeaders, onDemandHeaders = requestData[id].additionalHeaders || {}, method = options.method, allHeaders = {};\n            if (!isXdr(xhr)) {\n                options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n                if (options.allowXRequestedWithAndCacheControl) {\n                    if (!options.cors.expected || (!isSimpleMethod() || containsNonSimpleHeaders(customHeaders))) {\n                        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                    }\n                }\n                if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n                    xhr.setRequestHeader(\"Content-Type\", options.contentType);\n                }\n                qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n                qq.extend(allHeaders, onDemandHeaders);\n                qq.each(allHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        }\n        function isResponseSuccessful(responseCode) {\n            return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n        }\n        function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n            requestData[id] = {\n                addToPath: addToPath,\n                additionalParams: additionalParams,\n                additionalQueryParams: additionalQueryParams,\n                additionalHeaders: additionalHeaders,\n                payload: payload\n            };\n            var len = queue.push(id);\n            if (len <= options.maxConnections) {\n                return sendRequest(id, optXhr);\n            }\n        }\n        shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n        qq.extend(this, {\n            initTransport: function(id) {\n                var path, params, headers, payload, cacheBuster, additionalQueryParams;\n                return {\n                    withPath: function(appendToPath) {\n                        path = appendToPath;\n                        return this;\n                    },\n                    withParams: function(additionalParams) {\n                        params = additionalParams;\n                        return this;\n                    },\n                    withQueryParams: function(_additionalQueryParams_) {\n                        additionalQueryParams = _additionalQueryParams_;\n                        return this;\n                    },\n                    withHeaders: function(additionalHeaders) {\n                        headers = additionalHeaders;\n                        return this;\n                    },\n                    withPayload: function(thePayload) {\n                        payload = thePayload;\n                        return this;\n                    },\n                    withCacheBuster: function() {\n                        cacheBuster = true;\n                        return this;\n                    },\n                    send: function(optXhr) {\n                        if (cacheBuster && qq.indexOf([ \"GET\", \"DELETE\" ], options.method) >= 0) {\n                            params.qqtimestamp = new Date().getTime();\n                        }\n                        return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n                    }\n                };\n            },\n            canceled: function(id) {\n                dequeue(id);\n            }\n        });\n    };\n    qq.UploadHandler = function(spec) {\n        \"use strict\";\n        var proxy = spec.proxy, fileState = {}, onCancel = proxy.onCancel, getName = proxy.getName;\n        qq.extend(this, {\n            add: function(id, fileItem) {\n                fileState[id] = fileItem;\n                fileState[id].temp = {};\n            },\n            cancel: function(id) {\n                var self = this, cancelFinalizationEffort = new qq.Promise(), onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n                onCancelRetVal.then(function() {\n                    if (self.isValid(id)) {\n                        fileState[id].canceled = true;\n                        self.expunge(id);\n                    }\n                    cancelFinalizationEffort.success();\n                });\n            },\n            expunge: function(id) {\n                delete fileState[id];\n            },\n            getThirdPartyFileId: function(id) {\n                return fileState[id].key;\n            },\n            isValid: function(id) {\n                return fileState[id] !== undefined;\n            },\n            reset: function() {\n                fileState = {};\n            },\n            _getFileState: function(id) {\n                return fileState[id];\n            },\n            _setThirdPartyFileId: function(id, thirdPartyFileId) {\n                fileState[id].key = thirdPartyFileId;\n            },\n            _wasCanceled: function(id) {\n                return !!fileState[id].canceled;\n            }\n        });\n    };\n    qq.UploadHandlerController = function(o, namespace) {\n        \"use strict\";\n        var controller = this, chunkingPossible = false, concurrentChunkingPossible = false, chunking, preventRetryResponse, log, handler, options = {\n            paramsStore: {},\n            maxConnections: 3,\n            chunking: {\n                enabled: false,\n                multiple: {\n                    enabled: false\n                }\n            },\n            log: function(str, level) {},\n            onProgress: function(id, fileName, loaded, total) {},\n            onComplete: function(id, fileName, response, xhr) {},\n            onCancel: function(id, fileName) {},\n            onUploadPrep: function(id) {},\n            onUpload: function(id, fileName) {},\n            onUploadChunk: function(id, fileName, chunkData) {},\n            onUploadChunkSuccess: function(id, chunkData, response, xhr) {},\n            onAutoRetry: function(id, fileName, response, xhr) {},\n            onResume: function(id, fileName, chunkData, customResumeData) {},\n            onUuidChanged: function(id, newUuid) {},\n            getName: function(id) {},\n            setSize: function(id, newSize) {},\n            isQueued: function(id) {},\n            getIdsInProxyGroup: function(id) {},\n            getIdsInBatch: function(id) {},\n            isInProgress: function(id) {}\n        }, chunked = {\n            done: function(id, chunkIdx, response, xhr) {\n                var chunkData = handler._getChunkData(id, chunkIdx);\n                handler._getFileState(id).attemptingResume = false;\n                delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n                handler._getFileState(id).loaded += chunkData.size;\n                options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n            },\n            finalize: function(id) {\n                var size = options.getSize(id), name = options.getName(id);\n                log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n                handler.finalizeChunks(id).then(function(response, xhr) {\n                    log(\"Finalize successful for \" + id);\n                    var normaizedResponse = upload.normalizeResponse(response, true);\n                    options.onProgress(id, name, size, size);\n                    handler._maybeDeletePersistedChunkData(id);\n                    upload.cleanup(id, normaizedResponse, xhr);\n                }, function(response, xhr) {\n                    var normalizedResponse = upload.normalizeResponse(response, false);\n                    log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n                    if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n                        chunked.reset(id);\n                    }\n                    if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n                        upload.cleanup(id, normalizedResponse, xhr);\n                    }\n                });\n            },\n            handleFailure: function(chunkIdx, id, response, xhr) {\n                var name = options.getName(id);\n                log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n                handler.clearCachedChunk(id, chunkIdx);\n                var responseToReport = upload.normalizeResponse(response, false), inProgressIdx;\n                if (responseToReport.reset) {\n                    chunked.reset(id);\n                } else {\n                    var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n                    inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n                    if (inProgressIdx >= 0) {\n                        handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n                        handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n                    }\n                }\n                if (!handler._getFileState(id).temp.ignoreFailure) {\n                    if (concurrentChunkingPossible) {\n                        handler._getFileState(id).temp.ignoreFailure = true;\n                        log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n                        qq.each(handler._getXhrs(id), function(ckid, ckXhr) {\n                            log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                            ckXhr.abort();\n                            ckXhr._cancelled = true;\n                        });\n                        handler.moveInProgressToRemaining(id);\n                        connectionManager.free(id, true);\n                    }\n                    if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n                        upload.cleanup(id, responseToReport, xhr);\n                    }\n                }\n            },\n            hasMoreParts: function(id) {\n                return !!handler._getFileState(id).chunking.remaining.length;\n            },\n            nextPart: function(id) {\n                var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n                if (nextIdx >= handler._getTotalChunks(id)) {\n                    nextIdx = null;\n                }\n                return nextIdx;\n            },\n            reset: function(id) {\n                log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n                handler._maybeDeletePersistedChunkData(id);\n                handler.reevaluateChunking(id);\n                handler._getFileState(id).loaded = 0;\n                handler._getFileState(id).attemptingResume = false;\n            },\n            sendNext: function(id) {\n                var size = options.getSize(id), name = options.getName(id), chunkIdx = chunked.nextPart(id), chunkData = handler._getChunkData(id, chunkIdx), fileState = handler._getFileState(id), resuming = fileState.attemptingResume, inProgressChunks = fileState.chunking.inProgress || [];\n                if (fileState.loaded == null) {\n                    fileState.loaded = 0;\n                }\n                if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n                    chunked.reset(id);\n                    chunkIdx = chunked.nextPart(id);\n                    chunkData = handler._getChunkData(id, chunkIdx);\n                    resuming = false;\n                }\n                if (chunkIdx == null && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                } else {\n                    inProgressChunks.push(chunkIdx);\n                    handler._getFileState(id).chunking.inProgress = inProgressChunks;\n                    if (concurrentChunkingPossible) {\n                        connectionManager.open(id, chunkIdx);\n                    }\n                    if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n                        chunked.sendNext(id);\n                    }\n                    if (chunkData.blob.size === 0) {\n                        log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n                        chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n                    }\n                    var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n                    onUploadChunkPromise.then(function(requestOverrides) {\n                        if (!options.isInProgress(id)) {\n                            log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n                        } else {\n                            log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                            var uploadChunkData = {\n                                chunkIdx: chunkIdx,\n                                id: id,\n                                overrides: requestOverrides,\n                                resuming: resuming\n                            };\n                            handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                                log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                                handler.clearCachedChunk(id, chunkIdx);\n                                var inProgressChunks = handler._getFileState(id).chunking.inProgress || [], responseToReport = upload.normalizeResponse(response, true), inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                                log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                                chunked.done(id, chunkIdx, responseToReport, xhr);\n                                if (inProgressChunkIdx >= 0) {\n                                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                                }\n                                handler._maybePersistChunkedState(id);\n                                if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                                    chunked.finalize(id);\n                                } else if (chunked.hasMoreParts(id)) {\n                                    chunked.sendNext(id);\n                                } else {\n                                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                                }\n                            }, function failure(response, xhr) {\n                                chunked.handleFailure(chunkIdx, id, response, xhr);\n                            }).done(function() {\n                                handler.clearXhr(id, chunkIdx);\n                            });\n                        }\n                    }, function(error) {\n                        chunked.handleFailure(chunkIdx, id, error, null);\n                    });\n                }\n            }\n        }, connectionManager = {\n            _open: [],\n            _openChunks: {},\n            _waiting: [],\n            available: function() {\n                var max = options.maxConnections, openChunkEntriesCount = 0, openChunksCount = 0;\n                qq.each(connectionManager._openChunks, function(fileId, openChunkIndexes) {\n                    openChunkEntriesCount++;\n                    openChunksCount += openChunkIndexes.length;\n                });\n                return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n            },\n            free: function(id, dontAllowNext) {\n                var allowNext = !dontAllowNext, waitingIndex = qq.indexOf(connectionManager._waiting, id), connectionsIndex = qq.indexOf(connectionManager._open, id), nextId;\n                delete connectionManager._openChunks[id];\n                if (upload.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n                    log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n                    delete handler._getFileState(id).file;\n                }\n                if (waitingIndex >= 0) {\n                    connectionManager._waiting.splice(waitingIndex, 1);\n                } else if (allowNext && connectionsIndex >= 0) {\n                    connectionManager._open.splice(connectionsIndex, 1);\n                    nextId = connectionManager._waiting.shift();\n                    if (nextId >= 0) {\n                        connectionManager._open.push(nextId);\n                        upload.start(nextId);\n                    }\n                }\n            },\n            getWaitingOrConnected: function() {\n                var waitingOrConnected = [];\n                qq.each(connectionManager._openChunks, function(fileId, chunks) {\n                    if (chunks && chunks.length) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                qq.each(connectionManager._open, function(idx, fileId) {\n                    if (!connectionManager._openChunks[fileId]) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n                return waitingOrConnected;\n            },\n            isUsingConnection: function(id) {\n                return qq.indexOf(connectionManager._open, id) >= 0;\n            },\n            open: function(id, chunkIdx) {\n                if (chunkIdx == null) {\n                    connectionManager._waiting.push(id);\n                }\n                if (connectionManager.available()) {\n                    if (chunkIdx == null) {\n                        connectionManager._waiting.pop();\n                        connectionManager._open.push(id);\n                    } else {\n                        (function() {\n                            var openChunksEntry = connectionManager._openChunks[id] || [];\n                            openChunksEntry.push(chunkIdx);\n                            connectionManager._openChunks[id] = openChunksEntry;\n                        })();\n                    }\n                    return true;\n                }\n                return false;\n            },\n            reset: function() {\n                connectionManager._waiting = [];\n                connectionManager._open = [];\n            }\n        }, simple = {\n            send: function(id, name) {\n                var fileState = handler._getFileState(id);\n                if (!fileState) {\n                    log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n                    return;\n                }\n                fileState.loaded = 0;\n                log(\"Sending simple upload request for \" + id);\n                handler.uploadFile(id).then(function(response, optXhr) {\n                    log(\"Simple upload request succeeded for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, true), size = options.getSize(id);\n                    options.onProgress(id, name, size, size);\n                    upload.maybeNewUuid(id, responseToReport);\n                    upload.cleanup(id, responseToReport, optXhr);\n                }, function(response, optXhr) {\n                    log(\"Simple upload request failed for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, false);\n                    if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n                        upload.cleanup(id, responseToReport, optXhr);\n                    }\n                });\n            }\n        }, upload = {\n            cancel: function(id) {\n                log(\"Cancelling \" + id);\n                options.paramsStore.remove(id);\n                connectionManager.free(id);\n            },\n            cleanup: function(id, response, optXhr) {\n                var name = options.getName(id);\n                options.onComplete(id, name, response, optXhr);\n                if (handler._getFileState(id)) {\n                    handler._clearXhrs && handler._clearXhrs(id);\n                }\n                connectionManager.free(id);\n            },\n            getProxyOrBlob: function(id) {\n                return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n            },\n            initHandler: function() {\n                var handlerType = namespace ? qq[namespace] : qq.traditional, handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n                handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n                    getCustomResumeData: options.getCustomResumeData,\n                    getDataByUuid: options.getDataByUuid,\n                    getName: options.getName,\n                    getSize: options.getSize,\n                    getUuid: options.getUuid,\n                    log: log,\n                    onCancel: options.onCancel,\n                    onProgress: options.onProgress,\n                    onUuidChanged: options.onUuidChanged,\n                    onFinalizing: function(id) {\n                        options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n                    }\n                });\n                if (handler._removeExpiredChunkingRecords) {\n                    handler._removeExpiredChunkingRecords();\n                }\n            },\n            isDeferredEligibleForUpload: function(id) {\n                return options.isQueued(id);\n            },\n            maybeDefer: function(id, blob) {\n                if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n                    options.onUploadPrep(id);\n                    log(\"Attempting to generate a blob on-demand for \" + id);\n                    blob.create().then(function(generatedBlob) {\n                        log(\"Generated an on-demand blob for \" + id);\n                        handler.updateBlob(id, generatedBlob);\n                        options.setSize(id, generatedBlob.size);\n                        handler.reevaluateChunking(id);\n                        upload.maybeSendDeferredFiles(id);\n                    }, function(errorMessage) {\n                        var errorResponse = {};\n                        if (errorMessage) {\n                            errorResponse.error = errorMessage;\n                        }\n                        log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n                        options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n                        upload.maybeSendDeferredFiles(id);\n                        connectionManager.free(id);\n                    });\n                } else {\n                    return upload.maybeSendDeferredFiles(id);\n                }\n                return false;\n            },\n            maybeSendDeferredFiles: function(id) {\n                var idsInGroup = options.getIdsInProxyGroup(id), uploadedThisId = false;\n                if (idsInGroup && idsInGroup.length) {\n                    log(\"Maybe ready to upload proxy group file \" + id);\n                    qq.each(idsInGroup, function(idx, idInGroup) {\n                        if (upload.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                            uploadedThisId = idInGroup === id;\n                            upload.now(idInGroup);\n                        } else if (upload.isDeferredEligibleForUpload(idInGroup)) {\n                            return false;\n                        }\n                    });\n                } else {\n                    uploadedThisId = true;\n                    upload.now(id);\n                }\n                return uploadedThisId;\n            },\n            maybeNewUuid: function(id, response) {\n                if (response.newUuid !== undefined) {\n                    options.onUuidChanged(id, response.newUuid);\n                }\n            },\n            normalizeResponse: function(originalResponse, successful) {\n                var response = originalResponse;\n                if (!qq.isObject(originalResponse)) {\n                    response = {};\n                    if (qq.isString(originalResponse) && !successful) {\n                        response.error = originalResponse;\n                    }\n                }\n                response.success = successful;\n                return response;\n            },\n            now: function(id) {\n                var name = options.getName(id);\n                if (!controller.isValid(id)) {\n                    throw new qq.Error(id + \" is not a valid file ID to upload!\");\n                }\n                options.onUpload(id, name).then(function(response) {\n                    if (response && response.pause) {\n                        options.setStatus(id, qq.status.PAUSED);\n                        handler.pause(id);\n                        connectionManager.free(id);\n                    } else {\n                        if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                            chunked.sendNext(id);\n                        } else {\n                            simple.send(id, name);\n                        }\n                    }\n                }, function(error) {\n                    error = error || {};\n                    log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n                    if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n                        var response = upload.normalizeResponse(error.responseJSON, false);\n                        upload.cleanup(id, response);\n                    }\n                });\n            },\n            start: function(id) {\n                var blobToUpload = upload.getProxyOrBlob(id);\n                if (blobToUpload) {\n                    return upload.maybeDefer(id, blobToUpload);\n                } else {\n                    upload.now(id);\n                    return true;\n                }\n            }\n        };\n        qq.extend(this, {\n            add: function(id, file) {\n                handler.add.apply(this, arguments);\n            },\n            upload: function(id) {\n                if (connectionManager.open(id)) {\n                    return upload.start(id);\n                }\n                return false;\n            },\n            retry: function(id) {\n                if (concurrentChunkingPossible) {\n                    handler._getFileState(id).temp.ignoreFailure = false;\n                }\n                if (connectionManager.isUsingConnection(id)) {\n                    return upload.start(id);\n                } else {\n                    return controller.upload(id);\n                }\n            },\n            cancel: function(id) {\n                var cancelRetVal = handler.cancel(id);\n                if (qq.isGenericPromise(cancelRetVal)) {\n                    cancelRetVal.then(function() {\n                        upload.cancel(id);\n                    });\n                } else if (cancelRetVal !== false) {\n                    upload.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var waitingOrConnected = connectionManager.getWaitingOrConnected(), i;\n                if (waitingOrConnected.length) {\n                    for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n                        controller.cancel(waitingOrConnected[i]);\n                    }\n                }\n                connectionManager.reset();\n            },\n            getFile: function(id) {\n                if (handler.getProxy && handler.getProxy(id)) {\n                    return handler.getProxy(id).referenceBlob;\n                }\n                return handler.getFile && handler.getFile(id);\n            },\n            isProxied: function(id) {\n                return !!(handler.getProxy && handler.getProxy(id));\n            },\n            getInput: function(id) {\n                if (handler.getInput) {\n                    return handler.getInput(id);\n                }\n            },\n            reset: function() {\n                log(\"Resetting upload handler\");\n                controller.cancelAll();\n                connectionManager.reset();\n                handler.reset();\n            },\n            expunge: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.expunge(id);\n                }\n            },\n            isValid: function(id) {\n                return handler.isValid(id);\n            },\n            hasResumeRecord: function(id) {\n                var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n                if (key) {\n                    return !!localStorage.getItem(key);\n                }\n                return false;\n            },\n            getResumableFilesData: function() {\n                if (handler.getResumableFilesData) {\n                    return handler.getResumableFilesData();\n                }\n                return [];\n            },\n            getThirdPartyFileId: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.getThirdPartyFileId(id);\n                }\n            },\n            pause: function(id) {\n                if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n                    connectionManager.free(id);\n                    handler.moveInProgressToRemaining(id);\n                    return true;\n                }\n                return false;\n            },\n            isAttemptingResume: function(id) {\n                return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n            },\n            isResumable: function(id) {\n                return !!handler.isResumable && handler.isResumable(id);\n            }\n        });\n        qq.extend(options, o);\n        log = options.log;\n        chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n        concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n        preventRetryResponse = function() {\n            var response = {};\n            response[options.preventRetryParam] = true;\n            return response;\n        }();\n        upload.initHandler();\n    };\n    qq.WindowReceiveMessage = function(o) {\n        \"use strict\";\n        var options = {\n            log: function(message, level) {}\n        }, callbackWrapperDetachers = {};\n        qq.extend(options, o);\n        qq.extend(this, {\n            receiveMessage: function(id, callback) {\n                var onMessageCallbackWrapper = function(event) {\n                    callback(event.data);\n                };\n                if (window.postMessage) {\n                    callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n                } else {\n                    log(\"iframe message passing not supported in this browser!\", \"error\");\n                }\n            },\n            stopReceivingMessages: function(id) {\n                if (window.postMessage) {\n                    var detacher = callbackWrapperDetachers[id];\n                    if (detacher) {\n                        detacher();\n                    }\n                }\n            }\n        });\n    };\n    qq.FormUploadHandler = function(spec) {\n        \"use strict\";\n        var options = spec.options, handler = this, proxy = spec.proxy, formHandlerInstanceId = qq.getUniqueId(), onloadCallbacks = {}, detachLoadEvents = {}, postMessageCallbackTimers = {}, isCors = options.isCors, inputName = options.inputName, getUuid = proxy.getUuid, log = proxy.log, corsMessageReceiver = new qq.WindowReceiveMessage({\n            log: log\n        });\n        function expungeFile(id) {\n            delete detachLoadEvents[id];\n            if (isCors) {\n                clearTimeout(postMessageCallbackTimers[id]);\n                delete postMessageCallbackTimers[id];\n                corsMessageReceiver.stopReceivingMessages(id);\n            }\n            var iframe = document.getElementById(handler._getIframeName(id));\n            if (iframe) {\n                iframe.setAttribute(\"src\", \"javascript:false;\");\n                qq(iframe).remove();\n            }\n        }\n        function getFileIdForIframeName(iframeName) {\n            return iframeName.split(\"_\")[0];\n        }\n        function initIframeForUpload(name) {\n            var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n            iframe.setAttribute(\"id\", name);\n            iframe.style.display = \"none\";\n            document.body.appendChild(iframe);\n            return iframe;\n        }\n        function registerPostMessageCallback(iframe, callback) {\n            var iframeName = iframe.id, fileId = getFileIdForIframeName(iframeName), uuid = getUuid(fileId);\n            onloadCallbacks[uuid] = callback;\n            detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function() {\n                if (handler.getInput(fileId)) {\n                    log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n                    postMessageCallbackTimers[iframeName] = setTimeout(function() {\n                        var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n                        log(errorMessage, \"error\");\n                        callback({\n                            error: errorMessage\n                        });\n                    }, 1e3);\n                }\n            });\n            corsMessageReceiver.receiveMessage(iframeName, function(message) {\n                log(\"Received the following window message: '\" + message + \"'\");\n                var fileId = getFileIdForIframeName(iframeName), response = handler._parseJsonResponse(message), uuid = response.uuid, onloadCallback;\n                if (uuid && onloadCallbacks[uuid]) {\n                    log(\"Handling response for iframe name \" + iframeName);\n                    clearTimeout(postMessageCallbackTimers[iframeName]);\n                    delete postMessageCallbackTimers[iframeName];\n                    handler._detachLoadEvent(iframeName);\n                    onloadCallback = onloadCallbacks[uuid];\n                    delete onloadCallbacks[uuid];\n                    corsMessageReceiver.stopReceivingMessages(iframeName);\n                    onloadCallback(response);\n                } else if (!uuid) {\n                    log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n                }\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, fileInput) {\n                    super_.add(id, {\n                        input: fileInput\n                    });\n                    fileInput.setAttribute(\"name\", inputName);\n                    if (fileInput.parentNode) {\n                        qq(fileInput).remove();\n                    }\n                },\n                expunge: function(id) {\n                    expungeFile(id);\n                    super_.expunge(id);\n                },\n                isValid: function(id) {\n                    return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n                }\n            };\n        });\n        qq.extend(this, {\n            getInput: function(id) {\n                return handler._getFileState(id).input;\n            },\n            _attachLoadEvent: function(iframe, callback) {\n                var responseDescriptor;\n                if (isCors) {\n                    registerPostMessageCallback(iframe, callback);\n                } else {\n                    detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function() {\n                        log(\"Received response for \" + iframe.id);\n                        if (!iframe.parentNode) {\n                            return;\n                        }\n                        try {\n                            if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                                return;\n                            }\n                        } catch (error) {\n                            log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n                            responseDescriptor = {\n                                success: false\n                            };\n                        }\n                        callback(responseDescriptor);\n                    });\n                }\n            },\n            _createIframe: function(id) {\n                var iframeName = handler._getIframeName(id);\n                return initIframeForUpload(iframeName);\n            },\n            _detachLoadEvent: function(id) {\n                if (detachLoadEvents[id] !== undefined) {\n                    detachLoadEvents[id]();\n                    delete detachLoadEvents[id];\n                }\n            },\n            _getIframeName: function(fileId) {\n                return fileId + \"_\" + formHandlerInstanceId;\n            },\n            _initFormForUpload: function(spec) {\n                var method = spec.method, endpoint = spec.endpoint, params = spec.params, paramsInBody = spec.paramsInBody, targetName = spec.targetName, form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"), url = endpoint;\n                if (paramsInBody) {\n                    qq.obj2Inputs(params, form);\n                } else {\n                    url = qq.obj2url(params, endpoint);\n                }\n                form.setAttribute(\"action\", url);\n                form.setAttribute(\"target\", targetName);\n                form.style.display = \"none\";\n                document.body.appendChild(form);\n                return form;\n            },\n            _parseJsonResponse: function(innerHtmlOrMessage) {\n                var response = {};\n                try {\n                    response = qq.parseJson(innerHtmlOrMessage);\n                } catch (error) {\n                    log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n                }\n                return response;\n            }\n        });\n    };\n    qq.XhrUploadHandler = function(spec) {\n        \"use strict\";\n        var handler = this, namespace = spec.options.namespace, proxy = spec.proxy, chunking = spec.options.chunking, getChunkSize = function(id) {\n            var fileState = handler._getFileState(id);\n            if (fileState.chunkSize) {\n                return fileState.chunkSize;\n            } else {\n                var chunkSize = chunking.partSize;\n                if (qq.isFunction(chunkSize)) {\n                    chunkSize = chunkSize(id, getSize(id));\n                }\n                fileState.chunkSize = chunkSize;\n                return chunkSize;\n            }\n        }, resume = spec.options.resume, chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking, resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, getEndpoint = proxy.getEndpoint, getDataByUuid = proxy.getDataByUuid, onUuidChanged = proxy.onUuidChanged, onProgress = proxy.onProgress, log = proxy.log, getCustomResumeData = proxy.getCustomResumeData;\n        function abort(id) {\n            qq.each(handler._getXhrs(id), function(xhrId, xhr) {\n                var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n                xhr.onreadystatechange = null;\n                xhr.upload.onprogress = null;\n                xhr.abort();\n                ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, blobOrProxy) {\n                    if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n                        super_.add(id, {\n                            file: blobOrProxy\n                        });\n                    } else if (blobOrProxy instanceof qq.BlobProxy) {\n                        super_.add(id, {\n                            proxy: blobOrProxy\n                        });\n                    } else {\n                        throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n                    }\n                    handler._initTempState(id);\n                    resumeEnabled && handler._maybePrepareForResume(id);\n                },\n                expunge: function(id) {\n                    abort(id);\n                    handler._maybeDeletePersistedChunkData(id);\n                    handler._clearXhrs(id);\n                    super_.expunge(id);\n                }\n            };\n        });\n        qq.extend(this, {\n            clearCachedChunk: function(id, chunkIdx) {\n                var fileState = handler._getFileState(id);\n                if (fileState) {\n                    delete fileState.temp.cachedChunks[chunkIdx];\n                }\n            },\n            clearXhr: function(id, chunkIdx) {\n                var tempState = handler._getFileState(id).temp;\n                if (tempState.xhrs) {\n                    delete tempState.xhrs[chunkIdx];\n                }\n                if (tempState.ajaxRequesters) {\n                    delete tempState.ajaxRequesters[chunkIdx];\n                }\n            },\n            finalizeChunks: function(id, responseParser) {\n                var lastChunkIdx = handler._getTotalChunks(id) - 1, xhr = handler._getXhr(id, lastChunkIdx);\n                if (responseParser) {\n                    return new qq.Promise().success(responseParser(xhr), xhr);\n                }\n                return new qq.Promise().success({}, xhr);\n            },\n            getFile: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).file;\n            },\n            getProxy: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).proxy;\n            },\n            getResumableFilesData: function() {\n                var resumableFilesData = [];\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n                    var data = {\n                        name: uploadData.name,\n                        remaining: uploadData.chunking.remaining,\n                        size: uploadData.size,\n                        uuid: uploadData.uuid\n                    };\n                    if (uploadData.key) {\n                        data.key = uploadData.key;\n                    }\n                    if (uploadData.customResumeData) {\n                        data.customResumeData = uploadData.customResumeData;\n                    }\n                    resumableFilesData.push(data);\n                });\n                return resumableFilesData;\n            },\n            isAttemptingResume: function(id) {\n                return handler._getFileState(id).attemptingResume;\n            },\n            isResumable: function(id) {\n                return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n            },\n            moveInProgressToRemaining: function(id, optInProgress, optRemaining) {\n                var fileState = handler._getFileState(id) || {}, chunkingState = fileState.chunking || {}, inProgress = optInProgress || chunkingState.inProgress, remaining = optRemaining || chunkingState.remaining;\n                if (inProgress) {\n                    log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n                    inProgress.reverse();\n                    qq.each(inProgress, function(idx, chunkIdx) {\n                        remaining.unshift(chunkIdx);\n                    });\n                    inProgress.length = 0;\n                }\n            },\n            pause: function(id) {\n                if (handler.isValid(id)) {\n                    log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n                    handler._getFileState(id).paused = true;\n                    abort(id);\n                    return true;\n                }\n            },\n            reevaluateChunking: function(id) {\n                if (chunking && handler.isValid(id)) {\n                    var state = handler._getFileState(id), totalChunks, i;\n                    delete state.chunking;\n                    state.chunking = {};\n                    totalChunks = handler._getTotalChunks(id);\n                    if (totalChunks > 1 || chunking.mandatory) {\n                        state.chunking.enabled = true;\n                        state.chunking.parts = totalChunks;\n                        state.chunking.remaining = [];\n                        for (i = 0; i < totalChunks; i++) {\n                            state.chunking.remaining.push(i);\n                        }\n                        handler._initTempState(id);\n                    } else {\n                        state.chunking.enabled = false;\n                    }\n                }\n            },\n            updateBlob: function(id, newBlob) {\n                if (handler.isValid(id)) {\n                    handler._getFileState(id).file = newBlob;\n                }\n            },\n            _clearXhrs: function(id) {\n                var tempState = handler._getFileState(id).temp;\n                qq.each(tempState.ajaxRequesters, function(chunkId) {\n                    delete tempState.ajaxRequesters[chunkId];\n                });\n                qq.each(tempState.xhrs, function(chunkId) {\n                    delete tempState.xhrs[chunkId];\n                });\n            },\n            _createXhr: function(id, optChunkIdx) {\n                return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n            },\n            _getAjaxRequester: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n            },\n            _getChunkData: function(id, chunkIndex) {\n                var chunkSize = getChunkSize(id), fileSize = getSize(id), fileOrBlob = handler.getFile(id), startBytes = chunkSize * chunkIndex, endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize, totalChunks = handler._getTotalChunks(id), cachedChunks = this._getFileState(id).temp.cachedChunks, blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n                cachedChunks[chunkIndex] = blob;\n                return {\n                    part: chunkIndex,\n                    start: startBytes,\n                    end: endBytes,\n                    count: totalChunks,\n                    blob: blob,\n                    size: endBytes - startBytes\n                };\n            },\n            _getChunkDataForCallback: function(chunkData) {\n                return {\n                    partIndex: chunkData.part,\n                    startByte: chunkData.start + 1,\n                    endByte: chunkData.end,\n                    totalParts: chunkData.count\n                };\n            },\n            _getLocalStorageId: function(id) {\n                var formatVersion = \"5.0\", name = getName(id), size = getSize(id), chunkSize = getChunkSize(id), endpoint = getEndpoint(id), customKeys = resume.customKeys(id), localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n                customKeys.forEach(function(key) {\n                    localStorageId += \"-\" + key;\n                });\n                return localStorageId;\n            },\n            _getMimeType: function(id) {\n                return handler.getFile(id).type;\n            },\n            _getPersistableData: function(id) {\n                return handler._getFileState(id).chunking;\n            },\n            _getTotalChunks: function(id) {\n                if (chunking) {\n                    var fileSize = getSize(id), chunkSize = getChunkSize(id);\n                    return Math.ceil(fileSize / chunkSize);\n                }\n            },\n            _getXhr: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.xhrs[chunkIdx];\n            },\n            _getXhrs: function(id) {\n                return handler._getFileState(id).temp.xhrs;\n            },\n            _iterateResumeRecords: function(callback) {\n                if (resumeEnabled) {\n                    qq.each(localStorage, function(key, item) {\n                        if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n                            var uploadData = JSON.parse(item);\n                            callback(key, uploadData);\n                        }\n                    });\n                }\n            },\n            _initTempState: function(id) {\n                handler._getFileState(id).temp = {\n                    ajaxRequesters: {},\n                    chunkProgress: {},\n                    xhrs: {},\n                    cachedChunks: {}\n                };\n            },\n            _markNotResumable: function(id) {\n                handler._getFileState(id).notResumable = true;\n            },\n            _maybeDeletePersistedChunkData: function(id) {\n                var localStorageId;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    if (localStorageId && localStorage.getItem(localStorageId)) {\n                        localStorage.removeItem(localStorageId);\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _maybePrepareForResume: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && state.key === undefined) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = localStorage.getItem(localStorageId);\n                    if (persistedData) {\n                        persistedData = JSON.parse(persistedData);\n                        if (getDataByUuid(persistedData.uuid)) {\n                            handler._markNotResumable(id);\n                        } else {\n                            log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n                            onUuidChanged(id, persistedData.uuid);\n                            state.key = persistedData.key;\n                            state.chunking = persistedData.chunking;\n                            state.loaded = persistedData.loaded;\n                            state.customResumeData = persistedData.customResumeData;\n                            state.attemptingResume = true;\n                            handler.moveInProgressToRemaining(id);\n                        }\n                    }\n                }\n            },\n            _maybePersistChunkedState: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    var customResumeData = getCustomResumeData(id);\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = {\n                        name: getName(id),\n                        size: getSize(id),\n                        uuid: getUuid(id),\n                        key: state.key,\n                        chunking: state.chunking,\n                        loaded: state.loaded,\n                        lastUpdated: Date.now()\n                    };\n                    if (customResumeData) {\n                        persistedData.customResumeData = customResumeData;\n                    }\n                    try {\n                        localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n                    } catch (error) {\n                        log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n                    }\n                }\n            },\n            _registerProgressHandler: function(id, chunkIdx, chunkSize) {\n                var xhr = handler._getXhr(id, chunkIdx), name = getName(id), progressCalculator = {\n                    simple: function(loaded, total) {\n                        var fileSize = getSize(id);\n                        if (loaded === total) {\n                            onProgress(id, name, fileSize, fileSize);\n                        } else {\n                            onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n                        }\n                    },\n                    chunked: function(loaded, total) {\n                        var chunkProgress = handler._getFileState(id).temp.chunkProgress, totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded, loadedForRequest = loaded, totalForRequest = total, totalFileSize = getSize(id), estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize), totalLoadedForFile = totalSuccessfullyLoadedForFile;\n                        chunkProgress[chunkIdx] = estActualChunkLoaded;\n                        qq.each(chunkProgress, function(chunkIdx, chunkLoaded) {\n                            totalLoadedForFile += chunkLoaded;\n                        });\n                        onProgress(id, name, totalLoadedForFile, totalFileSize);\n                    }\n                };\n                xhr.upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        var type = chunkSize == null ? \"simple\" : \"chunked\";\n                        progressCalculator[type](e.loaded, e.total);\n                    }\n                };\n            },\n            _registerXhr: function(id, optChunkIdx, xhr, optAjaxRequester) {\n                var xhrsId = optChunkIdx == null ? -1 : optChunkIdx, tempState = handler._getFileState(id).temp;\n                tempState.xhrs = tempState.xhrs || {};\n                tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n                tempState.xhrs[xhrsId] = xhr;\n                if (optAjaxRequester) {\n                    tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n                }\n                return xhr;\n            },\n            _removeExpiredChunkingRecords: function() {\n                var expirationDays = resume.recordsExpireIn;\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    var expirationDate = new Date(uploadData.lastUpdated);\n                    expirationDate.setDate(expirationDate.getDate() + expirationDays);\n                    if (expirationDate.getTime() <= Date.now()) {\n                        log(\"Removing expired resume record with key \" + key);\n                        localStorage.removeItem(key);\n                    }\n                });\n            },\n            _shouldChunkThisFile: function(id) {\n                var state = handler._getFileState(id);\n                if (state) {\n                    if (!state.chunking) {\n                        handler.reevaluateChunking(id);\n                    }\n                    return state.chunking.enabled;\n                }\n            }\n        });\n    };\n    qq.DeleteFileAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            method: \"DELETE\",\n            uuidParamName: \"qquuid\",\n            endpointStore: {},\n            maxConnections: 3,\n            customHeaders: function(id) {\n                return {};\n            },\n            paramsStore: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onDelete: function(id) {},\n            onDeleteComplete: function(id, xhrOrXdr, isError) {}\n        };\n        qq.extend(options, o);\n        function getMandatedParams() {\n            if (options.method.toUpperCase() === \"POST\") {\n                return {\n                    _method: \"DELETE\"\n                };\n            }\n            return {};\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"POST\", \"DELETE\" ],\n            method: options.method,\n            endpointStore: options.endpointStore,\n            paramsStore: options.paramsStore,\n            mandatedParams: getMandatedParams(),\n            maxConnections: options.maxConnections,\n            customHeaders: function(id) {\n                return options.customHeaders.get(id);\n            },\n            log: options.log,\n            onSend: options.onDelete,\n            onComplete: options.onDeleteComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            sendDelete: function(id, uuid, additionalMandatedParams) {\n                var additionalOptions = additionalMandatedParams || {};\n                options.log(\"Submitting delete file request for \" + id);\n                if (options.method === \"DELETE\") {\n                    requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n                } else {\n                    additionalOptions[options.uuidParamName] = uuid;\n                    requester.initTransport(id).withParams(additionalOptions).send();\n                }\n            }\n        });\n    };\n    (function() {\n        function detectSubsampling(img) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, canvas = document.createElement(\"canvas\"), ctx;\n            if (iw * ih > 1024 * 1024) {\n                canvas.width = canvas.height = 1;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, -iw + 1, 0);\n                return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n            } else {\n                return false;\n            }\n        }\n        function detectVerticalSquash(img, iw, ih) {\n            var canvas = document.createElement(\"canvas\"), sy = 0, ey = ih, py = ih, ctx, data, alpha, ratio;\n            canvas.width = 1;\n            canvas.height = ih;\n            ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            data = ctx.getImageData(0, 0, 1, ih).data;\n            while (py > sy) {\n                alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n        function renderImageToDataURL(img, blob, options, doSquash) {\n            var canvas = document.createElement(\"canvas\"), mime = options.mime || \"image/jpeg\", promise = new qq.Promise();\n            renderImageToCanvas(img, blob, canvas, options, doSquash).then(function() {\n                promise.success(canvas.toDataURL(mime, options.quality || .8));\n            });\n            return promise;\n        }\n        function maybeCalculateDownsampledDimensions(spec) {\n            var maxPixels = 5241e3;\n            if (!qq.ios()) {\n                throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n            }\n            if (spec.origHeight * spec.origWidth > maxPixels) {\n                return {\n                    newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n                    newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n                };\n            }\n        }\n        function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, width = options.width, height = options.height, ctx = canvas.getContext(\"2d\"), promise = new qq.Promise(), modifiedDimensions;\n            ctx.save();\n            if (options.resize) {\n                return renderImageToCanvasWithCustomResizer({\n                    blob: blob,\n                    canvas: canvas,\n                    image: img,\n                    imageHeight: ih,\n                    imageWidth: iw,\n                    orientation: options.orientation,\n                    resize: options.resize,\n                    targetHeight: height,\n                    targetWidth: width\n                });\n            }\n            if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n                modifiedDimensions = maybeCalculateDownsampledDimensions({\n                    origWidth: width,\n                    origHeight: height\n                });\n                if (modifiedDimensions) {\n                    qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n                    width = modifiedDimensions.newWidth;\n                    height = modifiedDimensions.newHeight;\n                }\n            }\n            transformCoordinate(canvas, width, height, options.orientation);\n            if (qq.ios()) {\n                (function() {\n                    if (detectSubsampling(img)) {\n                        iw /= 2;\n                        ih /= 2;\n                    }\n                    var d = 1024, tmpCanvas = document.createElement(\"canvas\"), vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1, dw = Math.ceil(d * width / iw), dh = Math.ceil(d * height / ih / vertSquashRatio), sy = 0, dy = 0, tmpCtx, sx, dx;\n                    tmpCanvas.width = tmpCanvas.height = d;\n                    tmpCtx = tmpCanvas.getContext(\"2d\");\n                    while (sy < ih) {\n                        sx = 0;\n                        dx = 0;\n                        while (sx < iw) {\n                            tmpCtx.clearRect(0, 0, d, d);\n                            tmpCtx.drawImage(img, -sx, -sy);\n                            ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n                            sx += d;\n                            dx += dw;\n                        }\n                        sy += d;\n                        dy += dh;\n                    }\n                    ctx.restore();\n                    tmpCanvas = tmpCtx = null;\n                })();\n            } else {\n                ctx.drawImage(img, 0, 0, width, height);\n            }\n            canvas.qqImageRendered && canvas.qqImageRendered();\n            promise.success();\n            return promise;\n        }\n        function renderImageToCanvasWithCustomResizer(resizeInfo) {\n            var blob = resizeInfo.blob, image = resizeInfo.image, imageHeight = resizeInfo.imageHeight, imageWidth = resizeInfo.imageWidth, orientation = resizeInfo.orientation, promise = new qq.Promise(), resize = resizeInfo.resize, sourceCanvas = document.createElement(\"canvas\"), sourceCanvasContext = sourceCanvas.getContext(\"2d\"), targetCanvas = resizeInfo.canvas, targetHeight = resizeInfo.targetHeight, targetWidth = resizeInfo.targetWidth;\n            transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n            targetCanvas.height = targetHeight;\n            targetCanvas.width = targetWidth;\n            sourceCanvasContext.drawImage(image, 0, 0);\n            resize({\n                blob: blob,\n                height: targetHeight,\n                image: image,\n                sourceCanvas: sourceCanvas,\n                targetCanvas: targetCanvas,\n                width: targetWidth\n            }).then(function success() {\n                targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n                promise.success();\n            }, promise.failure);\n            return promise;\n        }\n        function transformCoordinate(canvas, width, height, orientation) {\n            switch (orientation) {\n              case 5:\n              case 6:\n              case 7:\n              case 8:\n                canvas.width = height;\n                canvas.height = width;\n                break;\n\n              default:\n                canvas.width = width;\n                canvas.height = height;\n            }\n            var ctx = canvas.getContext(\"2d\");\n            switch (orientation) {\n              case 2:\n                ctx.translate(width, 0);\n                ctx.scale(-1, 1);\n                break;\n\n              case 3:\n                ctx.translate(width, height);\n                ctx.rotate(Math.PI);\n                break;\n\n              case 4:\n                ctx.translate(0, height);\n                ctx.scale(1, -1);\n                break;\n\n              case 5:\n                ctx.rotate(.5 * Math.PI);\n                ctx.scale(1, -1);\n                break;\n\n              case 6:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(0, -height);\n                break;\n\n              case 7:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(width, -height);\n                ctx.scale(-1, 1);\n                break;\n\n              case 8:\n                ctx.rotate(-.5 * Math.PI);\n                ctx.translate(-width, 0);\n                break;\n\n              default:\n                break;\n            }\n        }\n        function MegaPixImage(srcImage, errorCallback) {\n            var self = this;\n            if (window.Blob && srcImage instanceof Blob) {\n                (function() {\n                    var img = new Image(), URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                    if (!URL) {\n                        throw Error(\"No createObjectURL function found to create blob url\");\n                    }\n                    img.src = URL.createObjectURL(srcImage);\n                    self.blob = srcImage;\n                    srcImage = img;\n                })();\n            }\n            if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n                srcImage.onload = function() {\n                    var listeners = self.imageLoadListeners;\n                    if (listeners) {\n                        self.imageLoadListeners = null;\n                        setTimeout(function() {\n                            for (var i = 0, len = listeners.length; i < len; i++) {\n                                listeners[i]();\n                            }\n                        }, 0);\n                    }\n                };\n                srcImage.onerror = errorCallback;\n                this.imageLoadListeners = [];\n            }\n            this.srcImage = srcImage;\n        }\n        MegaPixImage.prototype.render = function(target, options) {\n            options = options || {};\n            var self = this, imgWidth = this.srcImage.naturalWidth, imgHeight = this.srcImage.naturalHeight, width = options.width, height = options.height, maxWidth = options.maxWidth, maxHeight = options.maxHeight, doSquash = !this.blob || this.blob.type === \"image/jpeg\", tagName = target.tagName.toLowerCase(), opt;\n            if (this.imageLoadListeners) {\n                this.imageLoadListeners.push(function() {\n                    self.render(target, options);\n                });\n                return;\n            }\n            if (width && !height) {\n                height = imgHeight * width / imgWidth << 0;\n            } else if (height && !width) {\n                width = imgWidth * height / imgHeight << 0;\n            } else {\n                width = imgWidth;\n                height = imgHeight;\n            }\n            if (maxWidth && width > maxWidth) {\n                width = maxWidth;\n                height = imgHeight * width / imgWidth << 0;\n            }\n            if (maxHeight && height > maxHeight) {\n                height = maxHeight;\n                width = imgWidth * height / imgHeight << 0;\n            }\n            opt = {\n                width: width,\n                height: height\n            }, qq.each(options, function(optionsKey, optionsValue) {\n                opt[optionsKey] = optionsValue;\n            });\n            if (tagName === \"img\") {\n                (function() {\n                    var oldTargetSrc = target.src;\n                    renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function(dataUri) {\n                        target.src = dataUri;\n                        oldTargetSrc === target.src && target.onload();\n                    });\n                })();\n            } else if (tagName === \"canvas\") {\n                renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n            }\n            if (typeof this.onrender === \"function\") {\n                this.onrender(target);\n            }\n        };\n        qq.MegaPixImage = MegaPixImage;\n    })();\n    qq.ImageGenerator = function(log) {\n        \"use strict\";\n        function isImg(el) {\n            return el.tagName.toLowerCase() === \"img\";\n        }\n        function isCanvas(el) {\n            return el.tagName.toLowerCase() === \"canvas\";\n        }\n        function isImgCorsSupported() {\n            return new Image().crossOrigin !== undefined;\n        }\n        function isCanvasSupported() {\n            var canvas = document.createElement(\"canvas\");\n            return canvas.getContext && canvas.getContext(\"2d\");\n        }\n        function determineMimeOfFileName(nameWithPath) {\n            var pathSegments = nameWithPath.split(\"/\"), name = pathSegments[pathSegments.length - 1].split(\"?\")[0], extension = qq.getExtension(name);\n            extension = extension && extension.toLowerCase();\n            switch (extension) {\n              case \"jpeg\":\n              case \"jpg\":\n                return \"image/jpeg\";\n\n              case \"png\":\n                return \"image/png\";\n\n              case \"bmp\":\n                return \"image/bmp\";\n\n              case \"gif\":\n                return \"image/gif\";\n\n              case \"tiff\":\n              case \"tif\":\n                return \"image/tiff\";\n            }\n        }\n        function isCrossOrigin(url) {\n            var targetAnchor = document.createElement(\"a\"), targetProtocol, targetHostname, targetPort;\n            targetAnchor.href = url;\n            targetProtocol = targetAnchor.protocol;\n            targetPort = targetAnchor.port;\n            targetHostname = targetAnchor.hostname;\n            if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n                return true;\n            }\n            if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n                return true;\n            }\n            if (targetPort !== window.location.port && !qq.ie()) {\n                return true;\n            }\n            return false;\n        }\n        function registerImgLoadListeners(img, promise) {\n            img.onload = function() {\n                img.onload = null;\n                img.onerror = null;\n                promise.success(img);\n            };\n            img.onerror = function() {\n                img.onload = null;\n                img.onerror = null;\n                log(\"Problem drawing thumbnail!\", \"error\");\n                promise.failure(img, \"Problem drawing thumbnail!\");\n            };\n        }\n        function registerCanvasDrawImageListener(canvas, promise) {\n            canvas.qqImageRendered = function() {\n                promise.success(canvas);\n            };\n        }\n        function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n            var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n            if (isImg(imgOrCanvas)) {\n                registerImgLoadListeners(imgOrCanvas, promise);\n            } else if (isCanvas(imgOrCanvas)) {\n                registerCanvasDrawImageListener(imgOrCanvas, promise);\n            } else {\n                promise.failure(imgOrCanvas);\n                log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n            }\n            return registered;\n        }\n        function draw(fileOrBlob, container, options) {\n            var drawPreview = new qq.Promise(), identifier = new qq.Identify(fileOrBlob, log), maxSize = options.maxSize, orient = options.orient == null ? true : options.orient, megapixErrorHandler = function() {\n                container.onerror = null;\n                container.onload = null;\n                log(\"Could not render preview, file may be too large!\", \"error\");\n                drawPreview.failure(container, \"Browser cannot render image!\");\n            };\n            identifier.isPreviewable().then(function(mime) {\n                var dummyExif = {\n                    parse: function() {\n                        return new qq.Promise().success();\n                    }\n                }, exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif, mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n                if (registerThumbnailRenderedListener(container, drawPreview)) {\n                    exif.parse().then(function(exif) {\n                        var orientation = exif && exif.Orientation;\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            orientation: orientation,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    }, function(failureMsg) {\n                        log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    });\n                }\n            }, function() {\n                log(\"Not previewable\");\n                drawPreview.failure(container, \"Not previewable\");\n            });\n            return drawPreview;\n        }\n        function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n            var tempImg = new Image(), tempImgRender = new qq.Promise();\n            registerThumbnailRenderedListener(tempImg, tempImgRender);\n            if (isCrossOrigin(url)) {\n                tempImg.crossOrigin = \"anonymous\";\n            }\n            tempImg.src = url;\n            tempImgRender.then(function rendered() {\n                registerThumbnailRenderedListener(canvasOrImg, draw);\n                var mpImg = new qq.MegaPixImage(tempImg);\n                mpImg.render(canvasOrImg, {\n                    maxWidth: maxSize,\n                    maxHeight: maxSize,\n                    mime: determineMimeOfFileName(url),\n                    resize: customResizeFunction\n                });\n            }, draw.failure);\n        }\n        function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n            registerThumbnailRenderedListener(img, draw);\n            qq(img).css({\n                maxWidth: maxSize + \"px\",\n                maxHeight: maxSize + \"px\"\n            });\n            img.src = url;\n        }\n        function drawFromUrl(url, container, options) {\n            var draw = new qq.Promise(), scale = options.scale, maxSize = scale ? options.maxSize : null;\n            if (scale && isImg(container)) {\n                if (isCanvasSupported()) {\n                    if (isCrossOrigin(url) && !isImgCorsSupported()) {\n                        drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                    } else {\n                        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n                    }\n                } else {\n                    drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                }\n            } else if (isCanvas(container)) {\n                drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n            } else if (registerThumbnailRenderedListener(container, draw)) {\n                container.src = url;\n            }\n            return draw;\n        }\n        qq.extend(this, {\n            generate: function(fileBlobOrUrl, container, options) {\n                if (qq.isString(fileBlobOrUrl)) {\n                    log(\"Attempting to update thumbnail based on server response.\");\n                    return drawFromUrl(fileBlobOrUrl, container, options || {});\n                } else {\n                    log(\"Attempting to draw client-side image preview.\");\n                    return draw(fileBlobOrUrl, container, options || {});\n                }\n            }\n        });\n        this._testing = {};\n        this._testing.isImg = isImg;\n        this._testing.isCanvas = isCanvas;\n        this._testing.isCrossOrigin = isCrossOrigin;\n        this._testing.determineMimeOfFileName = determineMimeOfFileName;\n    };\n    qq.Exif = function(fileOrBlob, log) {\n        \"use strict\";\n        var TAG_IDS = [ 274 ], TAG_INFO = {\n            274: {\n                name: \"Orientation\",\n                bytes: 2\n            }\n        };\n        function parseLittleEndian(hex) {\n            var result = 0, pow = 0;\n            while (hex.length > 0) {\n                result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n                hex = hex.substring(2, hex.length);\n                pow += 8;\n            }\n            return result;\n        }\n        function seekToApp1(offset, promise) {\n            var theOffset = offset, thePromise = promise;\n            if (theOffset === undefined) {\n                theOffset = 2;\n                thePromise = new qq.Promise();\n            }\n            qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function(hex) {\n                var match = /^ffe([0-9])/.exec(hex), segmentLength;\n                if (match) {\n                    if (match[1] !== \"1\") {\n                        segmentLength = parseInt(hex.slice(4, 8), 16);\n                        seekToApp1(theOffset + segmentLength + 2, thePromise);\n                    } else {\n                        thePromise.success(theOffset);\n                    }\n                } else {\n                    thePromise.failure(\"No EXIF header to be found!\");\n                }\n            });\n            return thePromise;\n        }\n        function getApp1Offset() {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, 0, 6).then(function(hex) {\n                if (hex.indexOf(\"ffd8\") !== 0) {\n                    promise.failure(\"Not a valid JPEG!\");\n                } else {\n                    seekToApp1().then(function(offset) {\n                        promise.success(offset);\n                    }, function(error) {\n                        promise.failure(error);\n                    });\n                }\n            });\n            return promise;\n        }\n        function isLittleEndian(app1Start) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function(hex) {\n                promise.success(hex === \"4949\");\n            });\n            return promise;\n        }\n        function getDirEntryCount(app1Start, littleEndian) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function(hex) {\n                if (littleEndian) {\n                    return promise.success(parseLittleEndian(hex));\n                } else {\n                    promise.success(parseInt(hex, 16));\n                }\n            });\n            return promise;\n        }\n        function getIfd(app1Start, dirEntries) {\n            var offset = app1Start + 20, bytes = dirEntries * 12;\n            return qq.readBlobToHex(fileOrBlob, offset, bytes);\n        }\n        function getDirEntries(ifdHex) {\n            var entries = [], offset = 0;\n            while (offset + 24 <= ifdHex.length) {\n                entries.push(ifdHex.slice(offset, offset + 24));\n                offset += 24;\n            }\n            return entries;\n        }\n        function getTagValues(littleEndian, dirEntries) {\n            var TAG_VAL_OFFSET = 16, tagsToFind = qq.extend([], TAG_IDS), vals = {};\n            qq.each(dirEntries, function(idx, entry) {\n                var idHex = entry.slice(0, 4), id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16), tagsToFindIdx = tagsToFind.indexOf(id), tagValHex, tagName, tagValLength;\n                if (tagsToFindIdx >= 0) {\n                    tagName = TAG_INFO[id].name;\n                    tagValLength = TAG_INFO[id].bytes;\n                    tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n                    vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n                    tagsToFind.splice(tagsToFindIdx, 1);\n                }\n                if (tagsToFind.length === 0) {\n                    return false;\n                }\n            });\n            return vals;\n        }\n        qq.extend(this, {\n            parse: function() {\n                var parser = new qq.Promise(), onParseFailure = function(message) {\n                    log(qq.format(\"EXIF header parse failed: '{}' \", message));\n                    parser.failure(message);\n                };\n                getApp1Offset().then(function(app1Offset) {\n                    log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n                    isLittleEndian(app1Offset).then(function(littleEndian) {\n                        log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n                        getDirEntryCount(app1Offset, littleEndian).then(function(dirEntryCount) {\n                            log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n                            getIfd(app1Offset, dirEntryCount).then(function(ifdHex) {\n                                var dirEntries = getDirEntries(ifdHex), tagValues = getTagValues(littleEndian, dirEntries);\n                                log(\"Successfully parsed some EXIF tags\");\n                                parser.success(tagValues);\n                            }, onParseFailure);\n                        }, onParseFailure);\n                    }, onParseFailure);\n                }, onParseFailure);\n                return parser;\n            }\n        });\n        this._testing = {};\n        this._testing.parseLittleEndian = parseLittleEndian;\n    };\n    qq.Identify = function(fileOrBlob, log) {\n        \"use strict\";\n        function isIdentifiable(magicBytes, questionableBytes) {\n            var identifiable = false, magicBytesEntries = [].concat(magicBytes);\n            qq.each(magicBytesEntries, function(idx, magicBytesArrayEntry) {\n                if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n                    identifiable = true;\n                    return false;\n                }\n            });\n            return identifiable;\n        }\n        qq.extend(this, {\n            isPreviewable: function() {\n                var self = this, identifier = new qq.Promise(), previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n                log(\"First pass: check type attribute of blob object.\");\n                if (this.isPreviewableSync()) {\n                    log(\"Second pass: check for magic bytes in file header.\");\n                    qq.readBlobToHex(fileOrBlob, 0, 4).then(function(hex) {\n                        qq.each(self.PREVIEWABLE_MIME_TYPES, function(mime, bytes) {\n                            if (isIdentifiable(bytes, hex)) {\n                                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                                    previewable = true;\n                                    identifier.success(mime);\n                                }\n                                return false;\n                            }\n                        });\n                        log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n                        if (!previewable) {\n                            identifier.failure();\n                        }\n                    }, function() {\n                        log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n                        identifier.failure();\n                    });\n                } else {\n                    identifier.failure();\n                }\n                return identifier;\n            },\n            isPreviewableSync: function() {\n                var fileMime = fileOrBlob.type, isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0, previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                if (isRecognizedImage) {\n                    if (fileMime === \"image/tiff\") {\n                        previewable = qq.supportedFeatures.tiffPreviews;\n                    } else {\n                        previewable = true;\n                    }\n                }\n                !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n                return previewable;\n            }\n        });\n    };\n    qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n        \"image/jpeg\": \"ffd8ff\",\n        \"image/gif\": \"474946\",\n        \"image/png\": \"89504e\",\n        \"image/bmp\": \"424d\",\n        \"image/tiff\": [ \"49492a00\", \"4d4d002a\" ]\n    };\n    qq.ImageValidation = function(blob, log) {\n        \"use strict\";\n        function hasNonZeroLimits(limits) {\n            var atLeastOne = false;\n            qq.each(limits, function(limit, value) {\n                if (value > 0) {\n                    atLeastOne = true;\n                    return false;\n                }\n            });\n            return atLeastOne;\n        }\n        function getWidthHeight() {\n            var sizeDetermination = new qq.Promise();\n            new qq.Identify(blob, log).isPreviewable().then(function() {\n                var image = new Image(), url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                if (url) {\n                    image.onerror = function() {\n                        log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n                        sizeDetermination.failure();\n                    };\n                    image.onload = function() {\n                        sizeDetermination.success({\n                            width: this.width,\n                            height: this.height\n                        });\n                    };\n                    image.src = url.createObjectURL(blob);\n                } else {\n                    log(\"No createObjectURL function available to generate image URL!\", \"error\");\n                    sizeDetermination.failure();\n                }\n            }, sizeDetermination.failure);\n            return sizeDetermination;\n        }\n        function getFailingLimit(limits, dimensions) {\n            var failingLimit;\n            qq.each(limits, function(limitName, limitValue) {\n                if (limitValue > 0) {\n                    var limitMatcher = /(max|min)(Width|Height)/.exec(limitName), dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1), actualValue = dimensions[dimensionPropName];\n                    switch (limitMatcher[1]) {\n                      case \"min\":\n                        if (actualValue < limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n\n                      case \"max\":\n                        if (actualValue > limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n                    }\n                }\n            });\n            return failingLimit;\n        }\n        this.validate = function(limits) {\n            var validationEffort = new qq.Promise();\n            log(\"Attempting to validate image.\");\n            if (hasNonZeroLimits(limits)) {\n                getWidthHeight().then(function(dimensions) {\n                    var failingLimit = getFailingLimit(limits, dimensions);\n                    if (failingLimit) {\n                        validationEffort.failure(failingLimit);\n                    } else {\n                        validationEffort.success();\n                    }\n                }, validationEffort.success);\n            } else {\n                validationEffort.success();\n            }\n            return validationEffort;\n        };\n    };\n    qq.Session = function(spec) {\n        \"use strict\";\n        var options = {\n            endpoint: null,\n            params: {},\n            customHeaders: {},\n            cors: {},\n            addFileRecord: function(sessionData) {},\n            log: function(message, level) {}\n        };\n        qq.extend(options, spec, true);\n        function isJsonResponseValid(response) {\n            if (qq.isArray(response)) {\n                return true;\n            }\n            options.log(\"Session response is not an array.\", \"error\");\n        }\n        function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n            var someItemsIgnored = false;\n            success = success && isJsonResponseValid(fileItems);\n            if (success) {\n                qq.each(fileItems, function(idx, fileItem) {\n                    if (fileItem.uuid == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n                    } else if (fileItem.name == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n                    } else {\n                        try {\n                            options.addFileRecord(fileItem);\n                            return true;\n                        } catch (err) {\n                            someItemsIgnored = true;\n                            options.log(err.message, \"error\");\n                        }\n                    }\n                    return false;\n                });\n            }\n            promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n        }\n        this.refresh = function() {\n            var refreshEffort = new qq.Promise(), refreshCompleteCallback = function(response, success, xhrOrXdr) {\n                handleFileItems(response, success, xhrOrXdr, refreshEffort);\n            }, requesterOptions = qq.extend({}, options), requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n                onComplete: refreshCompleteCallback\n            }));\n            requester.queryServer();\n            return refreshEffort;\n        };\n    };\n    qq.SessionAjaxRequester = function(spec) {\n        \"use strict\";\n        var requester, options = {\n            endpoint: null,\n            customHeaders: {},\n            params: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            onComplete: function(response, success, xhrOrXdr) {},\n            log: function(str, level) {}\n        };\n        qq.extend(options, spec);\n        function onComplete(id, xhrOrXdr, isError) {\n            var response = null;\n            if (xhrOrXdr.responseText != null) {\n                try {\n                    response = qq.parseJson(xhrOrXdr.responseText);\n                } catch (err) {\n                    options.log(\"Problem parsing session response: \" + err.message, \"error\");\n                    isError = true;\n                }\n            }\n            options.onComplete(response, !isError, xhrOrXdr);\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"GET\" ],\n            method: \"GET\",\n            endpointStore: {\n                get: function() {\n                    return options.endpoint;\n                }\n            },\n            customHeaders: options.customHeaders,\n            log: options.log,\n            onComplete: onComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            queryServer: function() {\n                var params = qq.extend({}, options.params);\n                options.log(\"Session query request.\");\n                requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n            }\n        });\n    };\n    qq.Scaler = function(spec, log) {\n        \"use strict\";\n        var self = this, customResizeFunction = spec.customResizer, includeOriginal = spec.sendOriginal, orient = spec.orient, defaultType = spec.defaultType, defaultQuality = spec.defaultQuality / 100, failedToScaleText = spec.failureText, includeExif = spec.includeExif, sizes = this._getSortedSizes(spec.sizes);\n        qq.extend(this, {\n            enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n            getFileRecords: function(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n                var self = this, records = [], originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData, identifier = new qq.Identify(originalBlob, log);\n                if (identifier.isPreviewableSync()) {\n                    qq.each(sizes, function(idx, sizeRecord) {\n                        var outputType = self._determineOutputType({\n                            defaultType: defaultType,\n                            requestedType: sizeRecord.type,\n                            refType: originalBlob.type\n                        });\n                        records.push({\n                            uuid: qq.getUniqueId(),\n                            name: self._getName(originalFileName, {\n                                name: sizeRecord.name,\n                                type: outputType,\n                                refType: originalBlob.type\n                            }),\n                            blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                                customResizeFunction: customResizeFunction,\n                                maxSize: sizeRecord.maxSize,\n                                orient: orient,\n                                type: outputType,\n                                quality: defaultQuality,\n                                failedText: failedToScaleText,\n                                includeExif: includeExif,\n                                log: log\n                            }))\n                        });\n                    });\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: includeOriginal ? originalBlob : null\n                    });\n                } else {\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: originalBlob\n                    });\n                }\n                return records;\n            },\n            handleNewFile: function(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n                var self = this, buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId, scaledIds = [], originalId = null, addFileToHandler = api.addFileToHandler, uploadData = api.uploadData, paramsStore = api.paramsStore, proxyGroupId = qq.getUniqueId();\n                qq.each(self.getFileRecords(uuid, name, file), function(idx, record) {\n                    var blobSize = record.size, id;\n                    if (record.blob instanceof qq.BlobProxy) {\n                        blobSize = -1;\n                    }\n                    id = uploadData.addFile({\n                        uuid: record.uuid,\n                        name: record.name,\n                        size: blobSize,\n                        batchId: batchId,\n                        proxyGroupId: proxyGroupId\n                    });\n                    if (record.blob instanceof qq.BlobProxy) {\n                        scaledIds.push(id);\n                    } else {\n                        originalId = id;\n                    }\n                    if (record.blob) {\n                        addFileToHandler(id, record.blob);\n                        fileList.push({\n                            id: id,\n                            file: record.blob\n                        });\n                    } else {\n                        uploadData.setStatus(id, qq.status.REJECTED);\n                    }\n                });\n                if (originalId !== null) {\n                    qq.each(scaledIds, function(idx, scaledId) {\n                        var params = {\n                            qqparentuuid: uploadData.retrieve({\n                                id: originalId\n                            }).uuid,\n                            qqparentsize: uploadData.retrieve({\n                                id: originalId\n                            }).size\n                        };\n                        params[uuidParamName] = uploadData.retrieve({\n                            id: scaledId\n                        }).uuid;\n                        uploadData.setParentId(scaledId, originalId);\n                        paramsStore.addReadOnly(scaledId, params);\n                    });\n                    if (scaledIds.length) {\n                        (function() {\n                            var param = {};\n                            param[uuidParamName] = uploadData.retrieve({\n                                id: originalId\n                            }).uuid;\n                            paramsStore.addReadOnly(originalId, param);\n                        })();\n                    }\n                }\n            }\n        });\n    };\n    qq.extend(qq.Scaler.prototype, {\n        scaleImage: function(id, specs, api) {\n            \"use strict\";\n            if (!qq.supportedFeatures.scaling) {\n                throw new qq.Error(\"Scaling is not supported in this browser!\");\n            }\n            var scalingEffort = new qq.Promise(), log = api.log, file = api.getFile(id), uploadData = api.uploadData.retrieve({\n                id: id\n            }), name = uploadData && uploadData.name, uuid = uploadData && uploadData.uuid, scalingOptions = {\n                customResizer: specs.customResizer,\n                sendOriginal: false,\n                orient: specs.orient,\n                defaultType: specs.type || null,\n                defaultQuality: specs.quality,\n                failedToScaleText: \"Unable to scale\",\n                sizes: [ {\n                    name: \"\",\n                    maxSize: specs.maxSize\n                } ]\n            }, scaler = new qq.Scaler(scalingOptions, log);\n            if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n                scalingEffort.failure();\n                log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n            } else {\n                qq.bind(function() {\n                    var record = scaler.getFileRecords(uuid, name, file)[0];\n                    if (record && record.blob instanceof qq.BlobProxy) {\n                        record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n                    } else {\n                        log(id + \" is not a scalable image!\", \"error\");\n                        scalingEffort.failure();\n                    }\n                }, this)();\n            }\n            return scalingEffort;\n        },\n        _determineOutputType: function(spec) {\n            \"use strict\";\n            var requestedType = spec.requestedType, defaultType = spec.defaultType, referenceType = spec.refType;\n            if (!defaultType && !requestedType) {\n                if (referenceType !== \"image/jpeg\") {\n                    return \"image/png\";\n                }\n                return referenceType;\n            }\n            if (!requestedType) {\n                return defaultType;\n            }\n            if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n                if (requestedType === \"image/tiff\") {\n                    return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n                }\n                return requestedType;\n            }\n            return defaultType;\n        },\n        _getName: function(originalName, scaledVersionProperties) {\n            \"use strict\";\n            var startOfExt = originalName.lastIndexOf(\".\"), versionType = scaledVersionProperties.type || \"image/png\", referenceType = scaledVersionProperties.refType, scaledName = \"\", scaledExt = qq.getExtension(originalName), nameAppendage = \"\";\n            if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n                nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n            }\n            if (startOfExt >= 0) {\n                scaledName = originalName.substr(0, startOfExt);\n                if (referenceType !== versionType) {\n                    scaledExt = versionType.split(\"/\")[1];\n                }\n                scaledName += nameAppendage + \".\" + scaledExt;\n            } else {\n                scaledName = originalName + nameAppendage;\n            }\n            return scaledName;\n        },\n        _getSortedSizes: function(sizes) {\n            \"use strict\";\n            sizes = qq.extend([], sizes);\n            return sizes.sort(function(a, b) {\n                if (a.maxSize > b.maxSize) {\n                    return 1;\n                }\n                if (a.maxSize < b.maxSize) {\n                    return -1;\n                }\n                return 0;\n            });\n        },\n        _generateScaledImage: function(spec, sourceFile) {\n            \"use strict\";\n            var self = this, customResizeFunction = spec.customResizeFunction, log = spec.log, maxSize = spec.maxSize, orient = spec.orient, type = spec.type, quality = spec.quality, failedText = spec.failedText, includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\", scalingEffort = new qq.Promise(), imageGenerator = new qq.ImageGenerator(log), canvas = document.createElement(\"canvas\");\n            log(\"Attempting to generate scaled version for \" + sourceFile.name);\n            imageGenerator.generate(sourceFile, canvas, {\n                maxSize: maxSize,\n                orient: orient,\n                customResizeFunction: customResizeFunction\n            }).then(function() {\n                var scaledImageDataUri = canvas.toDataURL(type, quality), signalSuccess = function() {\n                    log(\"Success generating scaled version for \" + sourceFile.name);\n                    var blob = qq.dataUriToBlob(scaledImageDataUri);\n                    scalingEffort.success(blob);\n                };\n                if (includeExif) {\n                    self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function(scaledImageDataUriWithExif) {\n                        scaledImageDataUri = scaledImageDataUriWithExif;\n                        signalSuccess();\n                    }, function() {\n                        log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n                        signalSuccess();\n                    });\n                } else {\n                    signalSuccess();\n                }\n            }, function() {\n                log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n                scalingEffort.failure(failedText);\n            });\n            return scalingEffort;\n        },\n        _insertExifHeader: function(originalImage, scaledImageDataUri, log) {\n            \"use strict\";\n            var reader = new FileReader(), insertionEffort = new qq.Promise(), originalImageDataUri = \"\";\n            reader.onload = function() {\n                originalImageDataUri = reader.result;\n                insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n            };\n            reader.onerror = function() {\n                log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n                insertionEffort.failure();\n            };\n            reader.readAsDataURL(originalImage);\n            return insertionEffort;\n        },\n        _dataUriToBlob: function(dataUri) {\n            \"use strict\";\n            var byteString, mimeString, arrayBuffer, intArray;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return this._createBlob(arrayBuffer, mimeString);\n        },\n        _createBlob: function(data, mime) {\n            \"use strict\";\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n            if (blobBuilder) {\n                blobBuilder.append(data);\n                return blobBuilder.getBlob(mime);\n            } else {\n                return new Blob([ data ], {\n                    type: mime\n                });\n            }\n        }\n    });\n    qq.ExifRestorer = function() {\n        var ExifRestorer = {};\n        ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n        ExifRestorer.encode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0;\n            do {\n                chr1 = input[i++];\n                chr2 = input[i++];\n                chr3 = input[i++];\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return output;\n        };\n        ExifRestorer.restore = function(origFileBase64, resizedFileBase64) {\n            var expectedBase64Header = \"data:image/jpeg;base64,\";\n            if (!origFileBase64.match(expectedBase64Header)) {\n                return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return expectedBase64Header + this.encode64(image);\n        };\n        ExifRestorer.exifManipulation = function(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments), newImageArray = this.insertExif(resizedFileBase64, exifArray), aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n        };\n        ExifRestorer.getExifArray = function(segments) {\n            var seg;\n            for (var x = 0; x < segments.length; x++) {\n                seg = segments[x];\n                if (seg[0] == 255 & seg[1] == 225) {\n                    return seg;\n                }\n            }\n            return [];\n        };\n        ExifRestorer.insertExif = function(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"), buf = this.decode64(imageData), separatePoint = buf.indexOf(255, 3), mae = buf.slice(0, separatePoint), ato = buf.slice(separatePoint), array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n        };\n        ExifRestorer.slice2Segments = function(rawImageArray) {\n            var head = 0, segments = [];\n            while (1) {\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n                    break;\n                }\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n                    head += 2;\n                } else {\n                    var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3], endPoint = head + length + 2, seg = rawImageArray.slice(head, endPoint);\n                    segments.push(seg);\n                    head = endPoint;\n                }\n                if (head > rawImageArray.length) {\n                    break;\n                }\n            }\n            return segments;\n        };\n        ExifRestorer.decode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0, buf = [];\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            do {\n                enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n                chr1 = enc1 << 2 | enc2 >> 4;\n                chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n                chr3 = (enc3 & 3) << 6 | enc4;\n                buf.push(chr1);\n                if (enc3 != 64) {\n                    buf.push(chr2);\n                }\n                if (enc4 != 64) {\n                    buf.push(chr3);\n                }\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return buf;\n        };\n        return ExifRestorer;\n    }();\n    qq.TotalProgress = function(callback, getSize) {\n        \"use strict\";\n        var perFileProgress = {}, totalLoaded = 0, totalSize = 0, lastLoadedSent = -1, lastTotalSent = -1, callbackProxy = function(loaded, total) {\n            if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n                callback(loaded, total);\n            }\n            lastLoadedSent = loaded;\n            lastTotalSent = total;\n        }, noRetryableFiles = function(failed, retryable) {\n            var none = true;\n            qq.each(failed, function(idx, failedId) {\n                if (qq.indexOf(retryable, failedId) >= 0) {\n                    none = false;\n                    return false;\n                }\n            });\n            return none;\n        }, onCancel = function(id) {\n            updateTotalProgress(id, -1, -1);\n            delete perFileProgress[id];\n        }, onAllComplete = function(successful, failed, retryable) {\n            if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n                callbackProxy(totalSize, totalSize);\n                this.reset();\n            }\n        }, onNew = function(id) {\n            var size = getSize(id);\n            if (size > 0) {\n                updateTotalProgress(id, 0, size);\n                perFileProgress[id] = {\n                    loaded: 0,\n                    total: size\n                };\n            }\n        }, updateTotalProgress = function(id, newLoaded, newTotal) {\n            var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0, oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n            if (newLoaded === -1 && newTotal === -1) {\n                totalLoaded -= oldLoaded;\n                totalSize -= oldTotal;\n            } else {\n                if (newLoaded) {\n                    totalLoaded += newLoaded - oldLoaded;\n                }\n                if (newTotal) {\n                    totalSize += newTotal - oldTotal;\n                }\n            }\n            callbackProxy(totalLoaded, totalSize);\n        };\n        qq.extend(this, {\n            onAllComplete: onAllComplete,\n            onStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n                    onCancel(id);\n                } else if (newStatus === qq.status.SUBMITTING) {\n                    onNew(id);\n                }\n            },\n            onIndividualProgress: function(id, loaded, total) {\n                updateTotalProgress(id, loaded, total);\n                perFileProgress[id] = {\n                    loaded: loaded,\n                    total: total\n                };\n            },\n            onNewSize: function(id) {\n                onNew(id);\n            },\n            reset: function() {\n                perFileProgress = {};\n                totalLoaded = 0;\n                totalSize = 0;\n            }\n        });\n    };\n    qq.PasteSupport = function(o) {\n        \"use strict\";\n        var options, detachPasteHandler;\n        options = {\n            targetElement: null,\n            callbacks: {\n                log: function(message, level) {},\n                pasteReceived: function(blob) {}\n            }\n        };\n        function isImage(item) {\n            return item.type && item.type.indexOf(\"image/\") === 0;\n        }\n        function registerPasteHandler() {\n            detachPasteHandler = qq(options.targetElement).attach(\"paste\", function(event) {\n                var clipboardData = event.clipboardData;\n                if (clipboardData) {\n                    qq.each(clipboardData.items, function(idx, item) {\n                        if (isImage(item)) {\n                            var blob = item.getAsFile();\n                            options.callbacks.pasteReceived(blob);\n                        }\n                    });\n                }\n            });\n        }\n        function unregisterPasteHandler() {\n            if (detachPasteHandler) {\n                detachPasteHandler();\n            }\n        }\n        qq.extend(options, o);\n        registerPasteHandler();\n        qq.extend(this, {\n            reset: function() {\n                unregisterPasteHandler();\n            }\n        });\n    };\n    qq.FormSupport = function(options, startUpload, log) {\n        \"use strict\";\n        var self = this, interceptSubmit = options.interceptSubmit, formEl = options.element, autoUpload = options.autoUpload;\n        qq.extend(this, {\n            newEndpoint: null,\n            newAutoUpload: autoUpload,\n            attachedToForm: false,\n            getFormInputsAsObject: function() {\n                if (formEl == null) {\n                    return null;\n                }\n                return self._form2Obj(formEl);\n            }\n        });\n        function determineNewEndpoint(formEl) {\n            if (formEl.getAttribute(\"action\")) {\n                self.newEndpoint = formEl.getAttribute(\"action\");\n            }\n        }\n        function validateForm(formEl, nativeSubmit) {\n            if (formEl.checkValidity && !formEl.checkValidity()) {\n                log(\"Form did not pass validation checks - will not upload.\", \"error\");\n                nativeSubmit();\n            } else {\n                return true;\n            }\n        }\n        function maybeUploadOnSubmit(formEl) {\n            var nativeSubmit = formEl.submit;\n            qq(formEl).attach(\"submit\", function(event) {\n                event = event || window.event;\n                if (event.preventDefault) {\n                    event.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n                validateForm(formEl, nativeSubmit) && startUpload();\n            });\n            formEl.submit = function() {\n                validateForm(formEl, nativeSubmit) && startUpload();\n            };\n        }\n        function determineFormEl(formEl) {\n            if (formEl) {\n                if (qq.isString(formEl)) {\n                    formEl = document.getElementById(formEl);\n                }\n                if (formEl) {\n                    log(\"Attaching to form element.\");\n                    determineNewEndpoint(formEl);\n                    interceptSubmit && maybeUploadOnSubmit(formEl);\n                }\n            }\n            return formEl;\n        }\n        formEl = determineFormEl(formEl);\n        this.attachedToForm = !!formEl;\n    };\n    qq.extend(qq.FormSupport.prototype, {\n        _form2Obj: function(form) {\n            \"use strict\";\n            var obj = {}, notIrrelevantType = function(type) {\n                var irrelevantTypes = [ \"button\", \"image\", \"reset\", \"submit\" ];\n                return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n            }, radioOrCheckbox = function(type) {\n                return qq.indexOf([ \"checkbox\", \"radio\" ], type.toLowerCase()) >= 0;\n            }, ignoreValue = function(el) {\n                if (radioOrCheckbox(el.type) && !el.checked) {\n                    return true;\n                }\n                return el.disabled && el.type.toLowerCase() !== \"hidden\";\n            }, selectValue = function(select) {\n                var value = null;\n                qq.each(qq(select).children(), function(idx, child) {\n                    if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n                        value = child.value;\n                        return false;\n                    }\n                });\n                return value;\n            };\n            qq.each(form.elements, function(idx, el) {\n                if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n                    obj[el.name] = el.value;\n                } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n                    var value = selectValue(el);\n                    if (value !== null) {\n                        obj[el.name] = value;\n                    }\n                }\n            });\n            return obj;\n        }\n    });\n    qq.traditional = qq.traditional || {};\n    qq.traditional.FormUploadHandler = function(options, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getUuid = proxy.getUuid, log = proxy.log;\n        function getIframeContentJson(id, iframe) {\n            var response, doc, innerHtml;\n            try {\n                doc = iframe.contentDocument || iframe.contentWindow.document;\n                innerHtml = doc.body.innerHTML;\n                log(\"converting iframe's innerHTML to JSON\");\n                log(\"innerHTML = \" + innerHtml);\n                if (innerHtml && innerHtml.match(/^<pre/i)) {\n                    innerHtml = doc.body.firstChild.firstChild.nodeValue;\n                }\n                response = handler._parseJsonResponse(innerHtml);\n            } catch (error) {\n                log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n                response = {\n                    success: false\n                };\n            }\n            return response;\n        }\n        function createForm(id, iframe) {\n            var params = options.paramsStore.get(id), method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\", endpoint = options.endpointStore.get(id), name = getName(id);\n            params[options.uuidName] = getUuid(id);\n            params[options.filenameParam] = name;\n            return handler._initFormForUpload({\n                method: method,\n                endpoint: endpoint,\n                params: params,\n                paramsInBody: options.paramsInBody,\n                targetName: iframe.name\n            });\n        }\n        this.uploadFile = function(id) {\n            var input = handler.getInput(id), iframe = handler._createIframe(id), promise = new qq.Promise(), form;\n            form = createForm(id, iframe);\n            form.appendChild(input);\n            handler._attachLoadEvent(iframe, function(responseFromMessage) {\n                log(\"iframe loaded\");\n                var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n                handler._detachLoadEvent(id);\n                if (!options.cors.expected) {\n                    qq(iframe).remove();\n                }\n                if (response.success) {\n                    promise.success(response);\n                } else {\n                    promise.failure(response);\n                }\n            });\n            log(\"Sending upload request for \" + id);\n            form.submit();\n            qq(form).remove();\n            return promise;\n        };\n        qq.extend(this, new qq.FormUploadHandler({\n            options: {\n                isCors: options.cors.expected,\n                inputName: options.inputName\n            },\n            proxy: {\n                onCancel: options.onCancel,\n                getName: getName,\n                getUuid: getUuid,\n                log: log\n            }\n        }));\n    };\n    qq.traditional = qq.traditional || {};\n    qq.traditional.XhrUploadHandler = function(spec, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, log = proxy.log, multipart = spec.forceMultipart || spec.paramsInBody, addChunkingSpecificParams = function(id, params, chunkData) {\n            var size = getSize(id), name = getName(id);\n            if (!spec.omitDefaultParams) {\n                params[spec.chunking.paramNames.partIndex] = chunkData.part;\n                params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n                params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n                params[spec.chunking.paramNames.totalParts] = chunkData.count;\n                params[spec.totalFileSizeName] = size;\n            }\n            if (multipart && !spec.omitDefaultParams) {\n                params[spec.filenameParam] = name;\n            }\n        }, allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n            cors: spec.cors,\n            endpoint: spec.chunking.success.endpoint,\n            headers: spec.chunking.success.headers,\n            jsonPayload: spec.chunking.success.jsonPayload,\n            log: log,\n            method: spec.chunking.success.method,\n            params: spec.chunking.success.params\n        }), createReadyStateChangedHandler = function(id, xhr) {\n            var promise = new qq.Promise();\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var result = onUploadOrChunkComplete(id, xhr);\n                    if (result.success) {\n                        promise.success(result.response, xhr);\n                    } else {\n                        promise.failure(result.response, xhr);\n                    }\n                }\n            };\n            return promise;\n        }, getChunksCompleteParams = function(id) {\n            var params = spec.paramsStore.get(id), name = getName(id), size = getSize(id);\n            params[spec.uuidName] = getUuid(id);\n            params[spec.filenameParam] = name;\n            params[spec.totalFileSizeName] = size;\n            params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n            return params;\n        }, isErrorUploadResponse = function(xhr, response) {\n            return qq.indexOf([ 200, 201, 202, 203, 204 ], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n        }, onUploadOrChunkComplete = function(id, xhr) {\n            var response;\n            log(\"xhr - server response received for \" + id);\n            log(\"responseText = \" + xhr.responseText);\n            response = parseResponse(true, xhr);\n            return {\n                success: !isErrorUploadResponse(xhr, response),\n                response: response\n            };\n        }, parseResponse = function(upload, xhr) {\n            var response = {};\n            try {\n                log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n                response = qq.parseJson(xhr.responseText);\n            } catch (error) {\n                upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n            }\n            return response;\n        }, sendChunksCompleteRequest = function(id) {\n            var promise = new qq.Promise();\n            allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function(xhr) {\n                promise.success(parseResponse(false, xhr), xhr);\n            }, function(xhr) {\n                promise.failure(parseResponse(false, xhr), xhr);\n            });\n            return promise;\n        }, setParamsAndGetEntityToSend = function(entityToSendParams) {\n            var fileOrBlob = entityToSendParams.fileOrBlob;\n            var id = entityToSendParams.id;\n            var xhr = entityToSendParams.xhr;\n            var xhrOverrides = entityToSendParams.xhrOverrides || {};\n            var customParams = entityToSendParams.customParams || {};\n            var defaultParams = entityToSendParams.params || {};\n            var xhrOverrideParams = xhrOverrides.params || {};\n            var params;\n            var formData = multipart ? new FormData() : null, method = xhrOverrides.method || spec.method, endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id), name = getName(id), size = getSize(id);\n            if (spec.omitDefaultParams) {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n            } else {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n                qq.extend(params, defaultParams);\n                params[spec.uuidName] = getUuid(id);\n                params[spec.filenameParam] = name;\n                if (multipart) {\n                    params[spec.totalFileSizeName] = size;\n                } else if (!spec.paramsInBody) {\n                    params[spec.inputName] = name;\n                }\n            }\n            if (!spec.paramsInBody) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            xhr.open(method, endpoint, true);\n            if (spec.cors.expected && spec.cors.sendCredentials) {\n                xhr.withCredentials = true;\n            }\n            if (multipart) {\n                if (spec.paramsInBody) {\n                    qq.obj2FormData(params, formData);\n                }\n                formData.append(spec.inputName, fileOrBlob);\n                return formData;\n            }\n            return fileOrBlob;\n        }, setUploadHeaders = function(headersOptions) {\n            var headerOverrides = headersOptions.headerOverrides;\n            var id = headersOptions.id;\n            var xhr = headersOptions.xhr;\n            if (headerOverrides) {\n                qq.each(headerOverrides, function(headerName, headerValue) {\n                    xhr.setRequestHeader(headerName, headerValue);\n                });\n            } else {\n                var extraHeaders = spec.customHeaders.get(id), fileOrBlob = handler.getFile(id);\n                xhr.setRequestHeader(\"Accept\", \"application/json\");\n                xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                if (!multipart) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                    xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n                }\n                qq.each(extraHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        };\n        qq.extend(this, {\n            uploadChunk: function(uploadChunkParams) {\n                var id = uploadChunkParams.id;\n                var chunkIdx = uploadChunkParams.chunkIdx;\n                var overrides = uploadChunkParams.overrides || {};\n                var resuming = uploadChunkParams.resuming;\n                var chunkData = handler._getChunkData(id, chunkIdx), xhr = handler._createXhr(id, chunkIdx), promise, toSend, customParams, params = {};\n                promise = createReadyStateChangedHandler(id, xhr);\n                handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n                customParams = spec.paramsStore.get(id);\n                addChunkingSpecificParams(id, params, chunkData);\n                if (resuming) {\n                    params[spec.resume.paramNames.resuming] = true;\n                }\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: chunkData.blob,\n                    id: id,\n                    customParams: customParams,\n                    params: params,\n                    xhr: xhr,\n                    xhrOverrides: overrides\n                });\n                setUploadHeaders({\n                    headerOverrides: overrides.headers,\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            },\n            uploadFile: function(id) {\n                var fileOrBlob = handler.getFile(id), promise, xhr, customParams, toSend;\n                xhr = handler._createXhr(id);\n                handler._registerProgressHandler(id);\n                promise = createReadyStateChangedHandler(id, xhr);\n                customParams = spec.paramsStore.get(id);\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: fileOrBlob,\n                    id: id,\n                    customParams: customParams,\n                    xhr: xhr\n                });\n                setUploadHeaders({\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            }\n        });\n        qq.extend(this, new qq.XhrUploadHandler({\n            options: qq.extend({\n                namespace: \"traditional\"\n            }, spec),\n            proxy: qq.extend({\n                getEndpoint: spec.endpointStore.get\n            }, proxy)\n        }));\n        qq.override(this, function(super_) {\n            return {\n                finalizeChunks: function(id) {\n                    proxy.onFinalizing(id);\n                    if (spec.chunking.success.endpoint) {\n                        return sendChunksCompleteRequest(id);\n                    } else {\n                        return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n                    }\n                }\n            };\n        });\n    };\n    qq.traditional.AllChunksDoneAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            cors: {\n                allowXdr: false,\n                expected: false,\n                sendCredentials: false\n            },\n            endpoint: null,\n            log: function(str, level) {},\n            method: \"POST\"\n        }, promises = {}, endpointHandler = {\n            get: function(id) {\n                if (qq.isFunction(options.endpoint)) {\n                    return options.endpoint(id);\n                }\n                return options.endpoint;\n            }\n        };\n        qq.extend(options, o);\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n            validMethods: [ options.method ],\n            method: options.method,\n            endpointStore: endpointHandler,\n            allowXRequestedWithAndCacheControl: false,\n            cors: options.cors,\n            log: options.log,\n            onComplete: function(id, xhr, isError) {\n                var promise = promises[id];\n                delete promises[id];\n                if (isError) {\n                    promise.failure(xhr);\n                } else {\n                    promise.success(xhr);\n                }\n            }\n        }));\n        qq.extend(this, {\n            complete: function(id, xhr, params, headers) {\n                var promise = new qq.Promise();\n                options.log(\"Submitting All Chunks Done request for \" + id);\n                promises[id] = promise;\n                requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n                return promise;\n            }\n        });\n    };\n    qq.DragAndDrop = function(o) {\n        \"use strict\";\n        var options, HIDE_ZONES_EVENT_NAME = \"qq-hidezones\", HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\", uploadDropZones = [], droppedFiles = [], disposeSupport = new qq.DisposeSupport();\n        options = {\n            dropZoneElements: [],\n            allowMultipleItems: true,\n            classes: {\n                dropActive: null\n            },\n            callbacks: new qq.DragAndDrop.callbacks()\n        };\n        qq.extend(options, o, true);\n        function uploadDroppedFiles(files, uploadDropZone) {\n            var filesAsArray = Array.prototype.slice.call(files);\n            options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n            uploadDropZone.dropDisabled(false);\n            options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n        }\n        function traverseFileTree(entry) {\n            var parseEntryPromise = new qq.Promise();\n            if (entry.isFile) {\n                entry.file(function(file) {\n                    file.qqPath = extractDirectoryPath(entry);\n                    droppedFiles.push(file);\n                    parseEntryPromise.success();\n                }, function(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            } else if (entry.isDirectory) {\n                getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n                    var entriesLeft = entries.length;\n                    qq.each(entries, function(idx, entry) {\n                        traverseFileTree(entry).done(function() {\n                            entriesLeft -= 1;\n                            if (entriesLeft === 0) {\n                                parseEntryPromise.success();\n                            }\n                        });\n                    });\n                    if (!entries.length) {\n                        parseEntryPromise.success();\n                    }\n                }, function readFailure(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            }\n            return parseEntryPromise;\n        }\n        function extractDirectoryPath(entry) {\n            var name = entry.name, fullPath = entry.fullPath, indexOfNameInFullPath = fullPath.lastIndexOf(name);\n            fullPath = fullPath.substr(0, indexOfNameInFullPath);\n            if (fullPath.charAt(0) === \"/\") {\n                fullPath = fullPath.substr(1);\n            }\n            return fullPath;\n        }\n        function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n            var promise = existingPromise || new qq.Promise(), dirReader = reader || entry.createReader();\n            dirReader.readEntries(function readSuccess(entries) {\n                var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n                if (entries.length) {\n                    setTimeout(function() {\n                        getFilesInDirectory(entry, dirReader, newEntries, promise);\n                    }, 0);\n                } else {\n                    promise.success(newEntries);\n                }\n            }, promise.failure);\n            return promise;\n        }\n        function handleDataTransfer(dataTransfer, uploadDropZone) {\n            var pendingFolderPromises = [], handleDataTransferPromise = new qq.Promise();\n            options.callbacks.processingDroppedFiles();\n            uploadDropZone.dropDisabled(true);\n            if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n                options.callbacks.processingDroppedFilesComplete([]);\n                options.callbacks.dropError(\"tooManyFilesError\", \"\");\n                uploadDropZone.dropDisabled(false);\n                handleDataTransferPromise.failure();\n            } else {\n                droppedFiles = [];\n                if (qq.isFolderDropSupported(dataTransfer)) {\n                    qq.each(dataTransfer.items, function(idx, item) {\n                        var entry = item.webkitGetAsEntry();\n                        if (entry) {\n                            if (entry.isFile) {\n                                droppedFiles.push(item.getAsFile());\n                            } else {\n                                pendingFolderPromises.push(traverseFileTree(entry).done(function() {\n                                    pendingFolderPromises.pop();\n                                    if (pendingFolderPromises.length === 0) {\n                                        handleDataTransferPromise.success();\n                                    }\n                                }));\n                            }\n                        }\n                    });\n                } else {\n                    droppedFiles = dataTransfer.files;\n                }\n                if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                }\n            }\n            return handleDataTransferPromise;\n        }\n        function setupDropzone(dropArea) {\n            var dropZone = new qq.UploadDropZone({\n                HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n                element: dropArea,\n                onEnter: function(e) {\n                    qq(dropArea).addClass(options.classes.dropActive);\n                    e.stopPropagation();\n                },\n                onLeaveNotDescendants: function(e) {\n                    qq(dropArea).removeClass(options.classes.dropActive);\n                },\n                onDrop: function(e) {\n                    handleDataTransfer(e.dataTransfer, dropZone).then(function() {\n                        uploadDroppedFiles(droppedFiles, dropZone);\n                    }, function() {\n                        options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n                    });\n                }\n            });\n            disposeSupport.addDisposer(function() {\n                dropZone.dispose();\n            });\n            qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n            uploadDropZones.push(dropZone);\n            return dropZone;\n        }\n        function isFileDrag(dragEvent) {\n            var fileDrag;\n            qq.each(dragEvent.dataTransfer.types, function(key, val) {\n                if (val === \"Files\") {\n                    fileDrag = true;\n                    return false;\n                }\n            });\n            return fileDrag;\n        }\n        function leavingDocumentOut(e) {\n            if (qq.safari()) {\n                return e.x < 0 || e.y < 0;\n            }\n            return e.x === 0 && e.y === 0;\n        }\n        function setupDragDrop() {\n            var dropZones = options.dropZoneElements, maybeHideDropZones = function() {\n                setTimeout(function() {\n                    qq.each(dropZones, function(idx, dropZone) {\n                        qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n                        qq(dropZone).removeClass(options.classes.dropActive);\n                    });\n                }, 10);\n            };\n            qq.each(dropZones, function(idx, dropZone) {\n                var uploadDropZone = setupDropzone(dropZone);\n                if (dropZones.length && qq.supportedFeatures.fileDrop) {\n                    disposeSupport.attach(document, \"dragenter\", function(e) {\n                        if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n                            qq.each(dropZones, function(idx, dropZone) {\n                                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                                    qq(dropZone).css({\n                                        display: \"block\"\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n            disposeSupport.attach(document, \"dragleave\", function(e) {\n                if (leavingDocumentOut(e)) {\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function(e) {\n                maybeHideDropZones();\n            });\n            disposeSupport.attach(document, \"drop\", function(e) {\n                if (isFileDrag(e)) {\n                    e.preventDefault();\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n        }\n        setupDragDrop();\n        qq.extend(this, {\n            setupExtraDropzone: function(element) {\n                options.dropZoneElements.push(element);\n                setupDropzone(element);\n            },\n            removeDropzone: function(element) {\n                var i, dzs = options.dropZoneElements;\n                for (i in dzs) {\n                    if (dzs[i] === element) {\n                        return dzs.splice(i, 1);\n                    }\n                }\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n                qq.each(uploadDropZones, function(idx, dropZone) {\n                    dropZone.dispose();\n                });\n            }\n        });\n        this._testing = {};\n        this._testing.extractDirectoryPath = extractDirectoryPath;\n    };\n    qq.DragAndDrop.callbacks = function() {\n        \"use strict\";\n        return {\n            processingDroppedFiles: function() {},\n            processingDroppedFilesComplete: function(files, targetEl) {},\n            dropError: function(code, errorSpecifics) {\n                qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n            },\n            dropLog: function(message, level) {\n                qq.log(message, level);\n            }\n        };\n    };\n    qq.UploadDropZone = function(o) {\n        \"use strict\";\n        var disposeSupport = new qq.DisposeSupport(), options, element, preventDrop, dropOutsideDisabled;\n        options = {\n            element: null,\n            onEnter: function(e) {},\n            onLeave: function(e) {},\n            onLeaveNotDescendants: function(e) {},\n            onDrop: function(e) {}\n        };\n        qq.extend(options, o);\n        element = options.element;\n        function dragoverShouldBeCanceled() {\n            return qq.safari() || qq.firefox() && qq.windows();\n        }\n        function disableDropOutside(e) {\n            if (!dropOutsideDisabled) {\n                if (dragoverShouldBeCanceled) {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        e.preventDefault();\n                    });\n                } else {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        if (e.dataTransfer) {\n                            e.dataTransfer.dropEffect = \"none\";\n                            e.preventDefault();\n                        }\n                    });\n                }\n                dropOutsideDisabled = true;\n            }\n        }\n        function isValidFileDrag(e) {\n            if (!qq.supportedFeatures.fileDrop) {\n                return false;\n            }\n            var effectTest, dt = e.dataTransfer, isSafari = qq.safari();\n            effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n            return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n        }\n        function isOrSetDropDisabled(isDisabled) {\n            if (isDisabled !== undefined) {\n                preventDrop = isDisabled;\n            }\n            return preventDrop;\n        }\n        function triggerHidezonesEvent() {\n            var hideZonesEvent;\n            function triggerUsingOldApi() {\n                hideZonesEvent = document.createEvent(\"Event\");\n                hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n            }\n            if (window.CustomEvent) {\n                try {\n                    hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n                } catch (err) {\n                    triggerUsingOldApi();\n                }\n            } else {\n                triggerUsingOldApi();\n            }\n            document.dispatchEvent(hideZonesEvent);\n        }\n        function attachEvents() {\n            disposeSupport.attach(element, \"dragover\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n                if (effect === \"move\" || effect === \"linkMove\") {\n                    e.dataTransfer.dropEffect = \"move\";\n                } else {\n                    e.dataTransfer.dropEffect = \"copy\";\n                }\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            disposeSupport.attach(element, \"dragenter\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    options.onEnter(e);\n                }\n            });\n            disposeSupport.attach(element, \"dragleave\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                options.onLeave(e);\n                var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n                if (qq(this).contains(relatedTarget)) {\n                    return;\n                }\n                options.onLeaveNotDescendants(e);\n            });\n            disposeSupport.attach(element, \"drop\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                    options.onDrop(e);\n                    triggerHidezonesEvent();\n                }\n            });\n        }\n        disableDropOutside();\n        attachEvents();\n        qq.extend(this, {\n            dropDisabled: function(isDisabled) {\n                return isOrSetDropDisabled(isDisabled);\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n            },\n            getElement: function() {\n                return element;\n            }\n        });\n        this._testing = {};\n        this._testing.isValidFileDrag = isValidFileDrag;\n    };\n    (function() {\n        \"use strict\";\n        qq.uiPublicApi = {\n            addInitialFiles: function(cannedFileList) {\n                this._parent.prototype.addInitialFiles.apply(this, arguments);\n                this._templating.addCacheToDom();\n            },\n            clearStoredFiles: function() {\n                this._parent.prototype.clearStoredFiles.apply(this, arguments);\n                this._templating.clearFiles();\n            },\n            addExtraDropzone: function(element) {\n                this._dnd && this._dnd.setupExtraDropzone(element);\n            },\n            removeExtraDropzone: function(element) {\n                if (this._dnd) {\n                    return this._dnd.removeDropzone(element);\n                }\n            },\n            getItemByFileId: function(id) {\n                if (!this._templating.isHiddenForever(id)) {\n                    return this._templating.getFileContainer(id);\n                }\n            },\n            reset: function() {\n                this._parent.prototype.reset.apply(this, arguments);\n                this._templating.reset();\n                if (!this._options.button && this._templating.getButton()) {\n                    this._defaultButtonId = this._createUploadButton({\n                        element: this._templating.getButton(),\n                        title: this._options.text.fileInputTitle\n                    }).getButtonId();\n                }\n                if (this._dnd) {\n                    this._dnd.dispose();\n                    this._dnd = this._setupDragAndDrop();\n                }\n                this._totalFilesInBatch = 0;\n                this._filesInBatchAddedToUi = 0;\n                this._setupClickAndEditEventHandlers();\n            },\n            setName: function(id, newName) {\n                var formattedFilename = this._options.formatFileName(newName);\n                this._parent.prototype.setName.apply(this, arguments);\n                this._templating.updateFilename(id, formattedFilename);\n            },\n            pauseUpload: function(id) {\n                var paused = this._parent.prototype.pauseUpload.apply(this, arguments);\n                paused && this._templating.uploadPaused(id);\n                return paused;\n            },\n            continueUpload: function(id) {\n                var continued = this._parent.prototype.continueUpload.apply(this, arguments);\n                continued && this._templating.uploadContinued(id);\n                return continued;\n            },\n            getId: function(fileContainerOrChildEl) {\n                return this._templating.getFileId(fileContainerOrChildEl);\n            },\n            getDropTarget: function(fileId) {\n                var file = this.getFile(fileId);\n                return file.qqDropTarget;\n            }\n        };\n        qq.uiPrivateApi = {\n            _getButton: function(buttonId) {\n                var button = this._parent.prototype._getButton.apply(this, arguments);\n                if (!button) {\n                    if (buttonId === this._defaultButtonId) {\n                        button = this._templating.getButton();\n                    }\n                }\n                return button;\n            },\n            _removeFileItem: function(fileId) {\n                this._templating.removeFile(fileId);\n            },\n            _setupClickAndEditEventHandlers: function() {\n                this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent();\n                this._focusinEventSupported = !qq.firefox();\n                if (this._isEditFilenameEnabled()) {\n                    this._filenameClickHandler = this._bindFilenameClickEvent();\n                    this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent();\n                    this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent();\n                }\n            },\n            _setupDragAndDrop: function() {\n                var self = this, dropZoneElements = this._options.dragAndDrop.extraDropzones, templating = this._templating, defaultDropZone = templating.getDropZone();\n                defaultDropZone && dropZoneElements.push(defaultDropZone);\n                return new qq.DragAndDrop({\n                    dropZoneElements: dropZoneElements,\n                    allowMultipleItems: this._options.multiple,\n                    classes: {\n                        dropActive: this._options.classes.dropActive\n                    },\n                    callbacks: {\n                        processingDroppedFiles: function() {\n                            templating.showDropProcessing();\n                        },\n                        processingDroppedFilesComplete: function(files, targetEl) {\n                            templating.hideDropProcessing();\n                            qq.each(files, function(idx, file) {\n                                file.qqDropTarget = targetEl;\n                            });\n                            if (files.length) {\n                                self.addFiles(files, null, null);\n                            }\n                        },\n                        dropError: function(code, errorData) {\n                            self._itemError(code, errorData);\n                        },\n                        dropLog: function(message, level) {\n                            self.log(message, level);\n                        }\n                    }\n                });\n            },\n            _bindFileButtonsClickEvent: function() {\n                var self = this;\n                return new qq.FileButtonsClickHandler({\n                    templating: this._templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onDeleteFile: function(fileId) {\n                        self.deleteFile(fileId);\n                    },\n                    onCancel: function(fileId) {\n                        self.cancel(fileId);\n                    },\n                    onRetry: function(fileId) {\n                        self.retry(fileId);\n                    },\n                    onPause: function(fileId) {\n                        self.pauseUpload(fileId);\n                    },\n                    onContinue: function(fileId) {\n                        self.continueUpload(fileId);\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    }\n                });\n            },\n            _isEditFilenameEnabled: function() {\n                return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler;\n            },\n            _filenameEditHandler: function() {\n                var self = this, templating = this._templating;\n                return {\n                    templating: templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onGetUploadStatus: function(fileId) {\n                        return self.getUploads({\n                            id: fileId\n                        }).status;\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    },\n                    onSetName: function(id, newName) {\n                        self.setName(id, newName);\n                    },\n                    onEditingStatusChange: function(id, isEditing) {\n                        var qqInput = qq(templating.getEditInput(id)), qqFileContainer = qq(templating.getFileContainer(id));\n                        if (isEditing) {\n                            qqInput.addClass(\"qq-editing\");\n                            templating.hideFilename(id);\n                            templating.hideEditIcon(id);\n                        } else {\n                            qqInput.removeClass(\"qq-editing\");\n                            templating.showFilename(id);\n                            templating.showEditIcon(id);\n                        }\n                        qqFileContainer.addClass(\"qq-temp\").removeClass(\"qq-temp\");\n                    }\n                };\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                this._parent.prototype._onUploadStatusChange.apply(this, arguments);\n                if (this._isEditFilenameEnabled()) {\n                    if (this._templating.getFileContainer(id) && newStatus !== qq.status.SUBMITTED) {\n                        this._templating.markFilenameEditable(id);\n                        this._templating.hideEditIcon(id);\n                    }\n                }\n                if (oldStatus === qq.status.UPLOAD_RETRYING && newStatus === qq.status.UPLOADING) {\n                    this._templating.hideRetry(id);\n                    this._templating.setStatusText(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.retrying);\n                } else if (newStatus === qq.status.UPLOAD_FAILED) {\n                    this._templating.hidePause(id);\n                }\n            },\n            _bindFilenameInputFocusInEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusInHandler(spec);\n            },\n            _bindFilenameInputFocusEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusHandler(spec);\n            },\n            _bindFilenameClickEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameClickHandler(spec);\n            },\n            _storeForLater: function(id) {\n                this._parent.prototype._storeForLater.apply(this, arguments);\n                this._templating.hideSpinner(id);\n            },\n            _onAllComplete: function(successful, failed) {\n                this._parent.prototype._onAllComplete.apply(this, arguments);\n                this._templating.resetTotalProgress();\n            },\n            _onSubmit: function(id, name) {\n                var file = this.getFile(id);\n                if (file && file.qqPath && this._options.dragAndDrop.reportDirectoryPaths) {\n                    this._paramsStore.addReadOnly(id, {\n                        qqpath: file.qqPath\n                    });\n                }\n                this._parent.prototype._onSubmit.apply(this, arguments);\n                this._addToList(id, name);\n            },\n            _onSubmitted: function(id) {\n                if (this._isEditFilenameEnabled()) {\n                    this._templating.markFilenameEditable(id);\n                    this._templating.showEditIcon(id);\n                    if (!this._focusinEventSupported) {\n                        this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(id));\n                    }\n                }\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._parent.prototype._onProgress.apply(this, arguments);\n                this._templating.updateProgress(id, loaded, total);\n                if (total === 0 || Math.round(loaded / total * 100) === 100) {\n                    this._templating.hideCancel(id);\n                    this._templating.hidePause(id);\n                    this._templating.hideProgress(id);\n                    this._templating.setStatusText(id, this._options.text.waitingForResponse);\n                    this._displayFileSize(id);\n                } else {\n                    this._displayFileSize(id, loaded, total);\n                }\n            },\n            _onTotalProgress: function(loaded, total) {\n                this._parent.prototype._onTotalProgress.apply(this, arguments);\n                this._templating.updateTotalProgress(loaded, total);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                var parentRetVal = this._parent.prototype._onComplete.apply(this, arguments), templating = this._templating, fileContainer = templating.getFileContainer(id), self = this;\n                function completeUpload(result) {\n                    if (!fileContainer) {\n                        return;\n                    }\n                    templating.setStatusText(id);\n                    qq(fileContainer).removeClass(self._classes.retrying);\n                    templating.hideProgress(id);\n                    if (self.getUploads({\n                        id: id\n                    }).status !== qq.status.UPLOAD_FAILED) {\n                        templating.hideCancel(id);\n                    }\n                    templating.hideSpinner(id);\n                    if (result.success) {\n                        self._markFileAsSuccessful(id);\n                    } else {\n                        qq(fileContainer).addClass(self._classes.fail);\n                        templating.showCancel(id);\n                        if (templating.isRetryPossible() && !self._preventRetries[id]) {\n                            qq(fileContainer).addClass(self._classes.retryable);\n                            templating.showRetry(id);\n                        }\n                        self._controlFailureTextDisplay(id, result);\n                    }\n                }\n                if (parentRetVal instanceof qq.Promise) {\n                    parentRetVal.done(function(newResult) {\n                        completeUpload(newResult);\n                    });\n                } else {\n                    completeUpload(result);\n                }\n                return parentRetVal;\n            },\n            _markFileAsSuccessful: function(id) {\n                var templating = this._templating;\n                if (this._isDeletePossible()) {\n                    templating.showDeleteButton(id);\n                }\n                qq(templating.getFileContainer(id)).addClass(this._classes.success);\n                this._maybeUpdateThumbnail(id);\n            },\n            _onUploadPrep: function(id) {\n                this._parent.prototype._onUploadPrep.apply(this, arguments);\n                this._templating.showSpinner(id);\n            },\n            _onUpload: function(id, name) {\n                var parentRetVal = this._parent.prototype._onUpload.apply(this, arguments);\n                this._templating.showSpinner(id);\n                return parentRetVal;\n            },\n            _onUploadChunk: function(id, chunkData) {\n                this._parent.prototype._onUploadChunk.apply(this, arguments);\n                if (chunkData.partIndex > 0 && this._handler.isResumable(id)) {\n                    this._templating.allowPause(id);\n                }\n            },\n            _onCancel: function(id, name) {\n                this._parent.prototype._onCancel.apply(this, arguments);\n                this._removeFileItem(id);\n                if (this._getNotFinished() === 0) {\n                    this._templating.resetTotalProgress();\n                }\n            },\n            _onBeforeAutoRetry: function(id) {\n                var retryNumForDisplay, maxAuto, retryNote;\n                this._parent.prototype._onBeforeAutoRetry.apply(this, arguments);\n                this._showCancelLink(id);\n                if (this._options.retry.showAutoRetryNote) {\n                    retryNumForDisplay = this._autoRetries[id];\n                    maxAuto = this._options.retry.maxAutoAttempts;\n                    retryNote = this._options.retry.autoRetryNote.replace(/\\{retryNum\\}/g, retryNumForDisplay);\n                    retryNote = retryNote.replace(/\\{maxAuto\\}/g, maxAuto);\n                    this._templating.setStatusText(id, retryNote);\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retrying);\n                }\n            },\n            _onBeforeManualRetry: function(id) {\n                if (this._parent.prototype._onBeforeManualRetry.apply(this, arguments)) {\n                    this._templating.resetProgress(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.fail);\n                    this._templating.setStatusText(id);\n                    this._templating.showSpinner(id);\n                    this._showCancelLink(id);\n                    return true;\n                } else {\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retryable);\n                    this._templating.showRetry(id);\n                    return false;\n                }\n            },\n            _onSubmitDelete: function(id) {\n                var onSuccessCallback = qq.bind(this._onSubmitDeleteSuccess, this);\n                this._parent.prototype._onSubmitDelete.call(this, id, onSuccessCallback);\n            },\n            _onSubmitDeleteSuccess: function(id, uuid, additionalMandatedParams) {\n                if (this._options.deleteFile.forceConfirm) {\n                    this._showDeleteConfirm.apply(this, arguments);\n                } else {\n                    this._sendDeleteRequest.apply(this, arguments);\n                }\n            },\n            _onDeleteComplete: function(id, xhr, isError) {\n                this._parent.prototype._onDeleteComplete.apply(this, arguments);\n                this._templating.hideSpinner(id);\n                if (isError) {\n                    this._templating.setStatusText(id, this._options.deleteFile.deletingFailedText);\n                    this._templating.showDeleteButton(id);\n                } else {\n                    this._removeFileItem(id);\n                }\n            },\n            _sendDeleteRequest: function(id, uuid, additionalMandatedParams) {\n                this._templating.hideDeleteButton(id);\n                this._templating.showSpinner(id);\n                this._templating.setStatusText(id, this._options.deleteFile.deletingStatusText);\n                this._deleteHandler.sendDelete.apply(this, arguments);\n            },\n            _showDeleteConfirm: function(id, uuid, mandatedParams) {\n                var fileName = this.getName(id), confirmMessage = this._options.deleteFile.confirmMessage.replace(/\\{filename\\}/g, fileName), uuid = this.getUuid(id), deleteRequestArgs = arguments, self = this, retVal;\n                retVal = this._options.showConfirm(confirmMessage);\n                if (qq.isGenericPromise(retVal)) {\n                    retVal.then(function() {\n                        self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                    });\n                } else if (retVal !== false) {\n                    self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                }\n            },\n            _addToList: function(id, name, canned) {\n                var prependData, prependIndex = 0, dontDisplay = this._handler.isProxied(id) && this._options.scaling.hideScaled, record;\n                if (this._options.display.prependFiles) {\n                    if (this._totalFilesInBatch > 1 && this._filesInBatchAddedToUi > 0) {\n                        prependIndex = this._filesInBatchAddedToUi - 1;\n                    }\n                    prependData = {\n                        index: prependIndex\n                    };\n                }\n                if (!canned) {\n                    if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {\n                        this._templating.disableCancel();\n                    }\n                    if (!this._options.multiple) {\n                        record = this.getUploads({\n                            id: id\n                        });\n                        this._handledProxyGroup = this._handledProxyGroup || record.proxyGroupId;\n                        if (record.proxyGroupId !== this._handledProxyGroup || !record.proxyGroupId) {\n                            this._handler.cancelAll();\n                            this._clearList();\n                            this._handledProxyGroup = null;\n                        }\n                    }\n                }\n                if (canned) {\n                    this._templating.addFileToCache(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.updateThumbnail(id, this._thumbnailUrls[id], true, this._options.thumbnails.customResizer);\n                } else {\n                    this._templating.addFile(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.generatePreview(id, this.getFile(id), this._options.thumbnails.customResizer);\n                }\n                this._filesInBatchAddedToUi += 1;\n                if (canned || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) {\n                    this._displayFileSize(id);\n                }\n            },\n            _clearList: function() {\n                this._templating.clearFiles();\n                this.clearStoredFiles();\n            },\n            _displayFileSize: function(id, loadedSize, totalSize) {\n                var size = this.getSize(id), sizeForDisplay = this._formatSize(size);\n                if (size >= 0) {\n                    if (loadedSize !== undefined && totalSize !== undefined) {\n                        sizeForDisplay = this._formatProgress(loadedSize, totalSize);\n                    }\n                    this._templating.updateSize(id, sizeForDisplay);\n                }\n            },\n            _formatProgress: function(uploadedSize, totalSize) {\n                var message = this._options.text.formatProgress;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                r(\"{percent}\", Math.round(uploadedSize / totalSize * 100));\n                r(\"{total_size}\", this._formatSize(totalSize));\n                return message;\n            },\n            _controlFailureTextDisplay: function(id, response) {\n                var mode, responseProperty, failureReason;\n                mode = this._options.failedUploadTextDisplay.mode;\n                responseProperty = this._options.failedUploadTextDisplay.responseProperty;\n                if (mode === \"custom\") {\n                    failureReason = response[responseProperty];\n                    if (!failureReason) {\n                        failureReason = this._options.text.failUpload;\n                    }\n                    this._templating.setStatusText(id, failureReason);\n                    if (this._options.failedUploadTextDisplay.enableTooltip) {\n                        this._showTooltip(id, failureReason);\n                    }\n                } else if (mode === \"default\") {\n                    this._templating.setStatusText(id, this._options.text.failUpload);\n                } else if (mode !== \"none\") {\n                    this.log(\"failedUploadTextDisplay.mode value of '\" + mode + \"' is not valid\", \"warn\");\n                }\n            },\n            _showTooltip: function(id, text) {\n                this._templating.getFileContainer(id).title = text;\n            },\n            _showCancelLink: function(id) {\n                if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) {\n                    this._templating.showCancel(id);\n                }\n            },\n            _itemError: function(code, name, item) {\n                var message = this._parent.prototype._itemError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _batchError: function(message) {\n                this._parent.prototype._batchError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _setupPastePrompt: function() {\n                var self = this;\n                this._options.callbacks.onPasteReceived = function() {\n                    var message = self._options.paste.namePromptMessage, defaultVal = self._options.paste.defaultName;\n                    return self._options.showPrompt(message, defaultVal);\n                };\n            },\n            _fileOrBlobRejected: function(id, name) {\n                this._totalFilesInBatch -= 1;\n                this._parent.prototype._fileOrBlobRejected.apply(this, arguments);\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                this._totalFilesInBatch = items.length;\n                this._filesInBatchAddedToUi = 0;\n                this._parent.prototype._prepareItemsForUpload.apply(this, arguments);\n            },\n            _maybeUpdateThumbnail: function(fileId) {\n                var thumbnailUrl = this._thumbnailUrls[fileId], fileStatus = this.getUploads({\n                    id: fileId\n                }).status;\n                if (fileStatus !== qq.status.DELETED && (thumbnailUrl || this._options.thumbnails.placeholders.waitUntilResponse || !qq.supportedFeatures.imagePreviews)) {\n                    this._templating.updateThumbnail(fileId, thumbnailUrl, this._options.thumbnails.customResizer);\n                }\n            },\n            _addCannedFile: function(sessionData) {\n                var id = this._parent.prototype._addCannedFile.apply(this, arguments);\n                this._addToList(id, this.getName(id), true);\n                this._templating.hideSpinner(id);\n                this._templating.hideCancel(id);\n                this._markFileAsSuccessful(id);\n                return id;\n            },\n            _setSize: function(id, newSize) {\n                this._parent.prototype._setSize.apply(this, arguments);\n                this._templating.updateSize(id, this._formatSize(newSize));\n            },\n            _sessionRequestComplete: function() {\n                this._templating.addCacheToDom();\n                this._parent.prototype._sessionRequestComplete.apply(this, arguments);\n            }\n        };\n    })();\n    qq.FineUploader = function(o, namespace) {\n        \"use strict\";\n        var self = this;\n        this._parent = namespace ? qq[namespace].FineUploaderBasic : qq.FineUploaderBasic;\n        this._parent.apply(this, arguments);\n        qq.extend(this._options, {\n            element: null,\n            button: null,\n            listElement: null,\n            dragAndDrop: {\n                extraDropzones: [],\n                reportDirectoryPaths: false\n            },\n            text: {\n                formatProgress: \"{percent}% of {total_size}\",\n                failUpload: \"Upload failed\",\n                waitingForResponse: \"Processing...\",\n                paused: \"Paused\"\n            },\n            template: \"qq-template\",\n            classes: {\n                retrying: \"qq-upload-retrying\",\n                retryable: \"qq-upload-retryable\",\n                success: \"qq-upload-success\",\n                fail: \"qq-upload-fail\",\n                editable: \"qq-editable\",\n                hide: \"qq-hide\",\n                dropActive: \"qq-upload-drop-area-active\"\n            },\n            failedUploadTextDisplay: {\n                mode: \"default\",\n                responseProperty: \"error\",\n                enableTooltip: true\n            },\n            messages: {\n                tooManyFilesError: \"You may only drop one file\",\n                unsupportedBrowser: \"Unrecoverable error - this browser does not permit file uploading of any kind.\"\n            },\n            retry: {\n                showAutoRetryNote: true,\n                autoRetryNote: \"Retrying {retryNum}/{maxAuto}...\"\n            },\n            deleteFile: {\n                forceConfirm: false,\n                confirmMessage: \"Are you sure you want to delete {filename}?\",\n                deletingStatusText: \"Deleting...\",\n                deletingFailedText: \"Delete failed\"\n            },\n            display: {\n                fileSizeOnSubmit: false,\n                prependFiles: false\n            },\n            paste: {\n                promptForName: false,\n                namePromptMessage: \"Please name this image\"\n            },\n            thumbnails: {\n                customResizer: null,\n                maxCount: 0,\n                placeholders: {\n                    waitUntilResponse: false,\n                    notAvailablePath: null,\n                    waitingPath: null\n                },\n                timeBetweenThumbs: 750\n            },\n            scaling: {\n                hideScaled: false\n            },\n            showMessage: function(message) {\n                if (self._templating.hasDialog(\"alert\")) {\n                    return self._templating.showDialog(\"alert\", message);\n                } else {\n                    setTimeout(function() {\n                        window.alert(message);\n                    }, 0);\n                }\n            },\n            showConfirm: function(message) {\n                if (self._templating.hasDialog(\"confirm\")) {\n                    return self._templating.showDialog(\"confirm\", message);\n                } else {\n                    return window.confirm(message);\n                }\n            },\n            showPrompt: function(message, defaultValue) {\n                if (self._templating.hasDialog(\"prompt\")) {\n                    return self._templating.showDialog(\"prompt\", message, defaultValue);\n                } else {\n                    return window.prompt(message, defaultValue);\n                }\n            }\n        }, true);\n        qq.extend(this._options, o, true);\n        this._templating = new qq.Templating({\n            log: qq.bind(this.log, this),\n            templateIdOrEl: this._options.template,\n            containerEl: this._options.element,\n            fileContainerEl: this._options.listElement,\n            button: this._options.button,\n            imageGenerator: this._imageGenerator,\n            classes: {\n                hide: this._options.classes.hide,\n                editable: this._options.classes.editable\n            },\n            limits: {\n                maxThumbs: this._options.thumbnails.maxCount,\n                timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs\n            },\n            placeholders: {\n                waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,\n                thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,\n                waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath\n            },\n            text: this._options.text\n        });\n        if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari);\n        } else if (!qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowser);\n        } else {\n            this._wrapCallbacks();\n            this._templating.render();\n            this._classes = this._options.classes;\n            if (!this._options.button && this._templating.getButton()) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._templating.getButton(),\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._setupClickAndEditEventHandlers();\n            if (qq.DragAndDrop && qq.supportedFeatures.fileDrop) {\n                this._dnd = this._setupDragAndDrop();\n            }\n            if (this._options.paste.targetElement && this._options.paste.promptForName) {\n                if (qq.PasteSupport) {\n                    this._setupPastePrompt();\n                } else {\n                    this.log(\"Paste support module not found.\", \"error\");\n                }\n            }\n            this._totalFilesInBatch = 0;\n            this._filesInBatchAddedToUi = 0;\n        }\n    };\n    qq.extend(qq.FineUploader.prototype, qq.basePublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.basePrivateApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPrivateApi);\n    qq.Templating = function(spec) {\n        \"use strict\";\n        var FILE_ID_ATTR = \"qq-file-id\", FILE_CLASS_PREFIX = \"qq-file-id-\", THUMBNAIL_MAX_SIZE_ATTR = \"qq-max-size\", THUMBNAIL_SERVER_SCALE_ATTR = \"qq-server-scale\", HIDE_DROPZONE_ATTR = \"qq-hide-dropzone\", DROPZPONE_TEXT_ATTR = \"qq-drop-area-text\", IN_PROGRESS_CLASS = \"qq-in-progress\", HIDDEN_FOREVER_CLASS = \"qq-hidden-forever\", fileBatch = {\n            content: document.createDocumentFragment(),\n            map: {}\n        }, isCancelDisabled = false, generatedThumbnails = 0, thumbnailQueueMonitorRunning = false, thumbGenerationQueue = [], thumbnailMaxSize = -1, options = {\n            log: null,\n            limits: {\n                maxThumbs: 0,\n                timeBetweenThumbs: 750\n            },\n            templateIdOrEl: \"qq-template\",\n            containerEl: null,\n            fileContainerEl: null,\n            button: null,\n            imageGenerator: null,\n            classes: {\n                hide: \"qq-hide\",\n                editable: \"qq-editable\"\n            },\n            placeholders: {\n                waitUntilUpdate: false,\n                thumbnailNotAvailable: null,\n                waitingForThumbnail: null\n            },\n            text: {\n                paused: \"Paused\"\n            }\n        }, selectorClasses = {\n            button: \"qq-upload-button-selector\",\n            alertDialog: \"qq-alert-dialog-selector\",\n            dialogCancelButton: \"qq-cancel-button-selector\",\n            confirmDialog: \"qq-confirm-dialog-selector\",\n            dialogMessage: \"qq-dialog-message-selector\",\n            dialogOkButton: \"qq-ok-button-selector\",\n            promptDialog: \"qq-prompt-dialog-selector\",\n            uploader: \"qq-uploader-selector\",\n            drop: \"qq-upload-drop-area-selector\",\n            list: \"qq-upload-list-selector\",\n            progressBarContainer: \"qq-progress-bar-container-selector\",\n            progressBar: \"qq-progress-bar-selector\",\n            totalProgressBarContainer: \"qq-total-progress-bar-container-selector\",\n            totalProgressBar: \"qq-total-progress-bar-selector\",\n            file: \"qq-upload-file-selector\",\n            spinner: \"qq-upload-spinner-selector\",\n            size: \"qq-upload-size-selector\",\n            cancel: \"qq-upload-cancel-selector\",\n            pause: \"qq-upload-pause-selector\",\n            continueButton: \"qq-upload-continue-selector\",\n            deleteButton: \"qq-upload-delete-selector\",\n            retry: \"qq-upload-retry-selector\",\n            statusText: \"qq-upload-status-text-selector\",\n            editFilenameInput: \"qq-edit-filename-selector\",\n            editNameIcon: \"qq-edit-filename-icon-selector\",\n            dropText: \"qq-upload-drop-area-text-selector\",\n            dropProcessing: \"qq-drop-processing-selector\",\n            dropProcessingSpinner: \"qq-drop-processing-spinner-selector\",\n            thumbnail: \"qq-thumbnail-selector\"\n        }, previewGeneration = {}, cachedThumbnailNotAvailableImg = new qq.Promise(), cachedWaitingForThumbnailImg = new qq.Promise(), log, isEditElementsExist, isRetryElementExist, templateDom, container, fileList, showThumbnails, serverScale, cacheThumbnailPlaceholders = function() {\n            var notAvailableUrl = options.placeholders.thumbnailNotAvailable, waitingUrl = options.placeholders.waitingForThumbnail, spec = {\n                maxSize: thumbnailMaxSize,\n                scale: serverScale\n            };\n            if (showThumbnails) {\n                if (notAvailableUrl) {\n                    options.imageGenerator.generate(notAvailableUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedThumbnailNotAvailableImg.success(updatedImg);\n                    }, function() {\n                        cachedThumbnailNotAvailableImg.failure();\n                        log(\"Problem loading 'not available' placeholder image at \" + notAvailableUrl, \"error\");\n                    });\n                } else {\n                    cachedThumbnailNotAvailableImg.failure();\n                }\n                if (waitingUrl) {\n                    options.imageGenerator.generate(waitingUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedWaitingForThumbnailImg.success(updatedImg);\n                    }, function() {\n                        cachedWaitingForThumbnailImg.failure();\n                        log(\"Problem loading 'waiting for thumbnail' placeholder image at \" + waitingUrl, \"error\");\n                    });\n                } else {\n                    cachedWaitingForThumbnailImg.failure();\n                }\n            }\n        }, displayWaitingImg = function(thumbnail) {\n            var waitingImgPlacement = new qq.Promise();\n            cachedWaitingForThumbnailImg.then(function(img) {\n                maybeScalePlaceholderViaCss(img, thumbnail);\n                if (!thumbnail.src) {\n                    thumbnail.src = img.src;\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        show(thumbnail);\n                        waitingImgPlacement.success();\n                    };\n                } else {\n                    waitingImgPlacement.success();\n                }\n            }, function() {\n                hide(thumbnail);\n                waitingImgPlacement.success();\n            });\n            return waitingImgPlacement;\n        }, generateNewPreview = function(id, blob, spec) {\n            var thumbnail = getThumbnail(id);\n            log(\"Generating new thumbnail for \" + id);\n            blob.qqThumbnailId = id;\n            return options.imageGenerator.generate(blob, thumbnail, spec).then(function() {\n                generatedThumbnails++;\n                show(thumbnail);\n                previewGeneration[id].success();\n            }, function() {\n                previewGeneration[id].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                }\n            });\n        }, generateNextQueuedPreview = function() {\n            if (thumbGenerationQueue.length) {\n                thumbnailQueueMonitorRunning = true;\n                var queuedThumbRequest = thumbGenerationQueue.shift();\n                if (queuedThumbRequest.update) {\n                    processUpdateQueuedPreviewRequest(queuedThumbRequest);\n                } else {\n                    processNewQueuedPreviewRequest(queuedThumbRequest);\n                }\n            } else {\n                thumbnailQueueMonitorRunning = false;\n            }\n        }, getCancel = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.cancel);\n        }, getContinue = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.continueButton);\n        }, getDialog = function(type) {\n            return getTemplateEl(container, selectorClasses[type + \"Dialog\"]);\n        }, getDelete = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.deleteButton);\n        }, getDropProcessing = function() {\n            return getTemplateEl(container, selectorClasses.dropProcessing);\n        }, getEditIcon = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.editNameIcon);\n        }, getFile = function(id) {\n            return fileBatch.map[id] || qq(fileList).getFirstByClass(FILE_CLASS_PREFIX + id);\n        }, getFilename = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.file);\n        }, getPause = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.pause);\n        }, getProgress = function(id) {\n            if (id == null) {\n                return getTemplateEl(container, selectorClasses.totalProgressBarContainer) || getTemplateEl(container, selectorClasses.totalProgressBar);\n            }\n            return getTemplateEl(getFile(id), selectorClasses.progressBarContainer) || getTemplateEl(getFile(id), selectorClasses.progressBar);\n        }, getRetry = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.retry);\n        }, getSize = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.size);\n        }, getSpinner = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.spinner);\n        }, getTemplateEl = function(context, cssClass) {\n            return context && qq(context).getFirstByClass(cssClass);\n        }, getThumbnail = function(id) {\n            return showThumbnails && getTemplateEl(getFile(id), selectorClasses.thumbnail);\n        }, hide = function(el) {\n            el && qq(el).addClass(options.classes.hide);\n        }, maybeScalePlaceholderViaCss = function(placeholder, thumbnail) {\n            var maxWidth = placeholder.style.maxWidth, maxHeight = placeholder.style.maxHeight;\n            if (maxHeight && maxWidth && !thumbnail.style.maxWidth && !thumbnail.style.maxHeight) {\n                qq(thumbnail).css({\n                    maxWidth: maxWidth,\n                    maxHeight: maxHeight\n                });\n            }\n        }, maybeSetDisplayNotAvailableImg = function(id, thumbnail) {\n            var previewing = previewGeneration[id] || new qq.Promise().failure(), notAvailableImgPlacement = new qq.Promise();\n            cachedThumbnailNotAvailableImg.then(function(img) {\n                previewing.then(function() {\n                    notAvailableImgPlacement.success();\n                }, function() {\n                    maybeScalePlaceholderViaCss(img, thumbnail);\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        notAvailableImgPlacement.success();\n                    };\n                    thumbnail.src = img.src;\n                    show(thumbnail);\n                });\n            });\n            return notAvailableImgPlacement;\n        }, parseAndGetTemplate = function() {\n            var scriptEl, scriptHtml, fileListNode, tempTemplateEl, fileListEl, defaultButton, dropArea, thumbnail, dropProcessing, dropTextEl, uploaderEl;\n            log(\"Parsing template\");\n            if (options.templateIdOrEl == null) {\n                throw new Error(\"You MUST specify either a template element or ID!\");\n            }\n            if (qq.isString(options.templateIdOrEl)) {\n                scriptEl = document.getElementById(options.templateIdOrEl);\n                if (scriptEl === null) {\n                    throw new Error(qq.format(\"Cannot find template script at ID '{}'!\", options.templateIdOrEl));\n                }\n                scriptHtml = scriptEl.innerHTML;\n            } else {\n                if (options.templateIdOrEl.innerHTML === undefined) {\n                    throw new Error(\"You have specified an invalid value for the template option!  \" + \"It must be an ID or an Element.\");\n                }\n                scriptHtml = options.templateIdOrEl.innerHTML;\n            }\n            scriptHtml = qq.trimStr(scriptHtml);\n            tempTemplateEl = document.createElement(\"div\");\n            tempTemplateEl.appendChild(qq.toElement(scriptHtml));\n            uploaderEl = qq(tempTemplateEl).getFirstByClass(selectorClasses.uploader);\n            if (options.button) {\n                defaultButton = qq(tempTemplateEl).getFirstByClass(selectorClasses.button);\n                if (defaultButton) {\n                    qq(defaultButton).remove();\n                }\n            }\n            if (!qq.DragAndDrop || !qq.supportedFeatures.fileDrop) {\n                dropProcessing = qq(tempTemplateEl).getFirstByClass(selectorClasses.dropProcessing);\n                if (dropProcessing) {\n                    qq(dropProcessing).remove();\n                }\n            }\n            dropArea = qq(tempTemplateEl).getFirstByClass(selectorClasses.drop);\n            if (dropArea && !qq.DragAndDrop) {\n                log(\"DnD module unavailable.\", \"info\");\n                qq(dropArea).remove();\n            }\n            if (!qq.supportedFeatures.fileDrop) {\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (dropArea && qq(dropArea).hasAttribute(HIDE_DROPZONE_ATTR)) {\n                    qq(dropArea).css({\n                        display: \"none\"\n                    });\n                }\n            } else if (qq(uploaderEl).hasAttribute(DROPZPONE_TEXT_ATTR) && dropArea) {\n                dropTextEl = qq(dropArea).getFirstByClass(selectorClasses.dropText);\n                dropTextEl && qq(dropTextEl).remove();\n            }\n            thumbnail = qq(tempTemplateEl).getFirstByClass(selectorClasses.thumbnail);\n            if (!showThumbnails) {\n                thumbnail && qq(thumbnail).remove();\n            } else if (thumbnail) {\n                thumbnailMaxSize = parseInt(thumbnail.getAttribute(THUMBNAIL_MAX_SIZE_ATTR));\n                thumbnailMaxSize = thumbnailMaxSize > 0 ? thumbnailMaxSize : null;\n                serverScale = qq(thumbnail).hasAttribute(THUMBNAIL_SERVER_SCALE_ATTR);\n            }\n            showThumbnails = showThumbnails && thumbnail;\n            isEditElementsExist = qq(tempTemplateEl).getByClass(selectorClasses.editFilenameInput).length > 0;\n            isRetryElementExist = qq(tempTemplateEl).getByClass(selectorClasses.retry).length > 0;\n            fileListNode = qq(tempTemplateEl).getFirstByClass(selectorClasses.list);\n            if (fileListNode == null) {\n                throw new Error(\"Could not find the file list container in the template!\");\n            }\n            fileListEl = fileListNode.children[0].cloneNode(true);\n            fileListNode.innerHTML = \"\";\n            if (tempTemplateEl.getElementsByTagName(\"DIALOG\").length) {\n                document.createElement(\"dialog\");\n            }\n            log(\"Template parsing complete\");\n            return {\n                template: tempTemplateEl,\n                fileTemplate: fileListEl\n            };\n        }, prependFile = function(el, index, fileList) {\n            var parentEl = fileList, beforeEl = parentEl.firstChild;\n            if (index > 0) {\n                beforeEl = qq(parentEl).children()[index].nextSibling;\n            }\n            parentEl.insertBefore(el, beforeEl);\n        }, processNewQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, optFileOrBlob = queuedThumbRequest.optFileOrBlob, relatedThumbnailId = optFileOrBlob && optFileOrBlob.qqThumbnailId, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                maxSize: thumbnailMaxSize,\n                orient: true,\n                scale: true\n            };\n            if (qq.supportedFeatures.imagePreviews) {\n                if (thumbnail) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        displayWaitingImg(thumbnail).done(function() {\n                            previewGeneration[id] = new qq.Promise();\n                            previewGeneration[id].done(function() {\n                                setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                            });\n                            if (relatedThumbnailId != null) {\n                                useCachedPreview(id, relatedThumbnailId);\n                            } else {\n                                generateNewPreview(id, optFileOrBlob, spec);\n                            }\n                        });\n                    }\n                } else {\n                    generateNextQueuedPreview();\n                }\n            } else if (thumbnail) {\n                displayWaitingImg(thumbnail);\n                generateNextQueuedPreview();\n            }\n        }, processUpdateQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, thumbnailUrl = queuedThumbRequest.thumbnailUrl, showWaitingImg = queuedThumbRequest.showWaitingImg, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                scale: serverScale,\n                maxSize: thumbnailMaxSize\n            };\n            if (thumbnail) {\n                if (thumbnailUrl) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        if (showWaitingImg) {\n                            displayWaitingImg(thumbnail);\n                        }\n                        return options.imageGenerator.generate(thumbnailUrl, thumbnail, spec).then(function() {\n                            show(thumbnail);\n                            generatedThumbnails++;\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        }, function() {\n                            maybeSetDisplayNotAvailableImg(id, thumbnail);\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        });\n                    }\n                } else {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                    generateNextQueuedPreview();\n                }\n            }\n        }, setProgressBarWidth = function(id, percent) {\n            var bar = getProgress(id), progressBarSelector = id == null ? selectorClasses.totalProgressBar : selectorClasses.progressBar;\n            if (bar && !qq(bar).hasClass(progressBarSelector)) {\n                bar = qq(bar).getFirstByClass(progressBarSelector);\n            }\n            if (bar) {\n                qq(bar).css({\n                    width: percent + \"%\"\n                });\n                bar.setAttribute(\"aria-valuenow\", percent);\n            }\n        }, show = function(el) {\n            el && qq(el).removeClass(options.classes.hide);\n        }, useCachedPreview = function(targetThumbnailId, cachedThumbnailId) {\n            var targetThumbnail = getThumbnail(targetThumbnailId), cachedThumbnail = getThumbnail(cachedThumbnailId);\n            log(qq.format(\"ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.\", targetThumbnailId, cachedThumbnailId, cachedThumbnailId));\n            previewGeneration[cachedThumbnailId].then(function() {\n                generatedThumbnails++;\n                previewGeneration[targetThumbnailId].success();\n                log(qq.format(\"Now using previously generated thumbnail created for ID {} on ID {}.\", cachedThumbnailId, targetThumbnailId));\n                targetThumbnail.src = cachedThumbnail.src;\n                show(targetThumbnail);\n            }, function() {\n                previewGeneration[targetThumbnailId].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(targetThumbnailId, targetThumbnail);\n                }\n            });\n        };\n        qq.extend(options, spec);\n        log = options.log;\n        if (!qq.supportedFeatures.imagePreviews) {\n            options.limits.timeBetweenThumbs = 0;\n            options.limits.maxThumbs = 0;\n        }\n        container = options.containerEl;\n        showThumbnails = options.imageGenerator !== undefined;\n        templateDom = parseAndGetTemplate();\n        cacheThumbnailPlaceholders();\n        qq.extend(this, {\n            render: function() {\n                log(\"Rendering template in DOM.\");\n                generatedThumbnails = 0;\n                container.appendChild(templateDom.template.cloneNode(true));\n                hide(getDropProcessing());\n                this.hideTotalProgress();\n                fileList = options.fileContainerEl || getTemplateEl(container, selectorClasses.list);\n                log(\"Template rendering complete\");\n            },\n            renderFailure: function(message) {\n                var cantRenderEl = qq.toElement(message);\n                container.innerHTML = \"\";\n                container.appendChild(cantRenderEl);\n            },\n            reset: function() {\n                container.innerHTML = \"\";\n                this.render();\n            },\n            clearFiles: function() {\n                fileList.innerHTML = \"\";\n            },\n            disableCancel: function() {\n                isCancelDisabled = true;\n            },\n            addFile: function(id, name, prependInfo, hideForever, batch) {\n                var fileEl = templateDom.fileTemplate.cloneNode(true), fileNameEl = getTemplateEl(fileEl, selectorClasses.file), uploaderEl = getTemplateEl(container, selectorClasses.uploader), fileContainer = batch ? fileBatch.content : fileList, thumb;\n                if (batch) {\n                    fileBatch.map[id] = fileEl;\n                }\n                qq(fileEl).addClass(FILE_CLASS_PREFIX + id);\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (fileNameEl) {\n                    qq(fileNameEl).setText(name);\n                    fileNameEl.setAttribute(\"title\", name);\n                }\n                fileEl.setAttribute(FILE_ID_ATTR, id);\n                if (prependInfo) {\n                    prependFile(fileEl, prependInfo.index, fileContainer);\n                } else {\n                    fileContainer.appendChild(fileEl);\n                }\n                if (hideForever) {\n                    fileEl.style.display = \"none\";\n                    qq(fileEl).addClass(HIDDEN_FOREVER_CLASS);\n                } else {\n                    hide(getProgress(id));\n                    hide(getSize(id));\n                    hide(getDelete(id));\n                    hide(getRetry(id));\n                    hide(getPause(id));\n                    hide(getContinue(id));\n                    if (isCancelDisabled) {\n                        this.hideCancel(id);\n                    }\n                    thumb = getThumbnail(id);\n                    if (thumb && !thumb.src) {\n                        cachedWaitingForThumbnailImg.then(function(waitingImg) {\n                            thumb.src = waitingImg.src;\n                            if (waitingImg.style.maxHeight && waitingImg.style.maxWidth) {\n                                qq(thumb).css({\n                                    maxHeight: waitingImg.style.maxHeight,\n                                    maxWidth: waitingImg.style.maxWidth\n                                });\n                            }\n                            show(thumb);\n                        });\n                    }\n                }\n            },\n            addFileToCache: function(id, name, prependInfo, hideForever) {\n                this.addFile(id, name, prependInfo, hideForever, true);\n            },\n            addCacheToDom: function() {\n                fileList.appendChild(fileBatch.content);\n                fileBatch.content = document.createDocumentFragment();\n                fileBatch.map = {};\n            },\n            removeFile: function(id) {\n                qq(getFile(id)).remove();\n            },\n            getFileId: function(el) {\n                var currentNode = el;\n                if (currentNode) {\n                    while (currentNode.getAttribute(FILE_ID_ATTR) == null) {\n                        currentNode = currentNode.parentNode;\n                    }\n                    return parseInt(currentNode.getAttribute(FILE_ID_ATTR));\n                }\n            },\n            getFileList: function() {\n                return fileList;\n            },\n            markFilenameEditable: function(id) {\n                var filename = getFilename(id);\n                filename && qq(filename).addClass(options.classes.editable);\n            },\n            updateFilename: function(id, name) {\n                var filenameEl = getFilename(id);\n                if (filenameEl) {\n                    qq(filenameEl).setText(name);\n                    filenameEl.setAttribute(\"title\", name);\n                }\n            },\n            hideFilename: function(id) {\n                hide(getFilename(id));\n            },\n            showFilename: function(id) {\n                show(getFilename(id));\n            },\n            isFileName: function(el) {\n                return qq(el).hasClass(selectorClasses.file);\n            },\n            getButton: function() {\n                return options.button || getTemplateEl(container, selectorClasses.button);\n            },\n            hideDropProcessing: function() {\n                hide(getDropProcessing());\n            },\n            showDropProcessing: function() {\n                show(getDropProcessing());\n            },\n            getDropZone: function() {\n                return getTemplateEl(container, selectorClasses.drop);\n            },\n            isEditFilenamePossible: function() {\n                return isEditElementsExist;\n            },\n            hideRetry: function(id) {\n                hide(getRetry(id));\n            },\n            isRetryPossible: function() {\n                return isRetryElementExist;\n            },\n            showRetry: function(id) {\n                show(getRetry(id));\n            },\n            getFileContainer: function(id) {\n                return getFile(id);\n            },\n            showEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).addClass(options.classes.editable);\n            },\n            isHiddenForever: function(id) {\n                return qq(getFile(id)).hasClass(HIDDEN_FOREVER_CLASS);\n            },\n            hideEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).removeClass(options.classes.editable);\n            },\n            isEditIcon: function(el) {\n                return qq(el).hasClass(selectorClasses.editNameIcon, true);\n            },\n            getEditInput: function(id) {\n                return getTemplateEl(getFile(id), selectorClasses.editFilenameInput);\n            },\n            isEditInput: function(el) {\n                return qq(el).hasClass(selectorClasses.editFilenameInput, true);\n            },\n            updateProgress: function(id, loaded, total) {\n                var bar = getProgress(id), percent;\n                if (bar && total > 0) {\n                    percent = Math.round(loaded / total * 100);\n                    if (percent === 100) {\n                        hide(bar);\n                    } else {\n                        show(bar);\n                    }\n                    setProgressBarWidth(id, percent);\n                }\n            },\n            updateTotalProgress: function(loaded, total) {\n                this.updateProgress(null, loaded, total);\n            },\n            hideProgress: function(id) {\n                var bar = getProgress(id);\n                bar && hide(bar);\n            },\n            hideTotalProgress: function() {\n                this.hideProgress();\n            },\n            resetProgress: function(id) {\n                setProgressBarWidth(id, 0);\n                this.hideTotalProgress(id);\n            },\n            resetTotalProgress: function() {\n                this.resetProgress();\n            },\n            showCancel: function(id) {\n                if (!isCancelDisabled) {\n                    var cancel = getCancel(id);\n                    cancel && qq(cancel).removeClass(options.classes.hide);\n                }\n            },\n            hideCancel: function(id) {\n                hide(getCancel(id));\n            },\n            isCancel: function(el) {\n                return qq(el).hasClass(selectorClasses.cancel, true);\n            },\n            allowPause: function(id) {\n                show(getPause(id));\n                hide(getContinue(id));\n            },\n            uploadPaused: function(id) {\n                this.setStatusText(id, options.text.paused);\n                this.allowContinueButton(id);\n                hide(getSpinner(id));\n            },\n            hidePause: function(id) {\n                hide(getPause(id));\n            },\n            isPause: function(el) {\n                return qq(el).hasClass(selectorClasses.pause, true);\n            },\n            isContinueButton: function(el) {\n                return qq(el).hasClass(selectorClasses.continueButton, true);\n            },\n            allowContinueButton: function(id) {\n                show(getContinue(id));\n                hide(getPause(id));\n            },\n            uploadContinued: function(id) {\n                this.setStatusText(id, \"\");\n                this.allowPause(id);\n                show(getSpinner(id));\n            },\n            showDeleteButton: function(id) {\n                show(getDelete(id));\n            },\n            hideDeleteButton: function(id) {\n                hide(getDelete(id));\n            },\n            isDeleteButton: function(el) {\n                return qq(el).hasClass(selectorClasses.deleteButton, true);\n            },\n            isRetry: function(el) {\n                return qq(el).hasClass(selectorClasses.retry, true);\n            },\n            updateSize: function(id, text) {\n                var size = getSize(id);\n                if (size) {\n                    show(size);\n                    qq(size).setText(text);\n                }\n            },\n            setStatusText: function(id, text) {\n                var textEl = getTemplateEl(getFile(id), selectorClasses.statusText);\n                if (textEl) {\n                    if (text == null) {\n                        qq(textEl).clearText();\n                    } else {\n                        qq(textEl).setText(text);\n                    }\n                }\n            },\n            hideSpinner: function(id) {\n                qq(getFile(id)).removeClass(IN_PROGRESS_CLASS);\n                hide(getSpinner(id));\n            },\n            showSpinner: function(id) {\n                qq(getFile(id)).addClass(IN_PROGRESS_CLASS);\n                show(getSpinner(id));\n            },\n            generatePreview: function(id, optFileOrBlob, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        id: id,\n                        customResizeFunction: customResizeFunction,\n                        optFileOrBlob: optFileOrBlob\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            updateThumbnail: function(id, thumbnailUrl, showWaitingImg, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        customResizeFunction: customResizeFunction,\n                        update: true,\n                        id: id,\n                        thumbnailUrl: thumbnailUrl,\n                        showWaitingImg: showWaitingImg\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            hasDialog: function(type) {\n                return qq.supportedFeatures.dialogElement && !!getDialog(type);\n            },\n            showDialog: function(type, message, defaultValue) {\n                var dialog = getDialog(type), messageEl = getTemplateEl(dialog, selectorClasses.dialogMessage), inputEl = dialog.getElementsByTagName(\"INPUT\")[0], cancelBtn = getTemplateEl(dialog, selectorClasses.dialogCancelButton), okBtn = getTemplateEl(dialog, selectorClasses.dialogOkButton), promise = new qq.Promise(), closeHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    okBtn && okBtn.removeEventListener(\"click\", okClickHandler);\n                    promise.failure();\n                }, cancelClickHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    dialog.close();\n                }, okClickHandler = function() {\n                    dialog.removeEventListener(\"close\", closeHandler);\n                    okBtn.removeEventListener(\"click\", okClickHandler);\n                    dialog.close();\n                    promise.success(inputEl && inputEl.value);\n                };\n                dialog.addEventListener(\"close\", closeHandler);\n                cancelBtn.addEventListener(\"click\", cancelClickHandler);\n                okBtn && okBtn.addEventListener(\"click\", okClickHandler);\n                if (inputEl) {\n                    inputEl.value = defaultValue;\n                }\n                messageEl.textContent = message;\n                dialog.showModal();\n                return promise;\n            }\n        });\n    };\n    qq.UiEventHandler = function(s, protectedApi) {\n        \"use strict\";\n        var disposer = new qq.DisposeSupport(), spec = {\n            eventType: \"click\",\n            attachTo: null,\n            onHandled: function(target, event) {}\n        };\n        qq.extend(this, {\n            addHandler: function(element) {\n                addHandler(element);\n            },\n            dispose: function() {\n                disposer.dispose();\n            }\n        });\n        function addHandler(element) {\n            disposer.attach(element, spec.eventType, function(event) {\n                event = event || window.event;\n                var target = event.target || event.srcElement;\n                spec.onHandled(target, event);\n            });\n        }\n        qq.extend(protectedApi, {\n            getFileIdFromItem: function(item) {\n                return item.qqFileId;\n            },\n            getDisposeSupport: function() {\n                return disposer;\n            }\n        });\n        qq.extend(spec, s);\n        if (spec.attachTo) {\n            addHandler(spec.attachTo);\n        }\n    };\n    qq.FileButtonsClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onDeleteFile: function(fileId) {},\n            onCancel: function(fileId) {},\n            onRetry: function(fileId) {},\n            onPause: function(fileId) {},\n            onContinue: function(fileId) {},\n            onGetName: function(fileId) {}\n        }, buttonHandlers = {\n            cancel: function(id) {\n                spec.onCancel(id);\n            },\n            retry: function(id) {\n                spec.onRetry(id);\n            },\n            deleteButton: function(id) {\n                spec.onDeleteFile(id);\n            },\n            pause: function(id) {\n                spec.onPause(id);\n            },\n            continueButton: function(id) {\n                spec.onContinue(id);\n            }\n        };\n        function examineEvent(target, event) {\n            qq.each(buttonHandlers, function(buttonType, handler) {\n                var firstLetterCapButtonType = buttonType.charAt(0).toUpperCase() + buttonType.slice(1), fileId;\n                if (spec.templating[\"is\" + firstLetterCapButtonType](target)) {\n                    fileId = spec.templating.getFileId(target);\n                    qq.preventDefault(event);\n                    spec.log(qq.format(\"Detected valid file button click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    handler(fileId);\n                    return false;\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            classes: {\n                file: \"qq-upload-file\",\n                editNameIcon: \"qq-edit-filename-icon\"\n            },\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {}\n        };\n        qq.extend(spec, s);\n        function examineEvent(target, event) {\n            if (spec.templating.isFileName(target) || spec.templating.isEditIcon(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    qq.preventDefault(event);\n                    inheritedInternalApi.handleFilenameEdit(fileId, target, true);\n                }\n            }\n        }\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusInHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            onGetUploadStatus: function(fileId) {},\n            log: function(message, lvl) {}\n        };\n        if (!inheritedInternalApi) {\n            inheritedInternalApi = {};\n        }\n        function handleInputFocus(target, event) {\n            if (spec.templating.isEditInput(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename input focus event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    inheritedInternalApi.handleFilenameEdit(fileId, target);\n                }\n            }\n        }\n        spec.eventType = \"focusin\";\n        spec.onHandled = handleInputFocus;\n        qq.extend(spec, s);\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusHandler = function(spec) {\n        \"use strict\";\n        spec.eventType = \"focus\";\n        spec.attachTo = null;\n        qq.extend(this, new qq.FilenameInputFocusInHandler(spec, {}));\n    };\n    qq.FilenameEditHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {},\n            onSetName: function(fileId, newName) {},\n            onEditingStatusChange: function(fileId, isEditing) {}\n        };\n        function getFilenameSansExtension(fileId) {\n            var filenameSansExt = spec.onGetName(fileId), extIdx = filenameSansExt.lastIndexOf(\".\");\n            if (extIdx > 0) {\n                filenameSansExt = filenameSansExt.substr(0, extIdx);\n            }\n            return filenameSansExt;\n        }\n        function getOriginalExtension(fileId) {\n            var origName = spec.onGetName(fileId);\n            return qq.getExtension(origName);\n        }\n        function handleNameUpdate(newFilenameInputEl, fileId) {\n            var newName = newFilenameInputEl.value, origExtension;\n            if (newName !== undefined && qq.trimStr(newName).length > 0) {\n                origExtension = getOriginalExtension(fileId);\n                if (origExtension !== undefined) {\n                    newName = newName + \".\" + origExtension;\n                }\n                spec.onSetName(fileId, newName);\n            }\n            spec.onEditingStatusChange(fileId, false);\n        }\n        function registerInputBlurHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"blur\", function() {\n                handleNameUpdate(inputEl, fileId);\n            });\n        }\n        function registerInputEnterKeyHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"keyup\", function(event) {\n                var code = event.keyCode || event.which;\n                if (code === 13) {\n                    handleNameUpdate(inputEl, fileId);\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n        qq.extend(inheritedInternalApi, {\n            handleFilenameEdit: function(id, target, focusInput) {\n                var newFilenameInputEl = spec.templating.getEditInput(id);\n                spec.onEditingStatusChange(id, true);\n                newFilenameInputEl.value = getFilenameSansExtension(id);\n                if (focusInput) {\n                    newFilenameInputEl.focus();\n                }\n                registerInputBlurHandler(newFilenameInputEl, id);\n                registerInputEnterKeyHandler(newFilenameInputEl, id);\n            }\n        });\n    };\n})(window);\n//# sourceMappingURL=fine-uploader.js.map","\"use strict\";\n\nmodule.exports = require(\"../fine-uploader/fine-uploader\");\n","function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?\"data-micromodal-trigger\":d,f=e.closeTrigger,h=void 0===f?\"data-micromodal-close\":f,v=e.openClass,g=void 0===v?\"is-open\":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:\"registerTriggers\",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener(\"click\",(function(t){return e.showModal(t)}))}))}},{key:\"showModal\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener(\"animationend\",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener(\"animationend\",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:\"closeModal\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener(\"animationend\",(function e(){t.classList.remove(o),t.removeEventListener(\"animationend\",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var t=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(t.style,{overflow:\"\"});break;case\"disable\":Object.assign(t.style,{overflow:\"hidden\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:\"setFocusToFirstNode\",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:\"retainFocus\",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal: ❗Seems like you have missed %c'\".concat(e,\"'\"),\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'.concat(e,'\"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn(\"MicroModal: ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),n=t(document.querySelectorAll(\"[\".concat(o.openTrigger,\"]\"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});\"undefined\"!=typeof window&&(window.MicroModal=l);export default l;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scrollLock\"] = factory();\n\telse\n\t\troot[\"scrollLock\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/tools.js\nvar argumentAsArray = function argumentAsArray(argument) {\n  return Array.isArray(argument) ? argument : [argument];\n};\nvar isElement = function isElement(target) {\n  return target instanceof Node;\n};\nvar isElementList = function isElementList(nodeList) {\n  return nodeList instanceof NodeList;\n};\nvar eachNode = function eachNode(nodeList, callback) {\n  if (nodeList && callback) {\n    nodeList = isElementList(nodeList) ? nodeList : [nodeList];\n\n    for (var i = 0; i < nodeList.length; i++) {\n      if (callback(nodeList[i], i, nodeList.length) === true) {\n        break;\n      }\n    }\n  }\n};\nvar throwError = function throwError(message) {\n  return console.error(\"[scroll-lock] \".concat(message));\n};\nvar arrayAsSelector = function arrayAsSelector(array) {\n  if (Array.isArray(array)) {\n    var selector = array.join(', ');\n    return selector;\n  }\n};\nvar nodeListAsArray = function nodeListAsArray(nodeList) {\n  var nodes = [];\n  eachNode(nodeList, function (node) {\n    return nodes.push(node);\n  });\n  return nodes;\n};\nvar findParentBySelector = function findParentBySelector($el, selector) {\n  var self = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var $root = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : document;\n\n  if (self && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1) {\n    return $el;\n  }\n\n  while (($el = $el.parentElement) && nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) === -1) {\n    ;\n  }\n\n  return $el;\n};\nvar elementHasSelector = function elementHasSelector($el, selector) {\n  var $root = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  var has = nodeListAsArray($root.querySelectorAll(selector)).indexOf($el) !== -1;\n  return has;\n};\nvar elementHasOverflowHidden = function elementHasOverflowHidden($el) {\n  if ($el) {\n    var computedStyle = getComputedStyle($el);\n    var overflowIsHidden = computedStyle.overflow === 'hidden';\n    return overflowIsHidden;\n  }\n};\nvar elementScrollTopOnStart = function elementScrollTopOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    return scrollTop <= 0;\n  }\n};\nvar elementScrollTopOnEnd = function elementScrollTopOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollTop = $el.scrollTop;\n    var scrollHeight = $el.scrollHeight;\n    var scrollTopWithHeight = scrollTop + $el.offsetHeight;\n    return scrollTopWithHeight >= scrollHeight;\n  }\n};\nvar elementScrollLeftOnStart = function elementScrollLeftOnStart($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    return scrollLeft <= 0;\n  }\n};\nvar elementScrollLeftOnEnd = function elementScrollLeftOnEnd($el) {\n  if ($el) {\n    if (elementHasOverflowHidden($el)) {\n      return true;\n    }\n\n    var scrollLeft = $el.scrollLeft;\n    var scrollWidth = $el.scrollWidth;\n    var scrollLeftWithWidth = scrollLeft + $el.offsetWidth;\n    return scrollLeftWithWidth >= scrollWidth;\n  }\n};\nvar elementIsScrollableField = function elementIsScrollableField($el) {\n  var selector = 'textarea, [contenteditable=\"true\"]';\n  return elementHasSelector($el, selector);\n};\nvar elementIsInputRange = function elementIsInputRange($el) {\n  var selector = 'input[type=\"range\"]';\n  return elementHasSelector($el, selector);\n};\n// CONCATENATED MODULE: ./src/scroll-lock.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disablePageScroll\", function() { return disablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enablePageScroll\", function() { return enablePageScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollState\", function() { return getScrollState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearQueueScrollLocks\", function() { return clearQueueScrollLocks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTargetScrollBarWidth\", function() { return scroll_lock_getTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentTargetScrollBarWidth\", function() { return scroll_lock_getCurrentTargetScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPageScrollBarWidth\", function() { return getPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentPageScrollBarWidth\", function() { return getCurrentPageScrollBarWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableTarget\", function() { return scroll_lock_addScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableTarget\", function() { return scroll_lock_removeScrollableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addScrollableSelector\", function() { return scroll_lock_addScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeScrollableSelector\", function() { return scroll_lock_removeScrollableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableTarget\", function() { return scroll_lock_addLockableTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLockableSelector\", function() { return scroll_lock_addLockableSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFillGapMethod\", function() { return scroll_lock_setFillGapMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapTarget\", function() { return scroll_lock_addFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapTarget\", function() { return scroll_lock_removeFillGapTarget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addFillGapSelector\", function() { return scroll_lock_addFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeFillGapSelector\", function() { return scroll_lock_removeFillGapSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refillGaps\", function() { return refillGaps; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar FILL_GAP_AVAILABLE_METHODS = ['padding', 'margin', 'width', 'max-width', 'none'];\nvar TOUCH_DIRECTION_DETECT_OFFSET = 3;\nvar state = {\n  scroll: true,\n  queue: 0,\n  scrollableSelectors: ['[data-scroll-lock-scrollable]'],\n  lockableSelectors: ['body', '[data-scroll-lock-lockable]'],\n  fillGapSelectors: ['body', '[data-scroll-lock-fill-gap]', '[data-scroll-lock-lockable]'],\n  fillGapMethod: FILL_GAP_AVAILABLE_METHODS[0],\n  //\n  startTouchY: 0,\n  startTouchX: 0\n};\nvar disablePageScroll = function disablePageScroll(target) {\n  if (state.queue <= 0) {\n    state.scroll = false;\n    scroll_lock_hideLockableOverflow();\n    fillGaps();\n  }\n\n  scroll_lock_addScrollableTarget(target);\n  state.queue++;\n};\nvar enablePageScroll = function enablePageScroll(target) {\n  state.queue > 0 && state.queue--;\n\n  if (state.queue <= 0) {\n    state.scroll = true;\n    scroll_lock_showLockableOverflow();\n    unfillGaps();\n  }\n\n  scroll_lock_removeScrollableTarget(target);\n};\nvar getScrollState = function getScrollState() {\n  return state.scroll;\n};\nvar clearQueueScrollLocks = function clearQueueScrollLocks() {\n  state.queue = 0;\n};\nvar scroll_lock_getTargetScrollBarWidth = function getTargetScrollBarWidth($target) {\n  var onlyExists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var currentOverflowYProperty = $target.style.overflowY;\n\n    if (onlyExists) {\n      if (!getScrollState()) {\n        $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-overflow-y-property');\n      }\n    } else {\n      $target.style.overflowY = 'scroll';\n    }\n\n    var width = scroll_lock_getCurrentTargetScrollBarWidth($target);\n    $target.style.overflowY = currentOverflowYProperty;\n    return width;\n  } else {\n    return 0;\n  }\n};\nvar scroll_lock_getCurrentTargetScrollBarWidth = function getCurrentTargetScrollBarWidth($target) {\n  if (isElement($target)) {\n    if ($target === document.body) {\n      var documentWidth = document.documentElement.clientWidth;\n      var windowWidth = window.innerWidth;\n      var currentWidth = windowWidth - documentWidth;\n      return currentWidth;\n    } else {\n      var borderLeftWidthCurrentProperty = $target.style.borderLeftWidth;\n      var borderRightWidthCurrentProperty = $target.style.borderRightWidth;\n      $target.style.borderLeftWidth = '0px';\n      $target.style.borderRightWidth = '0px';\n\n      var _currentWidth = $target.offsetWidth - $target.clientWidth;\n\n      $target.style.borderLeftWidth = borderLeftWidthCurrentProperty;\n      $target.style.borderRightWidth = borderRightWidthCurrentProperty;\n      return _currentWidth;\n    }\n  } else {\n    return 0;\n  }\n};\nvar getPageScrollBarWidth = function getPageScrollBarWidth() {\n  var onlyExists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return scroll_lock_getTargetScrollBarWidth(document.body, onlyExists);\n};\nvar getCurrentPageScrollBarWidth = function getCurrentPageScrollBarWidth() {\n  return scroll_lock_getCurrentTargetScrollBarWidth(document.body);\n};\nvar scroll_lock_addScrollableTarget = function addScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-scrollable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeScrollableTarget = function removeScrollableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-scrollable');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addScrollableSelector = function addScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors.push(selector);\n    });\n  }\n};\nvar scroll_lock_removeScrollableSelector = function removeScrollableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.scrollableSelectors = state.scrollableSelectors.filter(function (sSelector) {\n        return sSelector !== selector;\n      });\n    });\n  }\n};\nvar scroll_lock_addLockableTarget = function addLockableTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-lockable', '');\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n  }\n};\nvar scroll_lock_addLockableSelector = function addLockableSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.lockableSelectors.push(selector);\n    });\n\n    if (!getScrollState()) {\n      scroll_lock_hideLockableOverflow();\n    }\n\n    scroll_lock_addFillGapSelector(selector);\n  }\n};\nvar scroll_lock_setFillGapMethod = function setFillGapMethod(method) {\n  if (method) {\n    if (FILL_GAP_AVAILABLE_METHODS.indexOf(method) !== -1) {\n      state.fillGapMethod = method;\n      refillGaps();\n    } else {\n      var methods = FILL_GAP_AVAILABLE_METHODS.join(', ');\n      throwError(\"\\\"\".concat(method, \"\\\" method is not available!\\nAvailable fill gap methods: \").concat(methods, \".\"));\n    }\n  }\n};\nvar scroll_lock_addFillGapTarget = function addFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.setAttribute('data-scroll-lock-fill-gap', '');\n\n          if (!state.scroll) {\n            scroll_lock_fillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_removeFillGapTarget = function removeFillGapTarget(target) {\n  if (target) {\n    var targets = argumentAsArray(target);\n    targets.map(function ($targets) {\n      eachNode($targets, function ($target) {\n        if (isElement($target)) {\n          $target.removeAttribute('data-scroll-lock-fill-gap');\n\n          if (!state.scroll) {\n            scroll_lock_unfillGapTarget($target);\n          }\n        } else {\n          throwError(\"\\\"\".concat($target, \"\\\" is not a Element.\"));\n        }\n      });\n    });\n  }\n};\nvar scroll_lock_addFillGapSelector = function addFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      if (state.fillGapSelectors.indexOf(selector) === -1) {\n        state.fillGapSelectors.push(selector);\n\n        if (!state.scroll) {\n          scroll_lock_fillGapSelector(selector);\n        }\n      }\n    });\n  }\n};\nvar scroll_lock_removeFillGapSelector = function removeFillGapSelector(selector) {\n  if (selector) {\n    var selectors = argumentAsArray(selector);\n    selectors.map(function (selector) {\n      state.fillGapSelectors = state.fillGapSelectors.filter(function (fSelector) {\n        return fSelector !== selector;\n      });\n\n      if (!state.scroll) {\n        scroll_lock_unfillGapSelector(selector);\n      }\n    });\n  }\n};\nvar refillGaps = function refillGaps() {\n  if (!state.scroll) {\n    fillGaps();\n  }\n};\n\nvar scroll_lock_hideLockableOverflow = function hideLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_hideLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_showLockableOverflow = function showLockableOverflow() {\n  var selector = arrayAsSelector(state.lockableSelectors);\n  scroll_lock_showLockableOverflowSelector(selector);\n};\n\nvar scroll_lock_hideLockableOverflowSelector = function hideLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_hideLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_showLockableOverflowSelector = function showLockableOverflowSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_showLockableOverflowTarget($target);\n  });\n};\n\nvar scroll_lock_hideLockableOverflowTarget = function hideLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') !== 'true') {\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-saved-overflow-y-property', computedStyle.overflowY);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-property', $target.style.overflow);\n    $target.setAttribute('data-scroll-lock-saved-inline-overflow-y-property', $target.style.overflowY);\n    $target.style.overflow = 'hidden';\n    $target.setAttribute('data-scroll-lock-locked', 'true');\n  }\n};\n\nvar scroll_lock_showLockableOverflowTarget = function showLockableOverflowTarget($target) {\n  if (isElement($target) && $target.getAttribute('data-scroll-lock-locked') === 'true') {\n    $target.style.overflow = $target.getAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.style.overflowY = $target.getAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-saved-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-property');\n    $target.removeAttribute('data-scroll-lock-saved-inline-overflow-y-property');\n    $target.removeAttribute('data-scroll-lock-locked');\n  }\n};\n\nvar fillGaps = function fillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_fillGapSelector(selector);\n  });\n};\n\nvar unfillGaps = function unfillGaps() {\n  state.fillGapSelectors.map(function (selector) {\n    scroll_lock_unfillGapSelector(selector);\n  });\n};\n\nvar scroll_lock_fillGapSelector = function fillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  var isLockable = state.lockableSelectors.indexOf(selector) !== -1;\n  eachNode($targets, function ($target) {\n    scroll_lock_fillGapTarget($target, isLockable);\n  });\n};\n\nvar scroll_lock_fillGapTarget = function fillGapTarget($target) {\n  var isLockable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isElement($target)) {\n    var scrollBarWidth;\n\n    if ($target.getAttribute('data-scroll-lock-lockable') === '' || isLockable) {\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($target, true);\n    } else {\n      var $lockableParent = findParentBySelector($target, arrayAsSelector(state.lockableSelectors));\n      scrollBarWidth = scroll_lock_getTargetScrollBarWidth($lockableParent, true);\n    }\n\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      scroll_lock_unfillGapTarget($target);\n    }\n\n    var computedStyle = window.getComputedStyle($target);\n    $target.setAttribute('data-scroll-lock-filled-gap', 'true');\n    $target.setAttribute('data-scroll-lock-current-fill-gap-method', state.fillGapMethod);\n\n    if (state.fillGapMethod === 'margin') {\n      var currentMargin = parseFloat(computedStyle.marginRight);\n      $target.style.marginRight = \"\".concat(currentMargin + scrollBarWidth, \"px\");\n    } else if (state.fillGapMethod === 'width') {\n      $target.style.width = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'max-width') {\n      $target.style.maxWidth = \"calc(100% - \".concat(scrollBarWidth, \"px)\");\n    } else if (state.fillGapMethod === 'padding') {\n      var currentPadding = parseFloat(computedStyle.paddingRight);\n      $target.style.paddingRight = \"\".concat(currentPadding + scrollBarWidth, \"px\");\n    }\n  }\n};\n\nvar scroll_lock_unfillGapSelector = function unfillGapSelector(selector) {\n  var $targets = document.querySelectorAll(selector);\n  eachNode($targets, function ($target) {\n    scroll_lock_unfillGapTarget($target);\n  });\n};\n\nvar scroll_lock_unfillGapTarget = function unfillGapTarget($target) {\n  if (isElement($target)) {\n    if ($target.getAttribute('data-scroll-lock-filled-gap') === 'true') {\n      var currentFillGapMethod = $target.getAttribute('data-scroll-lock-current-fill-gap-method');\n      $target.removeAttribute('data-scroll-lock-filled-gap');\n      $target.removeAttribute('data-scroll-lock-current-fill-gap-method');\n\n      if (currentFillGapMethod === 'margin') {\n        $target.style.marginRight = \"\";\n      } else if (currentFillGapMethod === 'width') {\n        $target.style.width = \"\";\n      } else if (currentFillGapMethod === 'max-width') {\n        $target.style.maxWidth = \"\";\n      } else if (currentFillGapMethod === 'padding') {\n        $target.style.paddingRight = \"\";\n      }\n    }\n  }\n};\n\nvar onResize = function onResize(e) {\n  refillGaps();\n};\n\nvar onTouchStart = function onTouchStart(e) {\n  if (!state.scroll) {\n    state.startTouchY = e.touches[0].clientY;\n    state.startTouchX = e.touches[0].clientX;\n  }\n};\n\nvar scroll_lock_onTouchMove = function onTouchMove(e) {\n  if (!state.scroll) {\n    var startTouchY = state.startTouchY,\n        startTouchX = state.startTouchX;\n    var currentClientY = e.touches[0].clientY;\n    var currentClientX = e.touches[0].clientX;\n\n    if (e.touches.length < 2) {\n      var selector = arrayAsSelector(state.scrollableSelectors);\n      var direction = {\n        up: startTouchY < currentClientY,\n        down: startTouchY > currentClientY,\n        left: startTouchX < currentClientX,\n        right: startTouchX > currentClientX\n      };\n      var directionWithOffset = {\n        up: startTouchY + TOUCH_DIRECTION_DETECT_OFFSET < currentClientY,\n        down: startTouchY - TOUCH_DIRECTION_DETECT_OFFSET > currentClientY,\n        left: startTouchX + TOUCH_DIRECTION_DETECT_OFFSET < currentClientX,\n        right: startTouchX - TOUCH_DIRECTION_DETECT_OFFSET > currentClientX\n      };\n\n      var handle = function handle($el) {\n        var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if ($el) {\n          var parentScrollableEl = findParentBySelector($el, selector, false);\n\n          if (elementIsInputRange($el)) {\n            return false;\n          }\n\n          if (skip || elementIsScrollableField($el) && findParentBySelector($el, selector) || elementHasSelector($el, selector)) {\n            var prevent = false;\n\n            if (elementScrollLeftOnStart($el) && elementScrollLeftOnEnd($el)) {\n              if (direction.up && elementScrollTopOnStart($el) || direction.down && elementScrollTopOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (elementScrollTopOnStart($el) && elementScrollTopOnEnd($el)) {\n              if (direction.left && elementScrollLeftOnStart($el) || direction.right && elementScrollLeftOnEnd($el)) {\n                prevent = true;\n              }\n            } else if (directionWithOffset.up && elementScrollTopOnStart($el) || directionWithOffset.down && elementScrollTopOnEnd($el) || directionWithOffset.left && elementScrollLeftOnStart($el) || directionWithOffset.right && elementScrollLeftOnEnd($el)) {\n              prevent = true;\n            }\n\n            if (prevent) {\n              if (parentScrollableEl) {\n                handle(parentScrollableEl, true);\n              } else {\n                if (e.cancelable) {\n                  e.preventDefault();\n                }\n              }\n            }\n          } else {\n            handle(parentScrollableEl);\n          }\n        } else {\n          if (e.cancelable) {\n            e.preventDefault();\n          }\n        }\n      };\n\n      handle(e.target);\n    }\n  }\n};\n\nvar onTouchEnd = function onTouchEnd(e) {\n  if (!state.scroll) {\n    state.startTouchY = 0;\n    state.startTouchX = 0;\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('resize', onResize);\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('touchstart', onTouchStart);\n  document.addEventListener('touchmove', scroll_lock_onTouchMove, {\n    passive: false\n  });\n  document.addEventListener('touchend', onTouchEnd);\n}\n\nvar deprecatedMethods = {\n  hide: function hide(target) {\n    throwError('\"hide\" is deprecated! Use \"disablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget');\n    disablePageScroll(target);\n  },\n  show: function show(target) {\n    throwError('\"show\" is deprecated! Use \"enablePageScroll\" instead. \\n https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget');\n    enablePageScroll(target);\n  },\n  toggle: function toggle(target) {\n    throwError('\"toggle\" is deprecated! Do not use it.');\n\n    if (getScrollState()) {\n      disablePageScroll();\n    } else {\n      enablePageScroll(target);\n    }\n  },\n  getState: function getState() {\n    throwError('\"getState\" is deprecated! Use \"getScrollState\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getscrollstate');\n    return getScrollState();\n  },\n  getWidth: function getWidth() {\n    throwError('\"getWidth\" is deprecated! Use \"getPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth');\n    return getPageScrollBarWidth();\n  },\n  getCurrentWidth: function getCurrentWidth() {\n    throwError('\"getCurrentWidth\" is deprecated! Use \"getCurrentPageScrollBarWidth\" instead. \\n https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth');\n    return getCurrentPageScrollBarWidth();\n  },\n  setScrollableTargets: function setScrollableTargets(target) {\n    throwError('\"setScrollableTargets\" is deprecated! Use \"addScrollableTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget');\n    scroll_lock_addScrollableTarget(target);\n  },\n  setFillGapSelectors: function setFillGapSelectors(selector) {\n    throwError('\"setFillGapSelectors\" is deprecated! Use \"addFillGapSelector\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector');\n    scroll_lock_addFillGapSelector(selector);\n  },\n  setFillGapTargets: function setFillGapTargets(target) {\n    throwError('\"setFillGapTargets\" is deprecated! Use \"addFillGapTarget\" instead. \\n https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget');\n    scroll_lock_addFillGapTarget(target);\n  },\n  clearQueue: function clearQueue() {\n    throwError('\"clearQueue\" is deprecated! Use \"clearQueueScrollLocks\" instead. \\n https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks');\n    clearQueueScrollLocks();\n  }\n};\n\nvar scrollLock = _objectSpread({\n  disablePageScroll: disablePageScroll,\n  enablePageScroll: enablePageScroll,\n  getScrollState: getScrollState,\n  clearQueueScrollLocks: clearQueueScrollLocks,\n  getTargetScrollBarWidth: scroll_lock_getTargetScrollBarWidth,\n  getCurrentTargetScrollBarWidth: scroll_lock_getCurrentTargetScrollBarWidth,\n  getPageScrollBarWidth: getPageScrollBarWidth,\n  getCurrentPageScrollBarWidth: getCurrentPageScrollBarWidth,\n  addScrollableSelector: scroll_lock_addScrollableSelector,\n  removeScrollableSelector: scroll_lock_removeScrollableSelector,\n  addScrollableTarget: scroll_lock_addScrollableTarget,\n  removeScrollableTarget: scroll_lock_removeScrollableTarget,\n  addLockableSelector: scroll_lock_addLockableSelector,\n  addLockableTarget: scroll_lock_addLockableTarget,\n  addFillGapSelector: scroll_lock_addFillGapSelector,\n  removeFillGapSelector: scroll_lock_removeFillGapSelector,\n  addFillGapTarget: scroll_lock_addFillGapTarget,\n  removeFillGapTarget: scroll_lock_removeFillGapTarget,\n  setFillGapMethod: scroll_lock_setFillGapMethod,\n  refillGaps: refillGaps,\n  _state: state\n}, deprecatedMethods);\n\n/* harmony default export */ var scroll_lock = __webpack_exports__[\"default\"] = (scrollLock);\n\n/***/ })\n/******/ ])[\"default\"];\n});","/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  // 🔒 Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  // 🔑 Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests —\n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  // 🔒 Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  // 🔑 Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n//# sourceMappingURL=tippy.esm.js.map\n"],"sourceRoot":""}